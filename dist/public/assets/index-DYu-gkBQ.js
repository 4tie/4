function wN(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function Ap(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var vf={exports:{}},Na={},xf={exports:{}},ot={};var iy;function SN(){if(iy)return ot;iy=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),x=Symbol.iterator;function b(T){return T===null||typeof T!="object"?null:(T=x&&T[x]||T["@@iterator"],typeof T=="function"?T:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,w={};function N(T,_,O){this.props=T,this.context=_,this.refs=w,this.updater=O||k}N.prototype.isReactComponent={},N.prototype.setState=function(T,_){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,_,"setState")},N.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function j(){}j.prototype=N.prototype;function P(T,_,O){this.props=T,this.context=_,this.refs=w,this.updater=O||k}var A=P.prototype=new j;A.constructor=P,C(A,N.prototype),A.isPureReactComponent=!0;var L=Array.isArray,F=Object.prototype.hasOwnProperty,H={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function J(T,_,O){var X,D={},M=null,B=null;if(_!=null)for(X in _.ref!==void 0&&(B=_.ref),_.key!==void 0&&(M=""+_.key),_)F.call(_,X)&&!I.hasOwnProperty(X)&&(D[X]=_[X]);var re=arguments.length-2;if(re===1)D.children=O;else if(1<re){for(var fe=Array(re),ye=0;ye<re;ye++)fe[ye]=arguments[ye+2];D.children=fe}if(T&&T.defaultProps)for(X in re=T.defaultProps,re)D[X]===void 0&&(D[X]=re[X]);return{$$typeof:e,type:T,key:M,ref:B,props:D,_owner:H.current}}function se(T,_){return{$$typeof:e,type:T.type,key:_,ref:T.ref,props:T.props,_owner:T._owner}}function ae(T){return typeof T=="object"&&T!==null&&T.$$typeof===e}function K(T){var _={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(O){return _[O]})}var ee=/\/+/g;function de(T,_){return typeof T=="object"&&T!==null&&T.key!=null?K(""+T.key):_.toString(36)}function le(T,_,O,X,D){var M=typeof T;(M==="undefined"||M==="boolean")&&(T=null);var B=!1;if(T===null)B=!0;else switch(M){case"string":case"number":B=!0;break;case"object":switch(T.$$typeof){case e:case t:B=!0}}if(B)return B=T,D=D(B),T=X===""?"."+de(B,0):X,L(D)?(O="",T!=null&&(O=T.replace(ee,"$&/")+"/"),le(D,_,O,"",function(ye){return ye})):D!=null&&(ae(D)&&(D=se(D,O+(!D.key||B&&B.key===D.key?"":(""+D.key).replace(ee,"$&/")+"/")+T)),_.push(D)),1;if(B=0,X=X===""?".":X+":",L(T))for(var re=0;re<T.length;re++){M=T[re];var fe=X+de(M,re);B+=le(M,_,O,fe,D)}else if(fe=b(T),typeof fe=="function")for(T=fe.call(T),re=0;!(M=T.next()).done;)M=M.value,fe=X+de(M,re++),B+=le(M,_,O,fe,D);else if(M==="object")throw _=String(T),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.");return B}function ue(T,_,O){if(T==null)return T;var X=[],D=0;return le(T,X,"","",function(M){return _.call(O,M,D++)}),X}function q(T){if(T._status===-1){var _=T._result;_=_(),_.then(function(O){(T._status===0||T._status===-1)&&(T._status=1,T._result=O)},function(O){(T._status===0||T._status===-1)&&(T._status=2,T._result=O)}),T._status===-1&&(T._status=0,T._result=_)}if(T._status===1)return T._result.default;throw T._result}var Q={current:null},$={transition:null},ne={ReactCurrentDispatcher:Q,ReactCurrentBatchConfig:$,ReactCurrentOwner:H};function G(){throw Error("act(...) is not supported in production builds of React.")}return ot.Children={map:ue,forEach:function(T,_,O){ue(T,function(){_.apply(this,arguments)},O)},count:function(T){var _=0;return ue(T,function(){_++}),_},toArray:function(T){return ue(T,function(_){return _})||[]},only:function(T){if(!ae(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},ot.Component=N,ot.Fragment=n,ot.Profiler=o,ot.PureComponent=P,ot.StrictMode=i,ot.Suspense=m,ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,ot.act=G,ot.cloneElement=function(T,_,O){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var X=C({},T.props),D=T.key,M=T.ref,B=T._owner;if(_!=null){if(_.ref!==void 0&&(M=_.ref,B=H.current),_.key!==void 0&&(D=""+_.key),T.type&&T.type.defaultProps)var re=T.type.defaultProps;for(fe in _)F.call(_,fe)&&!I.hasOwnProperty(fe)&&(X[fe]=_[fe]===void 0&&re!==void 0?re[fe]:_[fe])}var fe=arguments.length-2;if(fe===1)X.children=O;else if(1<fe){re=Array(fe);for(var ye=0;ye<fe;ye++)re[ye]=arguments[ye+2];X.children=re}return{$$typeof:e,type:T.type,key:D,ref:M,props:X,_owner:B}},ot.createContext=function(T){return T={$$typeof:d,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:l,_context:T},T.Consumer=T},ot.createElement=J,ot.createFactory=function(T){var _=J.bind(null,T);return _.type=T,_},ot.createRef=function(){return{current:null}},ot.forwardRef=function(T){return{$$typeof:f,render:T}},ot.isValidElement=ae,ot.lazy=function(T){return{$$typeof:h,_payload:{_status:-1,_result:T},_init:q}},ot.memo=function(T,_){return{$$typeof:g,type:T,compare:_===void 0?null:_}},ot.startTransition=function(T){var _=$.transition;$.transition={};try{T()}finally{$.transition=_}},ot.unstable_act=G,ot.useCallback=function(T,_){return Q.current.useCallback(T,_)},ot.useContext=function(T){return Q.current.useContext(T)},ot.useDebugValue=function(){},ot.useDeferredValue=function(T){return Q.current.useDeferredValue(T)},ot.useEffect=function(T,_){return Q.current.useEffect(T,_)},ot.useId=function(){return Q.current.useId()},ot.useImperativeHandle=function(T,_,O){return Q.current.useImperativeHandle(T,_,O)},ot.useInsertionEffect=function(T,_){return Q.current.useInsertionEffect(T,_)},ot.useLayoutEffect=function(T,_){return Q.current.useLayoutEffect(T,_)},ot.useMemo=function(T,_){return Q.current.useMemo(T,_)},ot.useReducer=function(T,_,O){return Q.current.useReducer(T,_,O)},ot.useRef=function(T){return Q.current.useRef(T)},ot.useState=function(T){return Q.current.useState(T)},ot.useSyncExternalStore=function(T,_,O){return Q.current.useSyncExternalStore(T,_,O)},ot.useTransition=function(){return Q.current.useTransition()},ot.version="18.3.1",ot}var oy;function Fo(){return oy||(oy=1,xf.exports=SN()),xf.exports}var ay;function NN(){if(ay)return Na;ay=1;var e=Fo(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function d(f,m,g){var h,x={},b=null,k=null;g!==void 0&&(b=""+g),m.key!==void 0&&(b=""+m.key),m.ref!==void 0&&(k=m.ref);for(h in m)i.call(m,h)&&!l.hasOwnProperty(h)&&(x[h]=m[h]);if(f&&f.defaultProps)for(h in m=f.defaultProps,m)x[h]===void 0&&(x[h]=m[h]);return{$$typeof:t,type:f,key:b,ref:k,props:x,_owner:o.current}}return Na.Fragment=n,Na.jsx=d,Na.jsxs=d,Na}var ly;function kN(){return ly||(ly=1,vf.exports=NN()),vf.exports}var c=kN(),bc={},bf={exports:{}},$n={},wf={exports:{}},Sf={};var cy;function CN(){return cy||(cy=1,(function(e){function t($,ne){var G=$.length;$.push(ne);e:for(;0<G;){var T=G-1>>>1,_=$[T];if(0<o(_,ne))$[T]=ne,$[G]=_,G=T;else break e}}function n($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var ne=$[0],G=$.pop();if(G!==ne){$[0]=G;e:for(var T=0,_=$.length,O=_>>>1;T<O;){var X=2*(T+1)-1,D=$[X],M=X+1,B=$[M];if(0>o(D,G))M<_&&0>o(B,D)?($[T]=B,$[M]=G,T=M):($[T]=D,$[X]=G,T=X);else if(M<_&&0>o(B,G))$[T]=B,$[M]=G,T=M;else break e}}return ne}function o($,ne){var G=$.sortIndex-ne.sortIndex;return G!==0?G:$.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var d=Date,f=d.now();e.unstable_now=function(){return d.now()-f}}var m=[],g=[],h=1,x=null,b=3,k=!1,C=!1,w=!1,N=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A($){for(var ne=n(g);ne!==null;){if(ne.callback===null)i(g);else if(ne.startTime<=$)i(g),ne.sortIndex=ne.expirationTime,t(m,ne);else break;ne=n(g)}}function L($){if(w=!1,A($),!C)if(n(m)!==null)C=!0,q(F);else{var ne=n(g);ne!==null&&Q(L,ne.startTime-$)}}function F($,ne){C=!1,w&&(w=!1,j(J),J=-1),k=!0;var G=b;try{for(A(ne),x=n(m);x!==null&&(!(x.expirationTime>ne)||$&&!K());){var T=x.callback;if(typeof T=="function"){x.callback=null,b=x.priorityLevel;var _=T(x.expirationTime<=ne);ne=e.unstable_now(),typeof _=="function"?x.callback=_:x===n(m)&&i(m),A(ne)}else i(m);x=n(m)}if(x!==null)var O=!0;else{var X=n(g);X!==null&&Q(L,X.startTime-ne),O=!1}return O}finally{x=null,b=G,k=!1}}var H=!1,I=null,J=-1,se=5,ae=-1;function K(){return!(e.unstable_now()-ae<se)}function ee(){if(I!==null){var $=e.unstable_now();ae=$;var ne=!0;try{ne=I(!0,$)}finally{ne?de():(H=!1,I=null)}}else H=!1}var de;if(typeof P=="function")de=function(){P(ee)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ue=le.port2;le.port1.onmessage=ee,de=function(){ue.postMessage(null)}}else de=function(){N(ee,0)};function q($){I=$,H||(H=!0,de())}function Q($,ne){J=N(function(){$(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){C||k||(C=!0,q(F))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(m)},e.unstable_next=function($){switch(b){case 1:case 2:case 3:var ne=3;break;default:ne=b}var G=b;b=ne;try{return $()}finally{b=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,ne){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var G=b;b=$;try{return ne()}finally{b=G}},e.unstable_scheduleCallback=function($,ne,G){var T=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?T+G:T):G=T,$){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=G+_,$={id:h++,callback:ne,priorityLevel:$,startTime:G,expirationTime:_,sortIndex:-1},G>T?($.sortIndex=G,t(g,$),n(m)===null&&$===n(g)&&(w?(j(J),J=-1):w=!0,Q(L,G-T))):($.sortIndex=_,t(m,$),C||k||(C=!0,q(F))),$},e.unstable_shouldYield=K,e.unstable_wrapCallback=function($){var ne=b;return function(){var G=b;b=ne;try{return $.apply(this,arguments)}finally{b=G}}}})(Sf)),Sf}var uy;function jN(){return uy||(uy=1,wf.exports=CN()),wf.exports}var dy;function _N(){if(dy)return $n;dy=1;var e=Fo(),t=jN();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){d(r,s),d(r+"Capture",s)}function d(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},x={};function b(r){return m.call(x,r)?!0:m.call(h,r)?!1:g.test(r)?x[r]=!0:(h[r]=!0,!1)}function k(r,s,a,u){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return u?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function C(r,s,a,u){if(s===null||typeof s>"u"||k(r,s,a,u))return!0;if(u)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function w(r,s,a,u,p,v,S){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=u,this.attributeNamespace=p,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=v,this.removeEmptyString=S}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){N[r]=new w(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];N[s]=new w(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){N[r]=new w(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){N[r]=new w(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){N[r]=new w(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){N[r]=new w(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){N[r]=new w(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){N[r]=new w(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){N[r]=new w(r,5,!1,r.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function P(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(j,P);N[s]=new w(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(j,P);N[s]=new w(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(j,P);N[s]=new w(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){N[r]=new w(r,1,!1,r.toLowerCase(),null,!1,!1)}),N.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){N[r]=new w(r,1,!1,r.toLowerCase(),null,!0,!0)});function A(r,s,a,u){var p=N.hasOwnProperty(s)?N[s]:null;(p!==null?p.type!==0:u||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(C(s,a,p,u)&&(a=null),u||p===null?b(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):p.mustUseProperty?r[p.propertyName]=a===null?p.type===3?!1:"":a:(s=p.attributeName,u=p.attributeNamespace,a===null?r.removeAttribute(s):(p=p.type,a=p===3||p===4&&a===!0?"":""+a,u?r.setAttributeNS(u,s,a):r.setAttribute(s,a))))}var L=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),H=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),ae=Symbol.for("react.provider"),K=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),Q=Symbol.for("react.offscreen"),$=Symbol.iterator;function ne(r){return r===null||typeof r!="object"?null:(r=$&&r[$]||r["@@iterator"],typeof r=="function"?r:null)}var G=Object.assign,T;function _(r){if(T===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);T=s&&s[1]||""}return`
`+T+r}var O=!1;function X(r,s){if(!r||O)return"";O=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(ie){var u=ie}Reflect.construct(r,[],s)}else{try{s.call()}catch(ie){u=ie}r.call(s.prototype)}else{try{throw Error()}catch(ie){u=ie}r()}}catch(ie){if(ie&&u&&typeof ie.stack=="string"){for(var p=ie.stack.split(`
`),v=u.stack.split(`
`),S=p.length-1,R=v.length-1;1<=S&&0<=R&&p[S]!==v[R];)R--;for(;1<=S&&0<=R;S--,R--)if(p[S]!==v[R]){if(S!==1||R!==1)do if(S--,R--,0>R||p[S]!==v[R]){var z=`
`+p[S].replace(" at new "," at ");return r.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",r.displayName)),z}while(1<=S&&0<=R);break}}}finally{O=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?_(r):""}function D(r){switch(r.tag){case 5:return _(r.type);case 16:return _("Lazy");case 13:return _("Suspense");case 19:return _("SuspenseList");case 0:case 2:case 15:return r=X(r.type,!1),r;case 11:return r=X(r.type.render,!1),r;case 1:return r=X(r.type,!0),r;default:return""}}function M(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case I:return"Fragment";case H:return"Portal";case se:return"Profiler";case J:return"StrictMode";case de:return"Suspense";case le:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case K:return(r.displayName||"Context")+".Consumer";case ae:return(r._context.displayName||"Context")+".Provider";case ee:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case ue:return s=r.displayName||null,s!==null?s:M(r.type)||"Memo";case q:s=r._payload,r=r._init;try{return M(r(s))}catch{}}return null}function B(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M(s);case 8:return s===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function re(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function fe(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ye(r){var s=fe(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,v=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(S){u=""+S,v.call(this,S)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ze(r){r._valueTracker||(r._valueTracker=ye(r))}function Ye(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),u="";return r&&(u=fe(r)?r.checked?"true":"false":r.value),r=u,r!==a?(s.setValue(r),!0):!1}function Me(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function gt(r,s){var a=s.checked;return G({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function pt(r,s){var a=s.defaultValue==null?"":s.defaultValue,u=s.checked!=null?s.checked:s.defaultChecked;a=re(s.value!=null?s.value:a),r._wrapperState={initialChecked:u,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function vn(r,s){s=s.checked,s!=null&&A(r,"checked",s,!1)}function ce(r,s){vn(r,s);var a=re(s.value),u=s.type;if(a!=null)u==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(u==="submit"||u==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?V(r,s.type,a):s.hasOwnProperty("defaultValue")&&V(r,s.type,re(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Z(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var u=s.type;if(!(u!=="submit"&&u!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function V(r,s,a){(s!=="number"||Me(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var xe=Array.isArray;function ke(r,s,a,u){if(r=r.options,s){s={};for(var p=0;p<a.length;p++)s["$"+a[p]]=!0;for(a=0;a<r.length;a++)p=s.hasOwnProperty("$"+r[a].value),r[a].selected!==p&&(r[a].selected=p),p&&u&&(r[a].defaultSelected=!0)}else{for(a=""+re(a),s=null,p=0;p<r.length;p++){if(r[p].value===a){r[p].selected=!0,u&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function Ne(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return G({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ie(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(n(92));if(xe(a)){if(1<a.length)throw Error(n(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:re(a)}}function Xe(r,s){var a=re(s.value),u=re(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),u!=null&&(r.defaultValue=""+u)}function at(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function Tt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Et(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?Tt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Wt,qn=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,u,p){MSApp.execUnsafeLocalFunction(function(){return r(s,a,u,p)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Wt=Wt||document.createElement("div"),Wt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Wt.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Dt(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var xn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xs=["Webkit","ms","Moz","O"];Object.keys(xn).forEach(function(r){xs.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),xn[s]=xn[r]})});function bn(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||xn.hasOwnProperty(r)&&xn[r]?(""+s).trim():s+"px"}function Rn(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var u=a.indexOf("--")===0,p=bn(a,s[a],u);a==="float"&&(a="cssFloat"),u?r.setProperty(a,p):r[a]=p}}var Xr=G({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mr(r,s){if(s){if(Xr[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Jr(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bs=null;function ri(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ws=null,en=null,In=null;function U(r){if(r=la(r)){if(typeof ws!="function")throw Error(n(280));var s=r.stateNode;s&&(s=Ol(s),ws(r.stateNode,r.type,s))}}function oe(r){en?In?In.push(r):In=[r]:en=r}function pe(){if(en){var r=en,s=In;if(In=en=null,U(r),s)for(r=0;r<s.length;r++)U(s[r])}}function _e(r,s){return r(s)}function we(){}var Le=!1;function Ke(r,s,a){if(Le)return r(s,a);Le=!0;try{return _e(r,s,a)}finally{Le=!1,(en!==null||In!==null)&&(we(),pe())}}function Nt(r,s){var a=r.stateNode;if(a===null)return null;var u=Ol(a);if(u===null)return null;a=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,s,typeof a));return a}var yt=!1;if(f)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){yt=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch{yt=!1}function rr(r,s,a,u,p,v,S,R,z){var ie=Array.prototype.slice.call(arguments,3);try{s.apply(a,ie)}catch(ge){this.onError(ge)}}var tn=!1,wn=null,et=!1,Zt=null,Te={onError:function(r){tn=!0,wn=r}};function $t(r,s,a,u,p,v,S,R,z){tn=!1,wn=null,rr.apply(Te,arguments)}function Bt(r,s,a,u,p,v,S,R,z){if($t.apply(this,arguments),tn){if(tn){var ie=wn;tn=!1,wn=null}else throw Error(n(198));et||(et=!0,Zt=ie)}}function At(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Sn(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function an(r){if(At(r)!==r)throw Error(n(188))}function Mr(r){var s=r.alternate;if(!s){if(s=At(r),s===null)throw Error(n(188));return s!==r?null:r}for(var a=r,u=s;;){var p=a.return;if(p===null)break;var v=p.alternate;if(v===null){if(u=p.return,u!==null){a=u;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===a)return an(p),r;if(v===u)return an(p),s;v=v.sibling}throw Error(n(188))}if(a.return!==u.return)a=p,u=v;else{for(var S=!1,R=p.child;R;){if(R===a){S=!0,a=p,u=v;break}if(R===u){S=!0,u=p,a=v;break}R=R.sibling}if(!S){for(R=v.child;R;){if(R===a){S=!0,a=v,u=p;break}if(R===u){S=!0,u=v,a=p;break}R=R.sibling}if(!S)throw Error(n(189))}}if(a.alternate!==u)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:s}function bt(r){return r=Mr(r),r!==null?Hn(r):null}function Hn(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Hn(r);if(s!==null)return s;r=r.sibling}return null}var Ln=t.unstable_scheduleCallback,hr=t.unstable_cancelCallback,sr=t.unstable_shouldYield,gr=t.unstable_requestPaint,wt=t.unstable_now,L1=t.unstable_getCurrentPriorityLevel,Du=t.unstable_ImmediatePriority,Lm=t.unstable_UserBlockingPriority,hl=t.unstable_NormalPriority,O1=t.unstable_LowPriority,Om=t.unstable_IdlePriority,gl=null,Dr=null;function M1(r){if(Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(gl,r,void 0,(r.current.flags&128)===128)}catch{}}var yr=Math.clz32?Math.clz32:z1,D1=Math.log,F1=Math.LN2;function z1(r){return r>>>=0,r===0?32:31-(D1(r)/F1|0)|0}var yl=64,vl=4194304;function Wo(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function xl(r,s){var a=r.pendingLanes;if(a===0)return 0;var u=0,p=r.suspendedLanes,v=r.pingedLanes,S=a&268435455;if(S!==0){var R=S&~p;R!==0?u=Wo(R):(v&=S,v!==0&&(u=Wo(v)))}else S=a&~p,S!==0?u=Wo(S):v!==0&&(u=Wo(v));if(u===0)return 0;if(s!==0&&s!==u&&(s&p)===0&&(p=u&-u,v=s&-s,p>=v||p===16&&(v&4194240)!==0))return s;if((u&4)!==0&&(u|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=u;0<s;)a=31-yr(s),p=1<<a,u|=r[a],s&=~p;return u}function $1(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B1(r,s){for(var a=r.suspendedLanes,u=r.pingedLanes,p=r.expirationTimes,v=r.pendingLanes;0<v;){var S=31-yr(v),R=1<<S,z=p[S];z===-1?((R&a)===0||(R&u)!==0)&&(p[S]=$1(R,s)):z<=s&&(r.expiredLanes|=R),v&=~R}}function Fu(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Mm(){var r=yl;return yl<<=1,(yl&4194240)===0&&(yl=64),r}function zu(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function qo(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-yr(s),r[s]=a}function V1(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var u=r.eventTimes;for(r=r.expirationTimes;0<a;){var p=31-yr(a),v=1<<p;s[p]=0,u[p]=-1,r[p]=-1,a&=~v}}function $u(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var u=31-yr(a),p=1<<u;p&s|r[u]&s&&(r[u]|=s),a&=~p}}var vt=0;function Dm(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Fm,Bu,zm,$m,Bm,Vu=!1,bl=[],Ss=null,Ns=null,ks=null,Ho=new Map,Qo=new Map,Cs=[],U1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vm(r,s){switch(r){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":Ho.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qo.delete(s.pointerId)}}function Ko(r,s,a,u,p,v){return r===null||r.nativeEvent!==v?(r={blockedOn:s,domEventName:a,eventSystemFlags:u,nativeEvent:v,targetContainers:[p]},s!==null&&(s=la(s),s!==null&&Bu(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function W1(r,s,a,u,p){switch(s){case"focusin":return Ss=Ko(Ss,r,s,a,u,p),!0;case"dragenter":return Ns=Ko(Ns,r,s,a,u,p),!0;case"mouseover":return ks=Ko(ks,r,s,a,u,p),!0;case"pointerover":var v=p.pointerId;return Ho.set(v,Ko(Ho.get(v)||null,r,s,a,u,p)),!0;case"gotpointercapture":return v=p.pointerId,Qo.set(v,Ko(Qo.get(v)||null,r,s,a,u,p)),!0}return!1}function Um(r){var s=si(r.target);if(s!==null){var a=At(s);if(a!==null){if(s=a.tag,s===13){if(s=Sn(a),s!==null){r.blockedOn=s,Bm(r.priority,function(){zm(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function wl(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Wu(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var u=new a.constructor(a.type,a);bs=u,a.target.dispatchEvent(u),bs=null}else return s=la(a),s!==null&&Bu(s),r.blockedOn=a,!1;s.shift()}return!0}function Wm(r,s,a){wl(r)&&a.delete(s)}function q1(){Vu=!1,Ss!==null&&wl(Ss)&&(Ss=null),Ns!==null&&wl(Ns)&&(Ns=null),ks!==null&&wl(ks)&&(ks=null),Ho.forEach(Wm),Qo.forEach(Wm)}function Zo(r,s){r.blockedOn===s&&(r.blockedOn=null,Vu||(Vu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,q1)))}function Go(r){function s(p){return Zo(p,r)}if(0<bl.length){Zo(bl[0],r);for(var a=1;a<bl.length;a++){var u=bl[a];u.blockedOn===r&&(u.blockedOn=null)}}for(Ss!==null&&Zo(Ss,r),Ns!==null&&Zo(Ns,r),ks!==null&&Zo(ks,r),Ho.forEach(s),Qo.forEach(s),a=0;a<Cs.length;a++)u=Cs[a],u.blockedOn===r&&(u.blockedOn=null);for(;0<Cs.length&&(a=Cs[0],a.blockedOn===null);)Um(a),a.blockedOn===null&&Cs.shift()}var Di=L.ReactCurrentBatchConfig,Sl=!0;function H1(r,s,a,u){var p=vt,v=Di.transition;Di.transition=null;try{vt=1,Uu(r,s,a,u)}finally{vt=p,Di.transition=v}}function Q1(r,s,a,u){var p=vt,v=Di.transition;Di.transition=null;try{vt=4,Uu(r,s,a,u)}finally{vt=p,Di.transition=v}}function Uu(r,s,a,u){if(Sl){var p=Wu(r,s,a,u);if(p===null)ad(r,s,u,Nl,a),Vm(r,u);else if(W1(p,r,s,a,u))u.stopPropagation();else if(Vm(r,u),s&4&&-1<U1.indexOf(r)){for(;p!==null;){var v=la(p);if(v!==null&&Fm(v),v=Wu(r,s,a,u),v===null&&ad(r,s,u,Nl,a),v===p)break;p=v}p!==null&&u.stopPropagation()}else ad(r,s,u,null,a)}}var Nl=null;function Wu(r,s,a,u){if(Nl=null,r=ri(u),r=si(r),r!==null)if(s=At(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Sn(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Nl=r,null}function qm(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(L1()){case Du:return 1;case Lm:return 4;case hl:case O1:return 16;case Om:return 536870912;default:return 16}default:return 16}}var js=null,qu=null,kl=null;function Hm(){if(kl)return kl;var r,s=qu,a=s.length,u,p="value"in js?js.value:js.textContent,v=p.length;for(r=0;r<a&&s[r]===p[r];r++);var S=a-r;for(u=1;u<=S&&s[a-u]===p[v-u];u++);return kl=p.slice(r,1<u?1-u:void 0)}function Cl(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function jl(){return!0}function Qm(){return!1}function Qn(r){function s(a,u,p,v,S){this._reactName=a,this._targetInst=p,this.type=u,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(a=r[R],this[R]=a?a(v):v[R]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?jl:Qm,this.isPropagationStopped=Qm,this}return G(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=jl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=jl)},persist:function(){},isPersistent:jl}),s}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hu=Qn(Fi),Yo=G({},Fi,{view:0,detail:0}),K1=Qn(Yo),Qu,Ku,Xo,_l=G({},Yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gu,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Xo&&(Xo&&r.type==="mousemove"?(Qu=r.screenX-Xo.screenX,Ku=r.screenY-Xo.screenY):Ku=Qu=0,Xo=r),Qu)},movementY:function(r){return"movementY"in r?r.movementY:Ku}}),Km=Qn(_l),Z1=G({},_l,{dataTransfer:0}),G1=Qn(Z1),Y1=G({},Yo,{relatedTarget:0}),Zu=Qn(Y1),X1=G({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),J1=Qn(X1),eS=G({},Fi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),tS=Qn(eS),nS=G({},Fi,{data:0}),Zm=Qn(nS),rS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oS(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=iS[r])?!!s[r]:!1}function Gu(){return oS}var aS=G({},Yo,{key:function(r){if(r.key){var s=rS[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Cl(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?sS[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gu,charCode:function(r){return r.type==="keypress"?Cl(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Cl(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),lS=Qn(aS),cS=G({},_l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gm=Qn(cS),uS=G({},Yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gu}),dS=Qn(uS),fS=G({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),pS=Qn(fS),mS=G({},_l,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),hS=Qn(mS),gS=[9,13,27,32],Yu=f&&"CompositionEvent"in window,Jo=null;f&&"documentMode"in document&&(Jo=document.documentMode);var yS=f&&"TextEvent"in window&&!Jo,Ym=f&&(!Yu||Jo&&8<Jo&&11>=Jo),Xm=" ",Jm=!1;function eh(r,s){switch(r){case"keyup":return gS.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function th(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var zi=!1;function vS(r,s){switch(r){case"compositionend":return th(s);case"keypress":return s.which!==32?null:(Jm=!0,Xm);case"textInput":return r=s.data,r===Xm&&Jm?null:r;default:return null}}function xS(r,s){if(zi)return r==="compositionend"||!Yu&&eh(r,s)?(r=Hm(),kl=qu=js=null,zi=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ym&&s.locale!=="ko"?null:s.data;default:return null}}var bS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!bS[r.type]:s==="textarea"}function rh(r,s,a,u){oe(u),s=Rl(s,"onChange"),0<s.length&&(a=new Hu("onChange","change",null,a,u),r.push({event:a,listeners:s}))}var ea=null,ta=null;function wS(r){wh(r,0)}function El(r){var s=Wi(r);if(Ye(s))return r}function SS(r,s){if(r==="change")return s}var sh=!1;if(f){var Xu;if(f){var Ju="oninput"in document;if(!Ju){var ih=document.createElement("div");ih.setAttribute("oninput","return;"),Ju=typeof ih.oninput=="function"}Xu=Ju}else Xu=!1;sh=Xu&&(!document.documentMode||9<document.documentMode)}function oh(){ea&&(ea.detachEvent("onpropertychange",ah),ta=ea=null)}function ah(r){if(r.propertyName==="value"&&El(ta)){var s=[];rh(s,ta,r,ri(r)),Ke(wS,s)}}function NS(r,s,a){r==="focusin"?(oh(),ea=s,ta=a,ea.attachEvent("onpropertychange",ah)):r==="focusout"&&oh()}function kS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return El(ta)}function CS(r,s){if(r==="click")return El(s)}function jS(r,s){if(r==="input"||r==="change")return El(s)}function _S(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var vr=typeof Object.is=="function"?Object.is:_S;function na(r,s){if(vr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),u=Object.keys(s);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var p=a[u];if(!m.call(s,p)||!vr(r[p],s[p]))return!1}return!0}function lh(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ch(r,s){var a=lh(r);r=0;for(var u;a;){if(a.nodeType===3){if(u=r+a.textContent.length,r<=s&&u>=s)return{node:a,offset:s-r};r=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=lh(a)}}function uh(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?uh(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function dh(){for(var r=window,s=Me();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Me(r.document)}return s}function ed(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function ES(r){var s=dh(),a=r.focusedElem,u=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&uh(a.ownerDocument.documentElement,a)){if(u!==null&&ed(a)){if(s=u.start,r=u.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=a.textContent.length,v=Math.min(u.start,p);u=u.end===void 0?v:Math.min(u.end,p),!r.extend&&v>u&&(p=u,u=v,v=p),p=ch(a,v);var S=ch(a,u);p&&S&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==S.node||r.focusOffset!==S.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),v>u?(r.addRange(s),r.extend(S.node,S.offset)):(s.setEnd(S.node,S.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var PS=f&&"documentMode"in document&&11>=document.documentMode,$i=null,td=null,ra=null,nd=!1;function fh(r,s,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;nd||$i==null||$i!==Me(u)||(u=$i,"selectionStart"in u&&ed(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ra&&na(ra,u)||(ra=u,u=Rl(td,"onSelect"),0<u.length&&(s=new Hu("onSelect","select",null,s,a),r.push({event:s,listeners:u}),s.target=$i)))}function Pl(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var Bi={animationend:Pl("Animation","AnimationEnd"),animationiteration:Pl("Animation","AnimationIteration"),animationstart:Pl("Animation","AnimationStart"),transitionend:Pl("Transition","TransitionEnd")},rd={},ph={};f&&(ph=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function Tl(r){if(rd[r])return rd[r];if(!Bi[r])return r;var s=Bi[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in ph)return rd[r]=s[a];return r}var mh=Tl("animationend"),hh=Tl("animationiteration"),gh=Tl("animationstart"),yh=Tl("transitionend"),vh=new Map,xh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _s(r,s){vh.set(r,s),l(s,[r])}for(var sd=0;sd<xh.length;sd++){var id=xh[sd],TS=id.toLowerCase(),AS=id[0].toUpperCase()+id.slice(1);_s(TS,"on"+AS)}_s(mh,"onAnimationEnd"),_s(hh,"onAnimationIteration"),_s(gh,"onAnimationStart"),_s("dblclick","onDoubleClick"),_s("focusin","onFocus"),_s("focusout","onBlur"),_s(yh,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RS=new Set("cancel close invalid load scroll toggle".split(" ").concat(sa));function bh(r,s,a){var u=r.type||"unknown-event";r.currentTarget=a,Bt(u,s,void 0,r),r.currentTarget=null}function wh(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var u=r[a],p=u.event;u=u.listeners;e:{var v=void 0;if(s)for(var S=u.length-1;0<=S;S--){var R=u[S],z=R.instance,ie=R.currentTarget;if(R=R.listener,z!==v&&p.isPropagationStopped())break e;bh(p,R,ie),v=z}else for(S=0;S<u.length;S++){if(R=u[S],z=R.instance,ie=R.currentTarget,R=R.listener,z!==v&&p.isPropagationStopped())break e;bh(p,R,ie),v=z}}}if(et)throw r=Zt,et=!1,Zt=null,r}function kt(r,s){var a=s[pd];a===void 0&&(a=s[pd]=new Set);var u=r+"__bubble";a.has(u)||(Sh(s,r,2,!1),a.add(u))}function od(r,s,a){var u=0;s&&(u|=4),Sh(a,r,u,s)}var Al="_reactListening"+Math.random().toString(36).slice(2);function ia(r){if(!r[Al]){r[Al]=!0,i.forEach(function(a){a!=="selectionchange"&&(RS.has(a)||od(a,!1,r),od(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Al]||(s[Al]=!0,od("selectionchange",!1,s))}}function Sh(r,s,a,u){switch(qm(s)){case 1:var p=H1;break;case 4:p=Q1;break;default:p=Uu}a=p.bind(null,s,a,r),p=void 0,!yt||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?r.addEventListener(s,a,{capture:!0,passive:p}):r.addEventListener(s,a,!0):p!==void 0?r.addEventListener(s,a,{passive:p}):r.addEventListener(s,a,!1)}function ad(r,s,a,u,p){var v=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var R=u.stateNode.containerInfo;if(R===p||R.nodeType===8&&R.parentNode===p)break;if(S===4)for(S=u.return;S!==null;){var z=S.tag;if((z===3||z===4)&&(z=S.stateNode.containerInfo,z===p||z.nodeType===8&&z.parentNode===p))return;S=S.return}for(;R!==null;){if(S=si(R),S===null)return;if(z=S.tag,z===5||z===6){u=v=S;continue e}R=R.parentNode}}u=u.return}Ke(function(){var ie=v,ge=ri(a),ve=[];e:{var me=vh.get(r);if(me!==void 0){var Ee=Hu,Re=r;switch(r){case"keypress":if(Cl(a)===0)break e;case"keydown":case"keyup":Ee=lS;break;case"focusin":Re="focus",Ee=Zu;break;case"focusout":Re="blur",Ee=Zu;break;case"beforeblur":case"afterblur":Ee=Zu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=Km;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=G1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=dS;break;case mh:case hh:case gh:Ee=J1;break;case yh:Ee=pS;break;case"scroll":Ee=K1;break;case"wheel":Ee=hS;break;case"copy":case"cut":case"paste":Ee=tS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=Gm}var Oe=(s&4)!==0,Vt=!Oe&&r==="scroll",Y=Oe?me!==null?me+"Capture":null:me;Oe=[];for(var W=ie,te;W!==null;){te=W;var Se=te.stateNode;if(te.tag===5&&Se!==null&&(te=Se,Y!==null&&(Se=Nt(W,Y),Se!=null&&Oe.push(oa(W,Se,te)))),Vt)break;W=W.return}0<Oe.length&&(me=new Ee(me,Re,null,a,ge),ve.push({event:me,listeners:Oe}))}}if((s&7)===0){e:{if(me=r==="mouseover"||r==="pointerover",Ee=r==="mouseout"||r==="pointerout",me&&a!==bs&&(Re=a.relatedTarget||a.fromElement)&&(si(Re)||Re[es]))break e;if((Ee||me)&&(me=ge.window===ge?ge:(me=ge.ownerDocument)?me.defaultView||me.parentWindow:window,Ee?(Re=a.relatedTarget||a.toElement,Ee=ie,Re=Re?si(Re):null,Re!==null&&(Vt=At(Re),Re!==Vt||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(Ee=null,Re=ie),Ee!==Re)){if(Oe=Km,Se="onMouseLeave",Y="onMouseEnter",W="mouse",(r==="pointerout"||r==="pointerover")&&(Oe=Gm,Se="onPointerLeave",Y="onPointerEnter",W="pointer"),Vt=Ee==null?me:Wi(Ee),te=Re==null?me:Wi(Re),me=new Oe(Se,W+"leave",Ee,a,ge),me.target=Vt,me.relatedTarget=te,Se=null,si(ge)===ie&&(Oe=new Oe(Y,W+"enter",Re,a,ge),Oe.target=te,Oe.relatedTarget=Vt,Se=Oe),Vt=Se,Ee&&Re)t:{for(Oe=Ee,Y=Re,W=0,te=Oe;te;te=Vi(te))W++;for(te=0,Se=Y;Se;Se=Vi(Se))te++;for(;0<W-te;)Oe=Vi(Oe),W--;for(;0<te-W;)Y=Vi(Y),te--;for(;W--;){if(Oe===Y||Y!==null&&Oe===Y.alternate)break t;Oe=Vi(Oe),Y=Vi(Y)}Oe=null}else Oe=null;Ee!==null&&Nh(ve,me,Ee,Oe,!1),Re!==null&&Vt!==null&&Nh(ve,Vt,Re,Oe,!0)}}e:{if(me=ie?Wi(ie):window,Ee=me.nodeName&&me.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&me.type==="file")var De=SS;else if(nh(me))if(sh)De=jS;else{De=kS;var Ve=NS}else(Ee=me.nodeName)&&Ee.toLowerCase()==="input"&&(me.type==="checkbox"||me.type==="radio")&&(De=CS);if(De&&(De=De(r,ie))){rh(ve,De,a,ge);break e}Ve&&Ve(r,me,ie),r==="focusout"&&(Ve=me._wrapperState)&&Ve.controlled&&me.type==="number"&&V(me,"number",me.value)}switch(Ve=ie?Wi(ie):window,r){case"focusin":(nh(Ve)||Ve.contentEditable==="true")&&($i=Ve,td=ie,ra=null);break;case"focusout":ra=td=$i=null;break;case"mousedown":nd=!0;break;case"contextmenu":case"mouseup":case"dragend":nd=!1,fh(ve,a,ge);break;case"selectionchange":if(PS)break;case"keydown":case"keyup":fh(ve,a,ge)}var Ue;if(Yu)e:{switch(r){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else zi?eh(r,a)&&(He="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(He="onCompositionStart");He&&(Ym&&a.locale!=="ko"&&(zi||He!=="onCompositionStart"?He==="onCompositionEnd"&&zi&&(Ue=Hm()):(js=ge,qu="value"in js?js.value:js.textContent,zi=!0)),Ve=Rl(ie,He),0<Ve.length&&(He=new Zm(He,r,null,a,ge),ve.push({event:He,listeners:Ve}),Ue?He.data=Ue:(Ue=th(a),Ue!==null&&(He.data=Ue)))),(Ue=yS?vS(r,a):xS(r,a))&&(ie=Rl(ie,"onBeforeInput"),0<ie.length&&(ge=new Zm("onBeforeInput","beforeinput",null,a,ge),ve.push({event:ge,listeners:ie}),ge.data=Ue))}wh(ve,s)})}function oa(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Rl(r,s){for(var a=s+"Capture",u=[];r!==null;){var p=r,v=p.stateNode;p.tag===5&&v!==null&&(p=v,v=Nt(r,a),v!=null&&u.unshift(oa(r,v,p)),v=Nt(r,s),v!=null&&u.push(oa(r,v,p))),r=r.return}return u}function Vi(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Nh(r,s,a,u,p){for(var v=s._reactName,S=[];a!==null&&a!==u;){var R=a,z=R.alternate,ie=R.stateNode;if(z!==null&&z===u)break;R.tag===5&&ie!==null&&(R=ie,p?(z=Nt(a,v),z!=null&&S.unshift(oa(a,z,R))):p||(z=Nt(a,v),z!=null&&S.push(oa(a,z,R)))),a=a.return}S.length!==0&&r.push({event:s,listeners:S})}var IS=/\r\n?/g,LS=/\u0000|\uFFFD/g;function kh(r){return(typeof r=="string"?r:""+r).replace(IS,`
`).replace(LS,"")}function Il(r,s,a){if(s=kh(s),kh(r)!==s&&a)throw Error(n(425))}function Ll(){}var ld=null,cd=null;function ud(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var dd=typeof setTimeout=="function"?setTimeout:void 0,OS=typeof clearTimeout=="function"?clearTimeout:void 0,Ch=typeof Promise=="function"?Promise:void 0,MS=typeof queueMicrotask=="function"?queueMicrotask:typeof Ch<"u"?function(r){return Ch.resolve(null).then(r).catch(DS)}:dd;function DS(r){setTimeout(function(){throw r})}function fd(r,s){var a=s,u=0;do{var p=a.nextSibling;if(r.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(u===0){r.removeChild(p),Go(s);return}u--}else a!=="$"&&a!=="$?"&&a!=="$!"||u++;a=p}while(a);Go(s)}function Es(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function jh(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var Ui=Math.random().toString(36).slice(2),Fr="__reactFiber$"+Ui,aa="__reactProps$"+Ui,es="__reactContainer$"+Ui,pd="__reactEvents$"+Ui,FS="__reactListeners$"+Ui,zS="__reactHandles$"+Ui;function si(r){var s=r[Fr];if(s)return s;for(var a=r.parentNode;a;){if(s=a[es]||a[Fr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=jh(r);r!==null;){if(a=r[Fr])return a;r=jh(r)}return s}r=a,a=r.parentNode}return null}function la(r){return r=r[Fr]||r[es],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Wi(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Ol(r){return r[aa]||null}var md=[],qi=-1;function Ps(r){return{current:r}}function Ct(r){0>qi||(r.current=md[qi],md[qi]=null,qi--)}function St(r,s){qi++,md[qi]=r.current,r.current=s}var Ts={},dn=Ps(Ts),On=Ps(!1),ii=Ts;function Hi(r,s){var a=r.type.contextTypes;if(!a)return Ts;var u=r.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===s)return u.__reactInternalMemoizedMaskedChildContext;var p={},v;for(v in a)p[v]=s[v];return u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function Mn(r){return r=r.childContextTypes,r!=null}function Ml(){Ct(On),Ct(dn)}function _h(r,s,a){if(dn.current!==Ts)throw Error(n(168));St(dn,s),St(On,a)}function Eh(r,s,a){var u=r.stateNode;if(s=s.childContextTypes,typeof u.getChildContext!="function")return a;u=u.getChildContext();for(var p in u)if(!(p in s))throw Error(n(108,B(r)||"Unknown",p));return G({},a,u)}function Dl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ts,ii=dn.current,St(dn,r),St(On,On.current),!0}function Ph(r,s,a){var u=r.stateNode;if(!u)throw Error(n(169));a?(r=Eh(r,s,ii),u.__reactInternalMemoizedMergedChildContext=r,Ct(On),Ct(dn),St(dn,r)):Ct(On),St(On,a)}var ts=null,Fl=!1,hd=!1;function Th(r){ts===null?ts=[r]:ts.push(r)}function $S(r){Fl=!0,Th(r)}function As(){if(!hd&&ts!==null){hd=!0;var r=0,s=vt;try{var a=ts;for(vt=1;r<a.length;r++){var u=a[r];do u=u(!0);while(u!==null)}ts=null,Fl=!1}catch(p){throw ts!==null&&(ts=ts.slice(r+1)),Ln(Du,As),p}finally{vt=s,hd=!1}}return null}var Qi=[],Ki=0,zl=null,$l=0,ir=[],or=0,oi=null,ns=1,rs="";function ai(r,s){Qi[Ki++]=$l,Qi[Ki++]=zl,zl=r,$l=s}function Ah(r,s,a){ir[or++]=ns,ir[or++]=rs,ir[or++]=oi,oi=r;var u=ns;r=rs;var p=32-yr(u)-1;u&=~(1<<p),a+=1;var v=32-yr(s)+p;if(30<v){var S=p-p%5;v=(u&(1<<S)-1).toString(32),u>>=S,p-=S,ns=1<<32-yr(s)+p|a<<p|u,rs=v+r}else ns=1<<v|a<<p|u,rs=r}function gd(r){r.return!==null&&(ai(r,1),Ah(r,1,0))}function yd(r){for(;r===zl;)zl=Qi[--Ki],Qi[Ki]=null,$l=Qi[--Ki],Qi[Ki]=null;for(;r===oi;)oi=ir[--or],ir[or]=null,rs=ir[--or],ir[or]=null,ns=ir[--or],ir[or]=null}var Kn=null,Zn=null,Pt=!1,xr=null;function Rh(r,s){var a=ur(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Ih(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Kn=r,Zn=Es(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Kn=r,Zn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=oi!==null?{id:ns,overflow:rs}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=ur(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,Kn=r,Zn=null,!0):!1;default:return!1}}function vd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function xd(r){if(Pt){var s=Zn;if(s){var a=s;if(!Ih(r,s)){if(vd(r))throw Error(n(418));s=Es(a.nextSibling);var u=Kn;s&&Ih(r,s)?Rh(u,a):(r.flags=r.flags&-4097|2,Pt=!1,Kn=r)}}else{if(vd(r))throw Error(n(418));r.flags=r.flags&-4097|2,Pt=!1,Kn=r}}}function Lh(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Kn=r}function Bl(r){if(r!==Kn)return!1;if(!Pt)return Lh(r),Pt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!ud(r.type,r.memoizedProps)),s&&(s=Zn)){if(vd(r))throw Oh(),Error(n(418));for(;s;)Rh(r,s),s=Es(s.nextSibling)}if(Lh(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){Zn=Es(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}Zn=null}}else Zn=Kn?Es(r.stateNode.nextSibling):null;return!0}function Oh(){for(var r=Zn;r;)r=Es(r.nextSibling)}function Zi(){Zn=Kn=null,Pt=!1}function bd(r){xr===null?xr=[r]:xr.push(r)}var BS=L.ReactCurrentBatchConfig;function ca(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var u=a.stateNode}if(!u)throw Error(n(147,r));var p=u,v=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===v?s.ref:(s=function(S){var R=p.refs;S===null?delete R[v]:R[v]=S},s._stringRef=v,s)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function Vl(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Mh(r){var s=r._init;return s(r._payload)}function Dh(r){function s(Y,W){if(r){var te=Y.deletions;te===null?(Y.deletions=[W],Y.flags|=16):te.push(W)}}function a(Y,W){if(!r)return null;for(;W!==null;)s(Y,W),W=W.sibling;return null}function u(Y,W){for(Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function p(Y,W){return Y=zs(Y,W),Y.index=0,Y.sibling=null,Y}function v(Y,W,te){return Y.index=te,r?(te=Y.alternate,te!==null?(te=te.index,te<W?(Y.flags|=2,W):te):(Y.flags|=2,W)):(Y.flags|=1048576,W)}function S(Y){return r&&Y.alternate===null&&(Y.flags|=2),Y}function R(Y,W,te,Se){return W===null||W.tag!==6?(W=ff(te,Y.mode,Se),W.return=Y,W):(W=p(W,te),W.return=Y,W)}function z(Y,W,te,Se){var De=te.type;return De===I?ge(Y,W,te.props.children,Se,te.key):W!==null&&(W.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===q&&Mh(De)===W.type)?(Se=p(W,te.props),Se.ref=ca(Y,W,te),Se.return=Y,Se):(Se=fc(te.type,te.key,te.props,null,Y.mode,Se),Se.ref=ca(Y,W,te),Se.return=Y,Se)}function ie(Y,W,te,Se){return W===null||W.tag!==4||W.stateNode.containerInfo!==te.containerInfo||W.stateNode.implementation!==te.implementation?(W=pf(te,Y.mode,Se),W.return=Y,W):(W=p(W,te.children||[]),W.return=Y,W)}function ge(Y,W,te,Se,De){return W===null||W.tag!==7?(W=hi(te,Y.mode,Se,De),W.return=Y,W):(W=p(W,te),W.return=Y,W)}function ve(Y,W,te){if(typeof W=="string"&&W!==""||typeof W=="number")return W=ff(""+W,Y.mode,te),W.return=Y,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case F:return te=fc(W.type,W.key,W.props,null,Y.mode,te),te.ref=ca(Y,null,W),te.return=Y,te;case H:return W=pf(W,Y.mode,te),W.return=Y,W;case q:var Se=W._init;return ve(Y,Se(W._payload),te)}if(xe(W)||ne(W))return W=hi(W,Y.mode,te,null),W.return=Y,W;Vl(Y,W)}return null}function me(Y,W,te,Se){var De=W!==null?W.key:null;if(typeof te=="string"&&te!==""||typeof te=="number")return De!==null?null:R(Y,W,""+te,Se);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case F:return te.key===De?z(Y,W,te,Se):null;case H:return te.key===De?ie(Y,W,te,Se):null;case q:return De=te._init,me(Y,W,De(te._payload),Se)}if(xe(te)||ne(te))return De!==null?null:ge(Y,W,te,Se,null);Vl(Y,te)}return null}function Ee(Y,W,te,Se,De){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return Y=Y.get(te)||null,R(W,Y,""+Se,De);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case F:return Y=Y.get(Se.key===null?te:Se.key)||null,z(W,Y,Se,De);case H:return Y=Y.get(Se.key===null?te:Se.key)||null,ie(W,Y,Se,De);case q:var Ve=Se._init;return Ee(Y,W,te,Ve(Se._payload),De)}if(xe(Se)||ne(Se))return Y=Y.get(te)||null,ge(W,Y,Se,De,null);Vl(W,Se)}return null}function Re(Y,W,te,Se){for(var De=null,Ve=null,Ue=W,He=W=0,sn=null;Ue!==null&&He<te.length;He++){Ue.index>He?(sn=Ue,Ue=null):sn=Ue.sibling;var mt=me(Y,Ue,te[He],Se);if(mt===null){Ue===null&&(Ue=sn);break}r&&Ue&&mt.alternate===null&&s(Y,Ue),W=v(mt,W,He),Ve===null?De=mt:Ve.sibling=mt,Ve=mt,Ue=sn}if(He===te.length)return a(Y,Ue),Pt&&ai(Y,He),De;if(Ue===null){for(;He<te.length;He++)Ue=ve(Y,te[He],Se),Ue!==null&&(W=v(Ue,W,He),Ve===null?De=Ue:Ve.sibling=Ue,Ve=Ue);return Pt&&ai(Y,He),De}for(Ue=u(Y,Ue);He<te.length;He++)sn=Ee(Ue,Y,He,te[He],Se),sn!==null&&(r&&sn.alternate!==null&&Ue.delete(sn.key===null?He:sn.key),W=v(sn,W,He),Ve===null?De=sn:Ve.sibling=sn,Ve=sn);return r&&Ue.forEach(function($s){return s(Y,$s)}),Pt&&ai(Y,He),De}function Oe(Y,W,te,Se){var De=ne(te);if(typeof De!="function")throw Error(n(150));if(te=De.call(te),te==null)throw Error(n(151));for(var Ve=De=null,Ue=W,He=W=0,sn=null,mt=te.next();Ue!==null&&!mt.done;He++,mt=te.next()){Ue.index>He?(sn=Ue,Ue=null):sn=Ue.sibling;var $s=me(Y,Ue,mt.value,Se);if($s===null){Ue===null&&(Ue=sn);break}r&&Ue&&$s.alternate===null&&s(Y,Ue),W=v($s,W,He),Ve===null?De=$s:Ve.sibling=$s,Ve=$s,Ue=sn}if(mt.done)return a(Y,Ue),Pt&&ai(Y,He),De;if(Ue===null){for(;!mt.done;He++,mt=te.next())mt=ve(Y,mt.value,Se),mt!==null&&(W=v(mt,W,He),Ve===null?De=mt:Ve.sibling=mt,Ve=mt);return Pt&&ai(Y,He),De}for(Ue=u(Y,Ue);!mt.done;He++,mt=te.next())mt=Ee(Ue,Y,He,mt.value,Se),mt!==null&&(r&&mt.alternate!==null&&Ue.delete(mt.key===null?He:mt.key),W=v(mt,W,He),Ve===null?De=mt:Ve.sibling=mt,Ve=mt);return r&&Ue.forEach(function(bN){return s(Y,bN)}),Pt&&ai(Y,He),De}function Vt(Y,W,te,Se){if(typeof te=="object"&&te!==null&&te.type===I&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case F:e:{for(var De=te.key,Ve=W;Ve!==null;){if(Ve.key===De){if(De=te.type,De===I){if(Ve.tag===7){a(Y,Ve.sibling),W=p(Ve,te.props.children),W.return=Y,Y=W;break e}}else if(Ve.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===q&&Mh(De)===Ve.type){a(Y,Ve.sibling),W=p(Ve,te.props),W.ref=ca(Y,Ve,te),W.return=Y,Y=W;break e}a(Y,Ve);break}else s(Y,Ve);Ve=Ve.sibling}te.type===I?(W=hi(te.props.children,Y.mode,Se,te.key),W.return=Y,Y=W):(Se=fc(te.type,te.key,te.props,null,Y.mode,Se),Se.ref=ca(Y,W,te),Se.return=Y,Y=Se)}return S(Y);case H:e:{for(Ve=te.key;W!==null;){if(W.key===Ve)if(W.tag===4&&W.stateNode.containerInfo===te.containerInfo&&W.stateNode.implementation===te.implementation){a(Y,W.sibling),W=p(W,te.children||[]),W.return=Y,Y=W;break e}else{a(Y,W);break}else s(Y,W);W=W.sibling}W=pf(te,Y.mode,Se),W.return=Y,Y=W}return S(Y);case q:return Ve=te._init,Vt(Y,W,Ve(te._payload),Se)}if(xe(te))return Re(Y,W,te,Se);if(ne(te))return Oe(Y,W,te,Se);Vl(Y,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,W!==null&&W.tag===6?(a(Y,W.sibling),W=p(W,te),W.return=Y,Y=W):(a(Y,W),W=ff(te,Y.mode,Se),W.return=Y,Y=W),S(Y)):a(Y,W)}return Vt}var Gi=Dh(!0),Fh=Dh(!1),Ul=Ps(null),Wl=null,Yi=null,wd=null;function Sd(){wd=Yi=Wl=null}function Nd(r){var s=Ul.current;Ct(Ul),r._currentValue=s}function kd(r,s,a){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===a)break;r=r.return}}function Xi(r,s){Wl=r,wd=Yi=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Dn=!0),r.firstContext=null)}function ar(r){var s=r._currentValue;if(wd!==r)if(r={context:r,memoizedValue:s,next:null},Yi===null){if(Wl===null)throw Error(n(308));Yi=r,Wl.dependencies={lanes:0,firstContext:r}}else Yi=Yi.next=r;return s}var li=null;function Cd(r){li===null?li=[r]:li.push(r)}function zh(r,s,a,u){var p=s.interleaved;return p===null?(a.next=a,Cd(s)):(a.next=p.next,p.next=a),s.interleaved=a,ss(r,u)}function ss(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Rs=!1;function jd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $h(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function is(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function Is(r,s,a){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(dt&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,ss(r,a)}return p=u.interleaved,p===null?(s.next=s,Cd(u)):(s.next=p.next,p.next=s),u.interleaved=s,ss(r,a)}function ql(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var u=s.lanes;u&=r.pendingLanes,a|=u,s.lanes=a,$u(r,a)}}function Bh(r,s){var a=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var p=null,v=null;if(a=a.firstBaseUpdate,a!==null){do{var S={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};v===null?p=v=S:v=v.next=S,a=a.next}while(a!==null);v===null?p=v=s:v=v.next=s}else p=v=s;a={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:u.shared,effects:u.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Hl(r,s,a,u){var p=r.updateQueue;Rs=!1;var v=p.firstBaseUpdate,S=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var z=R,ie=z.next;z.next=null,S===null?v=ie:S.next=ie,S=z;var ge=r.alternate;ge!==null&&(ge=ge.updateQueue,R=ge.lastBaseUpdate,R!==S&&(R===null?ge.firstBaseUpdate=ie:R.next=ie,ge.lastBaseUpdate=z))}if(v!==null){var ve=p.baseState;S=0,ge=ie=z=null,R=v;do{var me=R.lane,Ee=R.eventTime;if((u&me)===me){ge!==null&&(ge=ge.next={eventTime:Ee,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var Re=r,Oe=R;switch(me=s,Ee=a,Oe.tag){case 1:if(Re=Oe.payload,typeof Re=="function"){ve=Re.call(Ee,ve,me);break e}ve=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Oe.payload,me=typeof Re=="function"?Re.call(Ee,ve,me):Re,me==null)break e;ve=G({},ve,me);break e;case 2:Rs=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,me=p.effects,me===null?p.effects=[R]:me.push(R))}else Ee={eventTime:Ee,lane:me,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ge===null?(ie=ge=Ee,z=ve):ge=ge.next=Ee,S|=me;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;me=R,R=me.next,me.next=null,p.lastBaseUpdate=me,p.shared.pending=null}}while(!0);if(ge===null&&(z=ve),p.baseState=z,p.firstBaseUpdate=ie,p.lastBaseUpdate=ge,s=p.shared.interleaved,s!==null){p=s;do S|=p.lane,p=p.next;while(p!==s)}else v===null&&(p.shared.lanes=0);di|=S,r.lanes=S,r.memoizedState=ve}}function Vh(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var u=r[s],p=u.callback;if(p!==null){if(u.callback=null,u=a,typeof p!="function")throw Error(n(191,p));p.call(u)}}}var ua={},zr=Ps(ua),da=Ps(ua),fa=Ps(ua);function ci(r){if(r===ua)throw Error(n(174));return r}function _d(r,s){switch(St(fa,s),St(da,r),St(zr,ua),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Et(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Et(s,r)}Ct(zr),St(zr,s)}function Ji(){Ct(zr),Ct(da),Ct(fa)}function Uh(r){ci(fa.current);var s=ci(zr.current),a=Et(s,r.type);s!==a&&(St(da,r),St(zr,a))}function Ed(r){da.current===r&&(Ct(zr),Ct(da))}var Rt=Ps(0);function Ql(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Pd=[];function Td(){for(var r=0;r<Pd.length;r++)Pd[r]._workInProgressVersionPrimary=null;Pd.length=0}var Kl=L.ReactCurrentDispatcher,Ad=L.ReactCurrentBatchConfig,ui=0,It=null,Gt=null,nn=null,Zl=!1,pa=!1,ma=0,VS=0;function fn(){throw Error(n(321))}function Rd(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!vr(r[a],s[a]))return!1;return!0}function Id(r,s,a,u,p,v){if(ui=v,It=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Kl.current=r===null||r.memoizedState===null?HS:QS,r=a(u,p),pa){v=0;do{if(pa=!1,ma=0,25<=v)throw Error(n(301));v+=1,nn=Gt=null,s.updateQueue=null,Kl.current=KS,r=a(u,p)}while(pa)}if(Kl.current=Xl,s=Gt!==null&&Gt.next!==null,ui=0,nn=Gt=It=null,Zl=!1,s)throw Error(n(300));return r}function Ld(){var r=ma!==0;return ma=0,r}function $r(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?It.memoizedState=nn=r:nn=nn.next=r,nn}function lr(){if(Gt===null){var r=It.alternate;r=r!==null?r.memoizedState:null}else r=Gt.next;var s=nn===null?It.memoizedState:nn.next;if(s!==null)nn=s,Gt=r;else{if(r===null)throw Error(n(310));Gt=r,r={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},nn===null?It.memoizedState=nn=r:nn=nn.next=r}return nn}function ha(r,s){return typeof s=="function"?s(r):s}function Od(r){var s=lr(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var u=Gt,p=u.baseQueue,v=a.pending;if(v!==null){if(p!==null){var S=p.next;p.next=v.next,v.next=S}u.baseQueue=p=v,a.pending=null}if(p!==null){v=p.next,u=u.baseState;var R=S=null,z=null,ie=v;do{var ge=ie.lane;if((ui&ge)===ge)z!==null&&(z=z.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),u=ie.hasEagerState?ie.eagerState:r(u,ie.action);else{var ve={lane:ge,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};z===null?(R=z=ve,S=u):z=z.next=ve,It.lanes|=ge,di|=ge}ie=ie.next}while(ie!==null&&ie!==v);z===null?S=u:z.next=R,vr(u,s.memoizedState)||(Dn=!0),s.memoizedState=u,s.baseState=S,s.baseQueue=z,a.lastRenderedState=u}if(r=a.interleaved,r!==null){p=r;do v=p.lane,It.lanes|=v,di|=v,p=p.next;while(p!==r)}else p===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Md(r){var s=lr(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var u=a.dispatch,p=a.pending,v=s.memoizedState;if(p!==null){a.pending=null;var S=p=p.next;do v=r(v,S.action),S=S.next;while(S!==p);vr(v,s.memoizedState)||(Dn=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),a.lastRenderedState=v}return[v,u]}function Wh(){}function qh(r,s){var a=It,u=lr(),p=s(),v=!vr(u.memoizedState,p);if(v&&(u.memoizedState=p,Dn=!0),u=u.queue,Dd(Kh.bind(null,a,u,r),[r]),u.getSnapshot!==s||v||nn!==null&&nn.memoizedState.tag&1){if(a.flags|=2048,ga(9,Qh.bind(null,a,u,p,s),void 0,null),rn===null)throw Error(n(349));(ui&30)!==0||Hh(a,s,p)}return p}function Hh(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=It.updateQueue,s===null?(s={lastEffect:null,stores:null},It.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Qh(r,s,a,u){s.value=a,s.getSnapshot=u,Zh(s)&&Gh(r)}function Kh(r,s,a){return a(function(){Zh(s)&&Gh(r)})}function Zh(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!vr(r,a)}catch{return!0}}function Gh(r){var s=ss(r,1);s!==null&&Nr(s,r,1,-1)}function Yh(r){var s=$r();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:r},s.queue=r,r=r.dispatch=qS.bind(null,It,r),[s.memoizedState,r]}function ga(r,s,a,u){return r={tag:r,create:s,destroy:a,deps:u,next:null},s=It.updateQueue,s===null?(s={lastEffect:null,stores:null},It.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(u=a.next,a.next=r,r.next=u,s.lastEffect=r)),r}function Xh(){return lr().memoizedState}function Gl(r,s,a,u){var p=$r();It.flags|=r,p.memoizedState=ga(1|s,a,void 0,u===void 0?null:u)}function Yl(r,s,a,u){var p=lr();u=u===void 0?null:u;var v=void 0;if(Gt!==null){var S=Gt.memoizedState;if(v=S.destroy,u!==null&&Rd(u,S.deps)){p.memoizedState=ga(s,a,v,u);return}}It.flags|=r,p.memoizedState=ga(1|s,a,v,u)}function Jh(r,s){return Gl(8390656,8,r,s)}function Dd(r,s){return Yl(2048,8,r,s)}function eg(r,s){return Yl(4,2,r,s)}function tg(r,s){return Yl(4,4,r,s)}function ng(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function rg(r,s,a){return a=a!=null?a.concat([r]):null,Yl(4,4,ng.bind(null,s,r),a)}function Fd(){}function sg(r,s){var a=lr();s=s===void 0?null:s;var u=a.memoizedState;return u!==null&&s!==null&&Rd(s,u[1])?u[0]:(a.memoizedState=[r,s],r)}function ig(r,s){var a=lr();s=s===void 0?null:s;var u=a.memoizedState;return u!==null&&s!==null&&Rd(s,u[1])?u[0]:(r=r(),a.memoizedState=[r,s],r)}function og(r,s,a){return(ui&21)===0?(r.baseState&&(r.baseState=!1,Dn=!0),r.memoizedState=a):(vr(a,s)||(a=Mm(),It.lanes|=a,di|=a,r.baseState=!0),s)}function US(r,s){var a=vt;vt=a!==0&&4>a?a:4,r(!0);var u=Ad.transition;Ad.transition={};try{r(!1),s()}finally{vt=a,Ad.transition=u}}function ag(){return lr().memoizedState}function WS(r,s,a){var u=Ds(r);if(a={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null},lg(r))cg(s,a);else if(a=zh(r,s,a,u),a!==null){var p=kn();Nr(a,r,u,p),ug(a,s,u)}}function qS(r,s,a){var u=Ds(r),p={lane:u,action:a,hasEagerState:!1,eagerState:null,next:null};if(lg(r))cg(s,p);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var S=s.lastRenderedState,R=v(S,a);if(p.hasEagerState=!0,p.eagerState=R,vr(R,S)){var z=s.interleaved;z===null?(p.next=p,Cd(s)):(p.next=z.next,z.next=p),s.interleaved=p;return}}catch{}a=zh(r,s,p,u),a!==null&&(p=kn(),Nr(a,r,u,p),ug(a,s,u))}}function lg(r){var s=r.alternate;return r===It||s!==null&&s===It}function cg(r,s){pa=Zl=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function ug(r,s,a){if((a&4194240)!==0){var u=s.lanes;u&=r.pendingLanes,a|=u,s.lanes=a,$u(r,a)}}var Xl={readContext:ar,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},HS={readContext:ar,useCallback:function(r,s){return $r().memoizedState=[r,s===void 0?null:s],r},useContext:ar,useEffect:Jh,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,Gl(4194308,4,ng.bind(null,s,r),a)},useLayoutEffect:function(r,s){return Gl(4194308,4,r,s)},useInsertionEffect:function(r,s){return Gl(4,2,r,s)},useMemo:function(r,s){var a=$r();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var u=$r();return s=a!==void 0?a(s):s,u.memoizedState=u.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},u.queue=r,r=r.dispatch=WS.bind(null,It,r),[u.memoizedState,r]},useRef:function(r){var s=$r();return r={current:r},s.memoizedState=r},useState:Yh,useDebugValue:Fd,useDeferredValue:function(r){return $r().memoizedState=r},useTransition:function(){var r=Yh(!1),s=r[0];return r=US.bind(null,r[1]),$r().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var u=It,p=$r();if(Pt){if(a===void 0)throw Error(n(407));a=a()}else{if(a=s(),rn===null)throw Error(n(349));(ui&30)!==0||Hh(u,s,a)}p.memoizedState=a;var v={value:a,getSnapshot:s};return p.queue=v,Jh(Kh.bind(null,u,v,r),[r]),u.flags|=2048,ga(9,Qh.bind(null,u,v,a,s),void 0,null),a},useId:function(){var r=$r(),s=rn.identifierPrefix;if(Pt){var a=rs,u=ns;a=(u&~(1<<32-yr(u)-1)).toString(32)+a,s=":"+s+"R"+a,a=ma++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=VS++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},QS={readContext:ar,useCallback:sg,useContext:ar,useEffect:Dd,useImperativeHandle:rg,useInsertionEffect:eg,useLayoutEffect:tg,useMemo:ig,useReducer:Od,useRef:Xh,useState:function(){return Od(ha)},useDebugValue:Fd,useDeferredValue:function(r){var s=lr();return og(s,Gt.memoizedState,r)},useTransition:function(){var r=Od(ha)[0],s=lr().memoizedState;return[r,s]},useMutableSource:Wh,useSyncExternalStore:qh,useId:ag,unstable_isNewReconciler:!1},KS={readContext:ar,useCallback:sg,useContext:ar,useEffect:Dd,useImperativeHandle:rg,useInsertionEffect:eg,useLayoutEffect:tg,useMemo:ig,useReducer:Md,useRef:Xh,useState:function(){return Md(ha)},useDebugValue:Fd,useDeferredValue:function(r){var s=lr();return Gt===null?s.memoizedState=r:og(s,Gt.memoizedState,r)},useTransition:function(){var r=Md(ha)[0],s=lr().memoizedState;return[r,s]},useMutableSource:Wh,useSyncExternalStore:qh,useId:ag,unstable_isNewReconciler:!1};function br(r,s){if(r&&r.defaultProps){s=G({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function zd(r,s,a,u){s=r.memoizedState,a=a(u,s),a=a==null?s:G({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Jl={isMounted:function(r){return(r=r._reactInternals)?At(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var u=kn(),p=Ds(r),v=is(u,p);v.payload=s,a!=null&&(v.callback=a),s=Is(r,v,p),s!==null&&(Nr(s,r,p,u),ql(s,r,p))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var u=kn(),p=Ds(r),v=is(u,p);v.tag=1,v.payload=s,a!=null&&(v.callback=a),s=Is(r,v,p),s!==null&&(Nr(s,r,p,u),ql(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=kn(),u=Ds(r),p=is(a,u);p.tag=2,s!=null&&(p.callback=s),s=Is(r,p,u),s!==null&&(Nr(s,r,u,a),ql(s,r,u))}};function dg(r,s,a,u,p,v,S){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,v,S):s.prototype&&s.prototype.isPureReactComponent?!na(a,u)||!na(p,v):!0}function fg(r,s,a){var u=!1,p=Ts,v=s.contextType;return typeof v=="object"&&v!==null?v=ar(v):(p=Mn(s)?ii:dn.current,u=s.contextTypes,v=(u=u!=null)?Hi(r,p):Ts),s=new s(a,v),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Jl,r.stateNode=s,s._reactInternals=r,u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=v),s}function pg(r,s,a,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,u),s.state!==r&&Jl.enqueueReplaceState(s,s.state,null)}function $d(r,s,a,u){var p=r.stateNode;p.props=a,p.state=r.memoizedState,p.refs={},jd(r);var v=s.contextType;typeof v=="object"&&v!==null?p.context=ar(v):(v=Mn(s)?ii:dn.current,p.context=Hi(r,v)),p.state=r.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(zd(r,s,v,a),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Jl.enqueueReplaceState(p,p.state,null),Hl(r,a,p,u),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function eo(r,s){try{var a="",u=s;do a+=D(u),u=u.return;while(u);var p=a}catch(v){p=`
Error generating stack: `+v.message+`
`+v.stack}return{value:r,source:s,stack:p,digest:null}}function Bd(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Vd(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var ZS=typeof WeakMap=="function"?WeakMap:Map;function mg(r,s,a){a=is(-1,a),a.tag=3,a.payload={element:null};var u=s.value;return a.callback=function(){oc||(oc=!0,rf=u),Vd(r,s)},a}function hg(r,s,a){a=is(-1,a),a.tag=3;var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var p=s.value;a.payload=function(){return u(p)},a.callback=function(){Vd(r,s)}}var v=r.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(a.callback=function(){Vd(r,s),typeof u!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var S=s.stack;this.componentDidCatch(s.value,{componentStack:S!==null?S:""})}),a}function gg(r,s,a){var u=r.pingCache;if(u===null){u=r.pingCache=new ZS;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(a)||(p.add(a),r=cN.bind(null,r,s,a),s.then(r,r))}function yg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function vg(r,s,a,u,p){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=is(-1,1),s.tag=2,Is(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var GS=L.ReactCurrentOwner,Dn=!1;function Nn(r,s,a,u){s.child=r===null?Fh(s,null,a,u):Gi(s,r.child,a,u)}function xg(r,s,a,u,p){a=a.render;var v=s.ref;return Xi(s,p),u=Id(r,s,a,u,v,p),a=Ld(),r!==null&&!Dn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,os(r,s,p)):(Pt&&a&&gd(s),s.flags|=1,Nn(r,s,u,p),s.child)}function bg(r,s,a,u,p){if(r===null){var v=a.type;return typeof v=="function"&&!df(v)&&v.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=v,wg(r,s,v,u,p)):(r=fc(a.type,null,u,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(v=r.child,(r.lanes&p)===0){var S=v.memoizedProps;if(a=a.compare,a=a!==null?a:na,a(S,u)&&r.ref===s.ref)return os(r,s,p)}return s.flags|=1,r=zs(v,u),r.ref=s.ref,r.return=s,s.child=r}function wg(r,s,a,u,p){if(r!==null){var v=r.memoizedProps;if(na(v,u)&&r.ref===s.ref)if(Dn=!1,s.pendingProps=u=v,(r.lanes&p)!==0)(r.flags&131072)!==0&&(Dn=!0);else return s.lanes=r.lanes,os(r,s,p)}return Ud(r,s,a,u,p)}function Sg(r,s,a){var u=s.pendingProps,p=u.children,v=r!==null?r.memoizedState:null;if(u.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(no,Gn),Gn|=a;else{if((a&1073741824)===0)return r=v!==null?v.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,St(no,Gn),Gn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=v!==null?v.baseLanes:a,St(no,Gn),Gn|=u}else v!==null?(u=v.baseLanes|a,s.memoizedState=null):u=a,St(no,Gn),Gn|=u;return Nn(r,s,p,a),s.child}function Ng(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Ud(r,s,a,u,p){var v=Mn(a)?ii:dn.current;return v=Hi(s,v),Xi(s,p),a=Id(r,s,a,u,v,p),u=Ld(),r!==null&&!Dn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,os(r,s,p)):(Pt&&u&&gd(s),s.flags|=1,Nn(r,s,a,p),s.child)}function kg(r,s,a,u,p){if(Mn(a)){var v=!0;Dl(s)}else v=!1;if(Xi(s,p),s.stateNode===null)tc(r,s),fg(s,a,u),$d(s,a,u,p),u=!0;else if(r===null){var S=s.stateNode,R=s.memoizedProps;S.props=R;var z=S.context,ie=a.contextType;typeof ie=="object"&&ie!==null?ie=ar(ie):(ie=Mn(a)?ii:dn.current,ie=Hi(s,ie));var ge=a.getDerivedStateFromProps,ve=typeof ge=="function"||typeof S.getSnapshotBeforeUpdate=="function";ve||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(R!==u||z!==ie)&&pg(s,S,u,ie),Rs=!1;var me=s.memoizedState;S.state=me,Hl(s,u,S,p),z=s.memoizedState,R!==u||me!==z||On.current||Rs?(typeof ge=="function"&&(zd(s,a,ge,u),z=s.memoizedState),(R=Rs||dg(s,a,R,u,me,z,ie))?(ve||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(s.flags|=4194308)):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=z),S.props=u,S.state=z,S.context=ie,u=R):(typeof S.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{S=s.stateNode,$h(r,s),R=s.memoizedProps,ie=s.type===s.elementType?R:br(s.type,R),S.props=ie,ve=s.pendingProps,me=S.context,z=a.contextType,typeof z=="object"&&z!==null?z=ar(z):(z=Mn(a)?ii:dn.current,z=Hi(s,z));var Ee=a.getDerivedStateFromProps;(ge=typeof Ee=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(R!==ve||me!==z)&&pg(s,S,u,z),Rs=!1,me=s.memoizedState,S.state=me,Hl(s,u,S,p);var Re=s.memoizedState;R!==ve||me!==Re||On.current||Rs?(typeof Ee=="function"&&(zd(s,a,Ee,u),Re=s.memoizedState),(ie=Rs||dg(s,a,ie,u,me,Re,z)||!1)?(ge||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(u,Re,z),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(u,Re,z)),typeof S.componentDidUpdate=="function"&&(s.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof S.componentDidUpdate!="function"||R===r.memoizedProps&&me===r.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&me===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=Re),S.props=u,S.state=Re,S.context=z,u=ie):(typeof S.componentDidUpdate!="function"||R===r.memoizedProps&&me===r.memoizedState||(s.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&me===r.memoizedState||(s.flags|=1024),u=!1)}return Wd(r,s,a,u,v,p)}function Wd(r,s,a,u,p,v){Ng(r,s);var S=(s.flags&128)!==0;if(!u&&!S)return p&&Ph(s,a,!1),os(r,s,v);u=s.stateNode,GS.current=s;var R=S&&typeof a.getDerivedStateFromError!="function"?null:u.render();return s.flags|=1,r!==null&&S?(s.child=Gi(s,r.child,null,v),s.child=Gi(s,null,R,v)):Nn(r,s,R,v),s.memoizedState=u.state,p&&Ph(s,a,!0),s.child}function Cg(r){var s=r.stateNode;s.pendingContext?_h(r,s.pendingContext,s.pendingContext!==s.context):s.context&&_h(r,s.context,!1),_d(r,s.containerInfo)}function jg(r,s,a,u,p){return Zi(),bd(p),s.flags|=256,Nn(r,s,a,u),s.child}var qd={dehydrated:null,treeContext:null,retryLane:0};function Hd(r){return{baseLanes:r,cachePool:null,transitions:null}}function _g(r,s,a){var u=s.pendingProps,p=Rt.current,v=!1,S=(s.flags&128)!==0,R;if((R=S)||(R=r!==null&&r.memoizedState===null?!1:(p&2)!==0),R?(v=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),St(Rt,p&1),r===null)return xd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(S=u.children,r=u.fallback,v?(u=s.mode,v=s.child,S={mode:"hidden",children:S},(u&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=S):v=pc(S,u,0,null),r=hi(r,u,a,null),v.return=s,r.return=s,v.sibling=r,s.child=v,s.child.memoizedState=Hd(a),s.memoizedState=qd,r):Qd(s,S));if(p=r.memoizedState,p!==null&&(R=p.dehydrated,R!==null))return YS(r,s,S,u,R,p,a);if(v){v=u.fallback,S=s.mode,p=r.child,R=p.sibling;var z={mode:"hidden",children:u.children};return(S&1)===0&&s.child!==p?(u=s.child,u.childLanes=0,u.pendingProps=z,s.deletions=null):(u=zs(p,z),u.subtreeFlags=p.subtreeFlags&14680064),R!==null?v=zs(R,v):(v=hi(v,S,a,null),v.flags|=2),v.return=s,u.return=s,u.sibling=v,s.child=u,u=v,v=s.child,S=r.child.memoizedState,S=S===null?Hd(a):{baseLanes:S.baseLanes|a,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=r.childLanes&~a,s.memoizedState=qd,u}return v=r.child,r=v.sibling,u=zs(v,{mode:"visible",children:u.children}),(s.mode&1)===0&&(u.lanes=a),u.return=s,u.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=u,s.memoizedState=null,u}function Qd(r,s){return s=pc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function ec(r,s,a,u){return u!==null&&bd(u),Gi(s,r.child,null,a),r=Qd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function YS(r,s,a,u,p,v,S){if(a)return s.flags&256?(s.flags&=-257,u=Bd(Error(n(422))),ec(r,s,S,u)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(v=u.fallback,p=s.mode,u=pc({mode:"visible",children:u.children},p,0,null),v=hi(v,p,S,null),v.flags|=2,u.return=s,v.return=s,u.sibling=v,s.child=u,(s.mode&1)!==0&&Gi(s,r.child,null,S),s.child.memoizedState=Hd(S),s.memoizedState=qd,v);if((s.mode&1)===0)return ec(r,s,S,null);if(p.data==="$!"){if(u=p.nextSibling&&p.nextSibling.dataset,u)var R=u.dgst;return u=R,v=Error(n(419)),u=Bd(v,u,void 0),ec(r,s,S,u)}if(R=(S&r.childLanes)!==0,Dn||R){if(u=rn,u!==null){switch(S&-S){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(u.suspendedLanes|S))!==0?0:p,p!==0&&p!==v.retryLane&&(v.retryLane=p,ss(r,p),Nr(u,r,p,-1))}return uf(),u=Bd(Error(n(421))),ec(r,s,S,u)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=uN.bind(null,r),p._reactRetry=s,null):(r=v.treeContext,Zn=Es(p.nextSibling),Kn=s,Pt=!0,xr=null,r!==null&&(ir[or++]=ns,ir[or++]=rs,ir[or++]=oi,ns=r.id,rs=r.overflow,oi=s),s=Qd(s,u.children),s.flags|=4096,s)}function Eg(r,s,a){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),kd(r.return,s,a)}function Kd(r,s,a,u,p){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:p}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=a,v.tailMode=p)}function Pg(r,s,a){var u=s.pendingProps,p=u.revealOrder,v=u.tail;if(Nn(r,s,u.children,a),u=Rt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Eg(r,a,s);else if(r.tag===19)Eg(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}if(St(Rt,u),(s.mode&1)===0)s.memoizedState=null;else switch(p){case"forwards":for(a=s.child,p=null;a!==null;)r=a.alternate,r!==null&&Ql(r)===null&&(p=a),a=a.sibling;a=p,a===null?(p=s.child,s.child=null):(p=a.sibling,a.sibling=null),Kd(s,!1,p,a,v);break;case"backwards":for(a=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Ql(r)===null){s.child=p;break}r=p.sibling,p.sibling=a,a=p,p=r}Kd(s,!0,a,null,v);break;case"together":Kd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function tc(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function os(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),di|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,a=zs(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=zs(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function XS(r,s,a){switch(s.tag){case 3:Cg(s),Zi();break;case 5:Uh(s);break;case 1:Mn(s.type)&&Dl(s);break;case 4:_d(s,s.stateNode.containerInfo);break;case 10:var u=s.type._context,p=s.memoizedProps.value;St(Ul,u._currentValue),u._currentValue=p;break;case 13:if(u=s.memoizedState,u!==null)return u.dehydrated!==null?(St(Rt,Rt.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?_g(r,s,a):(St(Rt,Rt.current&1),r=os(r,s,a),r!==null?r.sibling:null);St(Rt,Rt.current&1);break;case 19:if(u=(a&s.childLanes)!==0,(r.flags&128)!==0){if(u)return Pg(r,s,a);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),St(Rt,Rt.current),u)break;return null;case 22:case 23:return s.lanes=0,Sg(r,s,a)}return os(r,s,a)}var Tg,Zd,Ag,Rg;Tg=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Zd=function(){},Ag=function(r,s,a,u){var p=r.memoizedProps;if(p!==u){r=s.stateNode,ci(zr.current);var v=null;switch(a){case"input":p=gt(r,p),u=gt(r,u),v=[];break;case"select":p=G({},p,{value:void 0}),u=G({},u,{value:void 0}),v=[];break;case"textarea":p=Ne(r,p),u=Ne(r,u),v=[];break;default:typeof p.onClick!="function"&&typeof u.onClick=="function"&&(r.onclick=Ll)}mr(a,u);var S;a=null;for(ie in p)if(!u.hasOwnProperty(ie)&&p.hasOwnProperty(ie)&&p[ie]!=null)if(ie==="style"){var R=p[ie];for(S in R)R.hasOwnProperty(S)&&(a||(a={}),a[S]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(o.hasOwnProperty(ie)?v||(v=[]):(v=v||[]).push(ie,null));for(ie in u){var z=u[ie];if(R=p?.[ie],u.hasOwnProperty(ie)&&z!==R&&(z!=null||R!=null))if(ie==="style")if(R){for(S in R)!R.hasOwnProperty(S)||z&&z.hasOwnProperty(S)||(a||(a={}),a[S]="");for(S in z)z.hasOwnProperty(S)&&R[S]!==z[S]&&(a||(a={}),a[S]=z[S])}else a||(v||(v=[]),v.push(ie,a)),a=z;else ie==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,R=R?R.__html:void 0,z!=null&&R!==z&&(v=v||[]).push(ie,z)):ie==="children"?typeof z!="string"&&typeof z!="number"||(v=v||[]).push(ie,""+z):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(o.hasOwnProperty(ie)?(z!=null&&ie==="onScroll"&&kt("scroll",r),v||R===z||(v=[])):(v=v||[]).push(ie,z))}a&&(v=v||[]).push("style",a);var ie=v;(s.updateQueue=ie)&&(s.flags|=4)}},Rg=function(r,s,a,u){a!==u&&(s.flags|=4)};function ya(r,s){if(!Pt)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function pn(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,u=0;if(s)for(var p=r.child;p!==null;)a|=p.lanes|p.childLanes,u|=p.subtreeFlags&14680064,u|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)a|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=u,r.childLanes=a,s}function JS(r,s,a){var u=s.pendingProps;switch(yd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(s),null;case 1:return Mn(s.type)&&Ml(),pn(s),null;case 3:return u=s.stateNode,Ji(),Ct(On),Ct(dn),Td(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(Bl(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,xr!==null&&(af(xr),xr=null))),Zd(r,s),pn(s),null;case 5:Ed(s);var p=ci(fa.current);if(a=s.type,r!==null&&s.stateNode!=null)Ag(r,s,a,u,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!u){if(s.stateNode===null)throw Error(n(166));return pn(s),null}if(r=ci(zr.current),Bl(s)){u=s.stateNode,a=s.type;var v=s.memoizedProps;switch(u[Fr]=s,u[aa]=v,r=(s.mode&1)!==0,a){case"dialog":kt("cancel",u),kt("close",u);break;case"iframe":case"object":case"embed":kt("load",u);break;case"video":case"audio":for(p=0;p<sa.length;p++)kt(sa[p],u);break;case"source":kt("error",u);break;case"img":case"image":case"link":kt("error",u),kt("load",u);break;case"details":kt("toggle",u);break;case"input":pt(u,v),kt("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!v.multiple},kt("invalid",u);break;case"textarea":Ie(u,v),kt("invalid",u)}mr(a,v),p=null;for(var S in v)if(v.hasOwnProperty(S)){var R=v[S];S==="children"?typeof R=="string"?u.textContent!==R&&(v.suppressHydrationWarning!==!0&&Il(u.textContent,R,r),p=["children",R]):typeof R=="number"&&u.textContent!==""+R&&(v.suppressHydrationWarning!==!0&&Il(u.textContent,R,r),p=["children",""+R]):o.hasOwnProperty(S)&&R!=null&&S==="onScroll"&&kt("scroll",u)}switch(a){case"input":ze(u),Z(u,v,!0);break;case"textarea":ze(u),at(u);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(u.onclick=Ll)}u=p,s.updateQueue=u,u!==null&&(s.flags|=4)}else{S=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Tt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=S.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof u.is=="string"?r=S.createElement(a,{is:u.is}):(r=S.createElement(a),a==="select"&&(S=r,u.multiple?S.multiple=!0:u.size&&(S.size=u.size))):r=S.createElementNS(r,a),r[Fr]=s,r[aa]=u,Tg(r,s,!1,!1),s.stateNode=r;e:{switch(S=Jr(a,u),a){case"dialog":kt("cancel",r),kt("close",r),p=u;break;case"iframe":case"object":case"embed":kt("load",r),p=u;break;case"video":case"audio":for(p=0;p<sa.length;p++)kt(sa[p],r);p=u;break;case"source":kt("error",r),p=u;break;case"img":case"image":case"link":kt("error",r),kt("load",r),p=u;break;case"details":kt("toggle",r),p=u;break;case"input":pt(r,u),p=gt(r,u),kt("invalid",r);break;case"option":p=u;break;case"select":r._wrapperState={wasMultiple:!!u.multiple},p=G({},u,{value:void 0}),kt("invalid",r);break;case"textarea":Ie(r,u),p=Ne(r,u),kt("invalid",r);break;default:p=u}mr(a,p),R=p;for(v in R)if(R.hasOwnProperty(v)){var z=R[v];v==="style"?Rn(r,z):v==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&qn(r,z)):v==="children"?typeof z=="string"?(a!=="textarea"||z!=="")&&Dt(r,z):typeof z=="number"&&Dt(r,""+z):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?z!=null&&v==="onScroll"&&kt("scroll",r):z!=null&&A(r,v,z,S))}switch(a){case"input":ze(r),Z(r,u,!1);break;case"textarea":ze(r),at(r);break;case"option":u.value!=null&&r.setAttribute("value",""+re(u.value));break;case"select":r.multiple=!!u.multiple,v=u.value,v!=null?ke(r,!!u.multiple,v,!1):u.defaultValue!=null&&ke(r,!!u.multiple,u.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=Ll)}switch(a){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return pn(s),null;case 6:if(r&&s.stateNode!=null)Rg(r,s,r.memoizedProps,u);else{if(typeof u!="string"&&s.stateNode===null)throw Error(n(166));if(a=ci(fa.current),ci(zr.current),Bl(s)){if(u=s.stateNode,a=s.memoizedProps,u[Fr]=s,(v=u.nodeValue!==a)&&(r=Kn,r!==null))switch(r.tag){case 3:Il(u.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Il(u.nodeValue,a,(r.mode&1)!==0)}v&&(s.flags|=4)}else u=(a.nodeType===9?a:a.ownerDocument).createTextNode(u),u[Fr]=s,s.stateNode=u}return pn(s),null;case 13:if(Ct(Rt),u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Pt&&Zn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)Oh(),Zi(),s.flags|=98560,v=!1;else if(v=Bl(s),u!==null&&u.dehydrated!==null){if(r===null){if(!v)throw Error(n(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Fr]=s}else Zi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pn(s),v=!1}else xr!==null&&(af(xr),xr=null),v=!0;if(!v)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(u=u!==null,u!==(r!==null&&r.memoizedState!==null)&&u&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(Rt.current&1)!==0?Yt===0&&(Yt=3):uf())),s.updateQueue!==null&&(s.flags|=4),pn(s),null);case 4:return Ji(),Zd(r,s),r===null&&ia(s.stateNode.containerInfo),pn(s),null;case 10:return Nd(s.type._context),pn(s),null;case 17:return Mn(s.type)&&Ml(),pn(s),null;case 19:if(Ct(Rt),v=s.memoizedState,v===null)return pn(s),null;if(u=(s.flags&128)!==0,S=v.rendering,S===null)if(u)ya(v,!1);else{if(Yt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(S=Ql(r),S!==null){for(s.flags|=128,ya(v,!1),u=S.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),s.subtreeFlags=0,u=a,a=s.child;a!==null;)v=a,r=u,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=r,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,r=S.dependencies,v.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return St(Rt,Rt.current&1|2),s.child}r=r.sibling}v.tail!==null&&wt()>ro&&(s.flags|=128,u=!0,ya(v,!1),s.lanes=4194304)}else{if(!u)if(r=Ql(S),r!==null){if(s.flags|=128,u=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),ya(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!Pt)return pn(s),null}else 2*wt()-v.renderingStartTime>ro&&a!==1073741824&&(s.flags|=128,u=!0,ya(v,!1),s.lanes=4194304);v.isBackwards?(S.sibling=s.child,s.child=S):(a=v.last,a!==null?a.sibling=S:s.child=S,v.last=S)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=wt(),s.sibling=null,a=Rt.current,St(Rt,u?a&1|2:a&1),s):(pn(s),null);case 22:case 23:return cf(),u=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==u&&(s.flags|=8192),u&&(s.mode&1)!==0?(Gn&1073741824)!==0&&(pn(s),s.subtreeFlags&6&&(s.flags|=8192)):pn(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function eN(r,s){switch(yd(s),s.tag){case 1:return Mn(s.type)&&Ml(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ji(),Ct(On),Ct(dn),Td(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Ed(s),null;case 13:if(Ct(Rt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Zi()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ct(Rt),null;case 4:return Ji(),null;case 10:return Nd(s.type._context),null;case 22:case 23:return cf(),null;case 24:return null;default:return null}}var nc=!1,mn=!1,tN=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function to(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(u){Ft(r,s,u)}else a.current=null}function Gd(r,s,a){try{a()}catch(u){Ft(r,s,u)}}var Ig=!1;function nN(r,s){if(ld=Sl,r=dh(),ed(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var p=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{a.nodeType,v.nodeType}catch{a=null;break e}var S=0,R=-1,z=-1,ie=0,ge=0,ve=r,me=null;t:for(;;){for(var Ee;ve!==a||p!==0&&ve.nodeType!==3||(R=S+p),ve!==v||u!==0&&ve.nodeType!==3||(z=S+u),ve.nodeType===3&&(S+=ve.nodeValue.length),(Ee=ve.firstChild)!==null;)me=ve,ve=Ee;for(;;){if(ve===r)break t;if(me===a&&++ie===p&&(R=S),me===v&&++ge===u&&(z=S),(Ee=ve.nextSibling)!==null)break;ve=me,me=ve.parentNode}ve=Ee}a=R===-1||z===-1?null:{start:R,end:z}}else a=null}a=a||{start:0,end:0}}else a=null;for(cd={focusedElem:r,selectionRange:a},Sl=!1,Ae=s;Ae!==null;)if(s=Ae,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Ae=r;else for(;Ae!==null;){s=Ae;try{var Re=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var Oe=Re.memoizedProps,Vt=Re.memoizedState,Y=s.stateNode,W=Y.getSnapshotBeforeUpdate(s.elementType===s.type?Oe:br(s.type,Oe),Vt);Y.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var te=s.stateNode.containerInfo;te.nodeType===1?te.textContent="":te.nodeType===9&&te.documentElement&&te.removeChild(te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Se){Ft(s,s.return,Se)}if(r=s.sibling,r!==null){r.return=s.return,Ae=r;break}Ae=s.return}return Re=Ig,Ig=!1,Re}function va(r,s,a){var u=s.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var p=u=u.next;do{if((p.tag&r)===r){var v=p.destroy;p.destroy=void 0,v!==void 0&&Gd(s,a,v)}p=p.next}while(p!==u)}}function rc(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var u=a.create;a.destroy=u()}a=a.next}while(a!==s)}}function Yd(r){var s=r.ref;if(s!==null){var a=r.stateNode;r.tag,r=a,typeof s=="function"?s(r):s.current=r}}function Lg(r){var s=r.alternate;s!==null&&(r.alternate=null,Lg(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Fr],delete s[aa],delete s[pd],delete s[FS],delete s[zS])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Og(r){return r.tag===5||r.tag===3||r.tag===4}function Mg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Og(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Xd(r,s,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ll));else if(u!==4&&(r=r.child,r!==null))for(Xd(r,s,a),r=r.sibling;r!==null;)Xd(r,s,a),r=r.sibling}function Jd(r,s,a){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(u!==4&&(r=r.child,r!==null))for(Jd(r,s,a),r=r.sibling;r!==null;)Jd(r,s,a),r=r.sibling}var ln=null,wr=!1;function Ls(r,s,a){for(a=a.child;a!==null;)Dg(r,s,a),a=a.sibling}function Dg(r,s,a){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(gl,a)}catch{}switch(a.tag){case 5:mn||to(a,s);case 6:var u=ln,p=wr;ln=null,Ls(r,s,a),ln=u,wr=p,ln!==null&&(wr?(r=ln,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):ln.removeChild(a.stateNode));break;case 18:ln!==null&&(wr?(r=ln,a=a.stateNode,r.nodeType===8?fd(r.parentNode,a):r.nodeType===1&&fd(r,a),Go(r)):fd(ln,a.stateNode));break;case 4:u=ln,p=wr,ln=a.stateNode.containerInfo,wr=!0,Ls(r,s,a),ln=u,wr=p;break;case 0:case 11:case 14:case 15:if(!mn&&(u=a.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){p=u=u.next;do{var v=p,S=v.destroy;v=v.tag,S!==void 0&&((v&2)!==0||(v&4)!==0)&&Gd(a,s,S),p=p.next}while(p!==u)}Ls(r,s,a);break;case 1:if(!mn&&(to(a,s),u=a.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=a.memoizedProps,u.state=a.memoizedState,u.componentWillUnmount()}catch(R){Ft(a,s,R)}Ls(r,s,a);break;case 21:Ls(r,s,a);break;case 22:a.mode&1?(mn=(u=mn)||a.memoizedState!==null,Ls(r,s,a),mn=u):Ls(r,s,a);break;default:Ls(r,s,a)}}function Fg(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new tN),s.forEach(function(u){var p=dN.bind(null,r,u);a.has(u)||(a.add(u),u.then(p,p))})}}function Sr(r,s){var a=s.deletions;if(a!==null)for(var u=0;u<a.length;u++){var p=a[u];try{var v=r,S=s,R=S;e:for(;R!==null;){switch(R.tag){case 5:ln=R.stateNode,wr=!1;break e;case 3:ln=R.stateNode.containerInfo,wr=!0;break e;case 4:ln=R.stateNode.containerInfo,wr=!0;break e}R=R.return}if(ln===null)throw Error(n(160));Dg(v,S,p),ln=null,wr=!1;var z=p.alternate;z!==null&&(z.return=null),p.return=null}catch(ie){Ft(p,s,ie)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)zg(s,r),s=s.sibling}function zg(r,s){var a=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Sr(s,r),Br(r),u&4){try{va(3,r,r.return),rc(3,r)}catch(Oe){Ft(r,r.return,Oe)}try{va(5,r,r.return)}catch(Oe){Ft(r,r.return,Oe)}}break;case 1:Sr(s,r),Br(r),u&512&&a!==null&&to(a,a.return);break;case 5:if(Sr(s,r),Br(r),u&512&&a!==null&&to(a,a.return),r.flags&32){var p=r.stateNode;try{Dt(p,"")}catch(Oe){Ft(r,r.return,Oe)}}if(u&4&&(p=r.stateNode,p!=null)){var v=r.memoizedProps,S=a!==null?a.memoizedProps:v,R=r.type,z=r.updateQueue;if(r.updateQueue=null,z!==null)try{R==="input"&&v.type==="radio"&&v.name!=null&&vn(p,v),Jr(R,S);var ie=Jr(R,v);for(S=0;S<z.length;S+=2){var ge=z[S],ve=z[S+1];ge==="style"?Rn(p,ve):ge==="dangerouslySetInnerHTML"?qn(p,ve):ge==="children"?Dt(p,ve):A(p,ge,ve,ie)}switch(R){case"input":ce(p,v);break;case"textarea":Xe(p,v);break;case"select":var me=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!v.multiple;var Ee=v.value;Ee!=null?ke(p,!!v.multiple,Ee,!1):me!==!!v.multiple&&(v.defaultValue!=null?ke(p,!!v.multiple,v.defaultValue,!0):ke(p,!!v.multiple,v.multiple?[]:"",!1))}p[aa]=v}catch(Oe){Ft(r,r.return,Oe)}}break;case 6:if(Sr(s,r),Br(r),u&4){if(r.stateNode===null)throw Error(n(162));p=r.stateNode,v=r.memoizedProps;try{p.nodeValue=v}catch(Oe){Ft(r,r.return,Oe)}}break;case 3:if(Sr(s,r),Br(r),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Go(s.containerInfo)}catch(Oe){Ft(r,r.return,Oe)}break;case 4:Sr(s,r),Br(r);break;case 13:Sr(s,r),Br(r),p=r.child,p.flags&8192&&(v=p.memoizedState!==null,p.stateNode.isHidden=v,!v||p.alternate!==null&&p.alternate.memoizedState!==null||(nf=wt())),u&4&&Fg(r);break;case 22:if(ge=a!==null&&a.memoizedState!==null,r.mode&1?(mn=(ie=mn)||ge,Sr(s,r),mn=ie):Sr(s,r),Br(r),u&8192){if(ie=r.memoizedState!==null,(r.stateNode.isHidden=ie)&&!ge&&(r.mode&1)!==0)for(Ae=r,ge=r.child;ge!==null;){for(ve=Ae=ge;Ae!==null;){switch(me=Ae,Ee=me.child,me.tag){case 0:case 11:case 14:case 15:va(4,me,me.return);break;case 1:to(me,me.return);var Re=me.stateNode;if(typeof Re.componentWillUnmount=="function"){u=me,a=me.return;try{s=u,Re.props=s.memoizedProps,Re.state=s.memoizedState,Re.componentWillUnmount()}catch(Oe){Ft(u,a,Oe)}}break;case 5:to(me,me.return);break;case 22:if(me.memoizedState!==null){Vg(ve);continue}}Ee!==null?(Ee.return=me,Ae=Ee):Vg(ve)}ge=ge.sibling}e:for(ge=null,ve=r;;){if(ve.tag===5){if(ge===null){ge=ve;try{p=ve.stateNode,ie?(v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(R=ve.stateNode,z=ve.memoizedProps.style,S=z!=null&&z.hasOwnProperty("display")?z.display:null,R.style.display=bn("display",S))}catch(Oe){Ft(r,r.return,Oe)}}}else if(ve.tag===6){if(ge===null)try{ve.stateNode.nodeValue=ie?"":ve.memoizedProps}catch(Oe){Ft(r,r.return,Oe)}}else if((ve.tag!==22&&ve.tag!==23||ve.memoizedState===null||ve===r)&&ve.child!==null){ve.child.return=ve,ve=ve.child;continue}if(ve===r)break e;for(;ve.sibling===null;){if(ve.return===null||ve.return===r)break e;ge===ve&&(ge=null),ve=ve.return}ge===ve&&(ge=null),ve.sibling.return=ve.return,ve=ve.sibling}}break;case 19:Sr(s,r),Br(r),u&4&&Fg(r);break;case 21:break;default:Sr(s,r),Br(r)}}function Br(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Og(a)){var u=a;break e}a=a.return}throw Error(n(160))}switch(u.tag){case 5:var p=u.stateNode;u.flags&32&&(Dt(p,""),u.flags&=-33);var v=Mg(r);Jd(r,v,p);break;case 3:case 4:var S=u.stateNode.containerInfo,R=Mg(r);Xd(r,R,S);break;default:throw Error(n(161))}}catch(z){Ft(r,r.return,z)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function rN(r,s,a){Ae=r,$g(r)}function $g(r,s,a){for(var u=(r.mode&1)!==0;Ae!==null;){var p=Ae,v=p.child;if(p.tag===22&&u){var S=p.memoizedState!==null||nc;if(!S){var R=p.alternate,z=R!==null&&R.memoizedState!==null||mn;R=nc;var ie=mn;if(nc=S,(mn=z)&&!ie)for(Ae=p;Ae!==null;)S=Ae,z=S.child,S.tag===22&&S.memoizedState!==null?Ug(p):z!==null?(z.return=S,Ae=z):Ug(p);for(;v!==null;)Ae=v,$g(v),v=v.sibling;Ae=p,nc=R,mn=ie}Bg(r)}else(p.subtreeFlags&8772)!==0&&v!==null?(v.return=p,Ae=v):Bg(r)}}function Bg(r){for(;Ae!==null;){var s=Ae;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:mn||rc(5,s);break;case 1:var u=s.stateNode;if(s.flags&4&&!mn)if(a===null)u.componentDidMount();else{var p=s.elementType===s.type?a.memoizedProps:br(s.type,a.memoizedProps);u.componentDidUpdate(p,a.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var v=s.updateQueue;v!==null&&Vh(s,v,u);break;case 3:var S=s.updateQueue;if(S!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Vh(s,S,a)}break;case 5:var R=s.stateNode;if(a===null&&s.flags&4){a=R;var z=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&a.focus();break;case"img":z.src&&(a.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var ie=s.alternate;if(ie!==null){var ge=ie.memoizedState;if(ge!==null){var ve=ge.dehydrated;ve!==null&&Go(ve)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}mn||s.flags&512&&Yd(s)}catch(me){Ft(s,s.return,me)}}if(s===r){Ae=null;break}if(a=s.sibling,a!==null){a.return=s.return,Ae=a;break}Ae=s.return}}function Vg(r){for(;Ae!==null;){var s=Ae;if(s===r){Ae=null;break}var a=s.sibling;if(a!==null){a.return=s.return,Ae=a;break}Ae=s.return}}function Ug(r){for(;Ae!==null;){var s=Ae;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{rc(4,s)}catch(z){Ft(s,a,z)}break;case 1:var u=s.stateNode;if(typeof u.componentDidMount=="function"){var p=s.return;try{u.componentDidMount()}catch(z){Ft(s,p,z)}}var v=s.return;try{Yd(s)}catch(z){Ft(s,v,z)}break;case 5:var S=s.return;try{Yd(s)}catch(z){Ft(s,S,z)}}}catch(z){Ft(s,s.return,z)}if(s===r){Ae=null;break}var R=s.sibling;if(R!==null){R.return=s.return,Ae=R;break}Ae=s.return}}var sN=Math.ceil,sc=L.ReactCurrentDispatcher,ef=L.ReactCurrentOwner,cr=L.ReactCurrentBatchConfig,dt=0,rn=null,Ht=null,cn=0,Gn=0,no=Ps(0),Yt=0,xa=null,di=0,ic=0,tf=0,ba=null,Fn=null,nf=0,ro=1/0,as=null,oc=!1,rf=null,Os=null,ac=!1,Ms=null,lc=0,wa=0,sf=null,cc=-1,uc=0;function kn(){return(dt&6)!==0?wt():cc!==-1?cc:cc=wt()}function Ds(r){return(r.mode&1)===0?1:(dt&2)!==0&&cn!==0?cn&-cn:BS.transition!==null?(uc===0&&(uc=Mm()),uc):(r=vt,r!==0||(r=window.event,r=r===void 0?16:qm(r.type)),r)}function Nr(r,s,a,u){if(50<wa)throw wa=0,sf=null,Error(n(185));qo(r,a,u),((dt&2)===0||r!==rn)&&(r===rn&&((dt&2)===0&&(ic|=a),Yt===4&&Fs(r,cn)),zn(r,u),a===1&&dt===0&&(s.mode&1)===0&&(ro=wt()+500,Fl&&As()))}function zn(r,s){var a=r.callbackNode;B1(r,s);var u=xl(r,r===rn?cn:0);if(u===0)a!==null&&hr(a),r.callbackNode=null,r.callbackPriority=0;else if(s=u&-u,r.callbackPriority!==s){if(a!=null&&hr(a),s===1)r.tag===0?$S(qg.bind(null,r)):Th(qg.bind(null,r)),MS(function(){(dt&6)===0&&As()}),a=null;else{switch(Dm(u)){case 1:a=Du;break;case 4:a=Lm;break;case 16:a=hl;break;case 536870912:a=Om;break;default:a=hl}a=Jg(a,Wg.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Wg(r,s){if(cc=-1,uc=0,(dt&6)!==0)throw Error(n(327));var a=r.callbackNode;if(so()&&r.callbackNode!==a)return null;var u=xl(r,r===rn?cn:0);if(u===0)return null;if((u&30)!==0||(u&r.expiredLanes)!==0||s)s=dc(r,u);else{s=u;var p=dt;dt|=2;var v=Qg();(rn!==r||cn!==s)&&(as=null,ro=wt()+500,pi(r,s));do try{aN();break}catch(R){Hg(r,R)}while(!0);Sd(),sc.current=v,dt=p,Ht!==null?s=0:(rn=null,cn=0,s=Yt)}if(s!==0){if(s===2&&(p=Fu(r),p!==0&&(u=p,s=of(r,p))),s===1)throw a=xa,pi(r,0),Fs(r,u),zn(r,wt()),a;if(s===6)Fs(r,u);else{if(p=r.current.alternate,(u&30)===0&&!iN(p)&&(s=dc(r,u),s===2&&(v=Fu(r),v!==0&&(u=v,s=of(r,v))),s===1))throw a=xa,pi(r,0),Fs(r,u),zn(r,wt()),a;switch(r.finishedWork=p,r.finishedLanes=u,s){case 0:case 1:throw Error(n(345));case 2:mi(r,Fn,as);break;case 3:if(Fs(r,u),(u&130023424)===u&&(s=nf+500-wt(),10<s)){if(xl(r,0)!==0)break;if(p=r.suspendedLanes,(p&u)!==u){kn(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=dd(mi.bind(null,r,Fn,as),s);break}mi(r,Fn,as);break;case 4:if(Fs(r,u),(u&4194240)===u)break;for(s=r.eventTimes,p=-1;0<u;){var S=31-yr(u);v=1<<S,S=s[S],S>p&&(p=S),u&=~v}if(u=p,u=wt()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*sN(u/1960))-u,10<u){r.timeoutHandle=dd(mi.bind(null,r,Fn,as),u);break}mi(r,Fn,as);break;case 5:mi(r,Fn,as);break;default:throw Error(n(329))}}}return zn(r,wt()),r.callbackNode===a?Wg.bind(null,r):null}function of(r,s){var a=ba;return r.current.memoizedState.isDehydrated&&(pi(r,s).flags|=256),r=dc(r,s),r!==2&&(s=Fn,Fn=a,s!==null&&af(s)),r}function af(r){Fn===null?Fn=r:Fn.push.apply(Fn,r)}function iN(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var u=0;u<a.length;u++){var p=a[u],v=p.getSnapshot;p=p.value;try{if(!vr(v(),p))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Fs(r,s){for(s&=~tf,s&=~ic,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-yr(s),u=1<<a;r[a]=-1,s&=~u}}function qg(r){if((dt&6)!==0)throw Error(n(327));so();var s=xl(r,0);if((s&1)===0)return zn(r,wt()),null;var a=dc(r,s);if(r.tag!==0&&a===2){var u=Fu(r);u!==0&&(s=u,a=of(r,u))}if(a===1)throw a=xa,pi(r,0),Fs(r,s),zn(r,wt()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,mi(r,Fn,as),zn(r,wt()),null}function lf(r,s){var a=dt;dt|=1;try{return r(s)}finally{dt=a,dt===0&&(ro=wt()+500,Fl&&As())}}function fi(r){Ms!==null&&Ms.tag===0&&(dt&6)===0&&so();var s=dt;dt|=1;var a=cr.transition,u=vt;try{if(cr.transition=null,vt=1,r)return r()}finally{vt=u,cr.transition=a,dt=s,(dt&6)===0&&As()}}function cf(){Gn=no.current,Ct(no)}function pi(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,OS(a)),Ht!==null)for(a=Ht.return;a!==null;){var u=a;switch(yd(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ml();break;case 3:Ji(),Ct(On),Ct(dn),Td();break;case 5:Ed(u);break;case 4:Ji();break;case 13:Ct(Rt);break;case 19:Ct(Rt);break;case 10:Nd(u.type._context);break;case 22:case 23:cf()}a=a.return}if(rn=r,Ht=r=zs(r.current,null),cn=Gn=s,Yt=0,xa=null,tf=ic=di=0,Fn=ba=null,li!==null){for(s=0;s<li.length;s++)if(a=li[s],u=a.interleaved,u!==null){a.interleaved=null;var p=u.next,v=a.pending;if(v!==null){var S=v.next;v.next=p,u.next=S}a.pending=u}li=null}return r}function Hg(r,s){do{var a=Ht;try{if(Sd(),Kl.current=Xl,Zl){for(var u=It.memoizedState;u!==null;){var p=u.queue;p!==null&&(p.pending=null),u=u.next}Zl=!1}if(ui=0,nn=Gt=It=null,pa=!1,ma=0,ef.current=null,a===null||a.return===null){Yt=1,xa=s,Ht=null;break}e:{var v=r,S=a.return,R=a,z=s;if(s=cn,R.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var ie=z,ge=R,ve=ge.tag;if((ge.mode&1)===0&&(ve===0||ve===11||ve===15)){var me=ge.alternate;me?(ge.updateQueue=me.updateQueue,ge.memoizedState=me.memoizedState,ge.lanes=me.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var Ee=yg(S);if(Ee!==null){Ee.flags&=-257,vg(Ee,S,R,v,s),Ee.mode&1&&gg(v,ie,s),s=Ee,z=ie;var Re=s.updateQueue;if(Re===null){var Oe=new Set;Oe.add(z),s.updateQueue=Oe}else Re.add(z);break e}else{if((s&1)===0){gg(v,ie,s),uf();break e}z=Error(n(426))}}else if(Pt&&R.mode&1){var Vt=yg(S);if(Vt!==null){(Vt.flags&65536)===0&&(Vt.flags|=256),vg(Vt,S,R,v,s),bd(eo(z,R));break e}}v=z=eo(z,R),Yt!==4&&(Yt=2),ba===null?ba=[v]:ba.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,s&=-s,v.lanes|=s;var Y=mg(v,z,s);Bh(v,Y);break e;case 1:R=z;var W=v.type,te=v.stateNode;if((v.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||te!==null&&typeof te.componentDidCatch=="function"&&(Os===null||!Os.has(te)))){v.flags|=65536,s&=-s,v.lanes|=s;var Se=hg(v,R,s);Bh(v,Se);break e}}v=v.return}while(v!==null)}Zg(a)}catch(De){s=De,Ht===a&&a!==null&&(Ht=a=a.return);continue}break}while(!0)}function Qg(){var r=sc.current;return sc.current=Xl,r===null?Xl:r}function uf(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),rn===null||(di&268435455)===0&&(ic&268435455)===0||Fs(rn,cn)}function dc(r,s){var a=dt;dt|=2;var u=Qg();(rn!==r||cn!==s)&&(as=null,pi(r,s));do try{oN();break}catch(p){Hg(r,p)}while(!0);if(Sd(),dt=a,sc.current=u,Ht!==null)throw Error(n(261));return rn=null,cn=0,Yt}function oN(){for(;Ht!==null;)Kg(Ht)}function aN(){for(;Ht!==null&&!sr();)Kg(Ht)}function Kg(r){var s=Xg(r.alternate,r,Gn);r.memoizedProps=r.pendingProps,s===null?Zg(r):Ht=s,ef.current=null}function Zg(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=JS(a,s,Gn),a!==null){Ht=a;return}}else{if(a=eN(a,s),a!==null){a.flags&=32767,Ht=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Yt=6,Ht=null;return}}if(s=s.sibling,s!==null){Ht=s;return}Ht=s=r}while(s!==null);Yt===0&&(Yt=5)}function mi(r,s,a){var u=vt,p=cr.transition;try{cr.transition=null,vt=1,lN(r,s,a,u)}finally{cr.transition=p,vt=u}return null}function lN(r,s,a,u){do so();while(Ms!==null);if((dt&6)!==0)throw Error(n(327));a=r.finishedWork;var p=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var v=a.lanes|a.childLanes;if(V1(r,v),r===rn&&(Ht=rn=null,cn=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||ac||(ac=!0,Jg(hl,function(){return so(),null})),v=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||v){v=cr.transition,cr.transition=null;var S=vt;vt=1;var R=dt;dt|=4,ef.current=null,nN(r,a),zg(a,r),ES(cd),Sl=!!ld,cd=ld=null,r.current=a,rN(a),gr(),dt=R,vt=S,cr.transition=v}else r.current=a;if(ac&&(ac=!1,Ms=r,lc=p),v=r.pendingLanes,v===0&&(Os=null),M1(a.stateNode),zn(r,wt()),s!==null)for(u=r.onRecoverableError,a=0;a<s.length;a++)p=s[a],u(p.value,{componentStack:p.stack,digest:p.digest});if(oc)throw oc=!1,r=rf,rf=null,r;return(lc&1)!==0&&r.tag!==0&&so(),v=r.pendingLanes,(v&1)!==0?r===sf?wa++:(wa=0,sf=r):wa=0,As(),null}function so(){if(Ms!==null){var r=Dm(lc),s=cr.transition,a=vt;try{if(cr.transition=null,vt=16>r?16:r,Ms===null)var u=!1;else{if(r=Ms,Ms=null,lc=0,(dt&6)!==0)throw Error(n(331));var p=dt;for(dt|=4,Ae=r.current;Ae!==null;){var v=Ae,S=v.child;if((Ae.flags&16)!==0){var R=v.deletions;if(R!==null){for(var z=0;z<R.length;z++){var ie=R[z];for(Ae=ie;Ae!==null;){var ge=Ae;switch(ge.tag){case 0:case 11:case 15:va(8,ge,v)}var ve=ge.child;if(ve!==null)ve.return=ge,Ae=ve;else for(;Ae!==null;){ge=Ae;var me=ge.sibling,Ee=ge.return;if(Lg(ge),ge===ie){Ae=null;break}if(me!==null){me.return=Ee,Ae=me;break}Ae=Ee}}}var Re=v.alternate;if(Re!==null){var Oe=Re.child;if(Oe!==null){Re.child=null;do{var Vt=Oe.sibling;Oe.sibling=null,Oe=Vt}while(Oe!==null)}}Ae=v}}if((v.subtreeFlags&2064)!==0&&S!==null)S.return=v,Ae=S;else e:for(;Ae!==null;){if(v=Ae,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:va(9,v,v.return)}var Y=v.sibling;if(Y!==null){Y.return=v.return,Ae=Y;break e}Ae=v.return}}var W=r.current;for(Ae=W;Ae!==null;){S=Ae;var te=S.child;if((S.subtreeFlags&2064)!==0&&te!==null)te.return=S,Ae=te;else e:for(S=W;Ae!==null;){if(R=Ae,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:rc(9,R)}}catch(De){Ft(R,R.return,De)}if(R===S){Ae=null;break e}var Se=R.sibling;if(Se!==null){Se.return=R.return,Ae=Se;break e}Ae=R.return}}if(dt=p,As(),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot(gl,r)}catch{}u=!0}return u}finally{vt=a,cr.transition=s}}return!1}function Gg(r,s,a){s=eo(a,s),s=mg(r,s,1),r=Is(r,s,1),s=kn(),r!==null&&(qo(r,1,s),zn(r,s))}function Ft(r,s,a){if(r.tag===3)Gg(r,r,a);else for(;s!==null;){if(s.tag===3){Gg(s,r,a);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Os===null||!Os.has(u))){r=eo(a,r),r=hg(s,r,1),s=Is(s,r,1),r=kn(),s!==null&&(qo(s,1,r),zn(s,r));break}}s=s.return}}function cN(r,s,a){var u=r.pingCache;u!==null&&u.delete(s),s=kn(),r.pingedLanes|=r.suspendedLanes&a,rn===r&&(cn&a)===a&&(Yt===4||Yt===3&&(cn&130023424)===cn&&500>wt()-nf?pi(r,0):tf|=a),zn(r,s)}function Yg(r,s){s===0&&((r.mode&1)===0?s=1:(s=vl,vl<<=1,(vl&130023424)===0&&(vl=4194304)));var a=kn();r=ss(r,s),r!==null&&(qo(r,s,a),zn(r,a))}function uN(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),Yg(r,a)}function dN(r,s){var a=0;switch(r.tag){case 13:var u=r.stateNode,p=r.memoizedState;p!==null&&(a=p.retryLane);break;case 19:u=r.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(s),Yg(r,a)}var Xg;Xg=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||On.current)Dn=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return Dn=!1,XS(r,s,a);Dn=(r.flags&131072)!==0}else Dn=!1,Pt&&(s.flags&1048576)!==0&&Ah(s,$l,s.index);switch(s.lanes=0,s.tag){case 2:var u=s.type;tc(r,s),r=s.pendingProps;var p=Hi(s,dn.current);Xi(s,a),p=Id(null,s,u,r,p,a);var v=Ld();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Mn(u)?(v=!0,Dl(s)):v=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,jd(s),p.updater=Jl,s.stateNode=p,p._reactInternals=s,$d(s,u,r,a),s=Wd(null,s,u,!0,v,a)):(s.tag=0,Pt&&v&&gd(s),Nn(null,s,p,a),s=s.child),s;case 16:u=s.elementType;e:{switch(tc(r,s),r=s.pendingProps,p=u._init,u=p(u._payload),s.type=u,p=s.tag=pN(u),r=br(u,r),p){case 0:s=Ud(null,s,u,r,a);break e;case 1:s=kg(null,s,u,r,a);break e;case 11:s=xg(null,s,u,r,a);break e;case 14:s=bg(null,s,u,br(u.type,r),a);break e}throw Error(n(306,u,""))}return s;case 0:return u=s.type,p=s.pendingProps,p=s.elementType===u?p:br(u,p),Ud(r,s,u,p,a);case 1:return u=s.type,p=s.pendingProps,p=s.elementType===u?p:br(u,p),kg(r,s,u,p,a);case 3:e:{if(Cg(s),r===null)throw Error(n(387));u=s.pendingProps,v=s.memoizedState,p=v.element,$h(r,s),Hl(s,u,null,a);var S=s.memoizedState;if(u=S.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){p=eo(Error(n(423)),s),s=jg(r,s,u,a,p);break e}else if(u!==p){p=eo(Error(n(424)),s),s=jg(r,s,u,a,p);break e}else for(Zn=Es(s.stateNode.containerInfo.firstChild),Kn=s,Pt=!0,xr=null,a=Fh(s,null,u,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Zi(),u===p){s=os(r,s,a);break e}Nn(r,s,u,a)}s=s.child}return s;case 5:return Uh(s),r===null&&xd(s),u=s.type,p=s.pendingProps,v=r!==null?r.memoizedProps:null,S=p.children,ud(u,p)?S=null:v!==null&&ud(u,v)&&(s.flags|=32),Ng(r,s),Nn(r,s,S,a),s.child;case 6:return r===null&&xd(s),null;case 13:return _g(r,s,a);case 4:return _d(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Gi(s,null,u,a):Nn(r,s,u,a),s.child;case 11:return u=s.type,p=s.pendingProps,p=s.elementType===u?p:br(u,p),xg(r,s,u,p,a);case 7:return Nn(r,s,s.pendingProps,a),s.child;case 8:return Nn(r,s,s.pendingProps.children,a),s.child;case 12:return Nn(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(u=s.type._context,p=s.pendingProps,v=s.memoizedProps,S=p.value,St(Ul,u._currentValue),u._currentValue=S,v!==null)if(vr(v.value,S)){if(v.children===p.children&&!On.current){s=os(r,s,a);break e}}else for(v=s.child,v!==null&&(v.return=s);v!==null;){var R=v.dependencies;if(R!==null){S=v.child;for(var z=R.firstContext;z!==null;){if(z.context===u){if(v.tag===1){z=is(-1,a&-a),z.tag=2;var ie=v.updateQueue;if(ie!==null){ie=ie.shared;var ge=ie.pending;ge===null?z.next=z:(z.next=ge.next,ge.next=z),ie.pending=z}}v.lanes|=a,z=v.alternate,z!==null&&(z.lanes|=a),kd(v.return,a,s),R.lanes|=a;break}z=z.next}}else if(v.tag===10)S=v.type===s.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(n(341));S.lanes|=a,R=S.alternate,R!==null&&(R.lanes|=a),kd(S,a,s),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===s){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}Nn(r,s,p.children,a),s=s.child}return s;case 9:return p=s.type,u=s.pendingProps.children,Xi(s,a),p=ar(p),u=u(p),s.flags|=1,Nn(r,s,u,a),s.child;case 14:return u=s.type,p=br(u,s.pendingProps),p=br(u.type,p),bg(r,s,u,p,a);case 15:return wg(r,s,s.type,s.pendingProps,a);case 17:return u=s.type,p=s.pendingProps,p=s.elementType===u?p:br(u,p),tc(r,s),s.tag=1,Mn(u)?(r=!0,Dl(s)):r=!1,Xi(s,a),fg(s,u,p),$d(s,u,p,a),Wd(null,s,u,!0,r,a);case 19:return Pg(r,s,a);case 22:return Sg(r,s,a)}throw Error(n(156,s.tag))};function Jg(r,s){return Ln(r,s)}function fN(r,s,a,u){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(r,s,a,u){return new fN(r,s,a,u)}function df(r){return r=r.prototype,!(!r||!r.isReactComponent)}function pN(r){if(typeof r=="function")return df(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ee)return 11;if(r===ue)return 14}return 2}function zs(r,s){var a=r.alternate;return a===null?(a=ur(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function fc(r,s,a,u,p,v){var S=2;if(u=r,typeof r=="function")df(r)&&(S=1);else if(typeof r=="string")S=5;else e:switch(r){case I:return hi(a.children,p,v,s);case J:S=8,p|=8;break;case se:return r=ur(12,a,s,p|2),r.elementType=se,r.lanes=v,r;case de:return r=ur(13,a,s,p),r.elementType=de,r.lanes=v,r;case le:return r=ur(19,a,s,p),r.elementType=le,r.lanes=v,r;case Q:return pc(a,p,v,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case ae:S=10;break e;case K:S=9;break e;case ee:S=11;break e;case ue:S=14;break e;case q:S=16,u=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=ur(S,a,s,p),s.elementType=r,s.type=u,s.lanes=v,s}function hi(r,s,a,u){return r=ur(7,r,u,s),r.lanes=a,r}function pc(r,s,a,u){return r=ur(22,r,u,s),r.elementType=Q,r.lanes=a,r.stateNode={isHidden:!1},r}function ff(r,s,a){return r=ur(6,r,null,s),r.lanes=a,r}function pf(r,s,a){return s=ur(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function mN(r,s,a,u,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zu(0),this.expirationTimes=zu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zu(0),this.identifierPrefix=u,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function mf(r,s,a,u,p,v,S,R,z){return r=new mN(r,s,a,R,z),s===1?(s=1,v===!0&&(s|=8)):s=0,v=ur(3,null,null,s),r.current=v,v.stateNode=r,v.memoizedState={element:u,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},jd(v),r}function hN(r,s,a){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:u==null?null:""+u,children:r,containerInfo:s,implementation:a}}function ey(r){if(!r)return Ts;r=r._reactInternals;e:{if(At(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Mn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(Mn(a))return Eh(r,a,s)}return s}function ty(r,s,a,u,p,v,S,R,z){return r=mf(a,u,!0,r,p,v,S,R,z),r.context=ey(null),a=r.current,u=kn(),p=Ds(a),v=is(u,p),v.callback=s??null,Is(a,v,p),r.current.lanes=p,qo(r,p,u),zn(r,u),r}function mc(r,s,a,u){var p=s.current,v=kn(),S=Ds(p);return a=ey(a),s.context===null?s.context=a:s.pendingContext=a,s=is(v,S),s.payload={element:r},u=u===void 0?null:u,u!==null&&(s.callback=u),r=Is(p,s,S),r!==null&&(Nr(r,p,S,v),ql(r,p,S)),S}function hc(r){return r=r.current,r.child?(r.child.tag===5,r.child.stateNode):null}function ny(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function hf(r,s){ny(r,s),(r=r.alternate)&&ny(r,s)}function gN(){return null}var ry=typeof reportError=="function"?reportError:function(r){console.error(r)};function gf(r){this._internalRoot=r}gc.prototype.render=gf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));mc(r,s,null,null)},gc.prototype.unmount=gf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;fi(function(){mc(null,r,null,null)}),s[es]=null}};function gc(r){this._internalRoot=r}gc.prototype.unstable_scheduleHydration=function(r){if(r){var s=$m();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Cs.length&&s!==0&&s<Cs[a].priority;a++);Cs.splice(a,0,r),a===0&&Um(r)}};function yf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function yc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function sy(){}function yN(r,s,a,u,p){if(p){if(typeof u=="function"){var v=u;u=function(){var ie=hc(S);v.call(ie)}}var S=ty(s,u,r,0,null,!1,!1,"",sy);return r._reactRootContainer=S,r[es]=S.current,ia(r.nodeType===8?r.parentNode:r),fi(),S}for(;p=r.lastChild;)r.removeChild(p);if(typeof u=="function"){var R=u;u=function(){var ie=hc(z);R.call(ie)}}var z=mf(r,0,!1,null,null,!1,!1,"",sy);return r._reactRootContainer=z,r[es]=z.current,ia(r.nodeType===8?r.parentNode:r),fi(function(){mc(s,z,a,u)}),z}function vc(r,s,a,u,p){var v=a._reactRootContainer;if(v){var S=v;if(typeof p=="function"){var R=p;p=function(){var z=hc(S);R.call(z)}}mc(s,S,r,p)}else S=yN(a,s,r,p,u);return hc(S)}Fm=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=Wo(s.pendingLanes);a!==0&&($u(s,a|1),zn(s,wt()),(dt&6)===0&&(ro=wt()+500,As()))}break;case 13:fi(function(){var u=ss(r,1);if(u!==null){var p=kn();Nr(u,r,1,p)}}),hf(r,1)}},Bu=function(r){if(r.tag===13){var s=ss(r,134217728);if(s!==null){var a=kn();Nr(s,r,134217728,a)}hf(r,134217728)}},zm=function(r){if(r.tag===13){var s=Ds(r),a=ss(r,s);if(a!==null){var u=kn();Nr(a,r,s,u)}hf(r,s)}},$m=function(){return vt},Bm=function(r,s){var a=vt;try{return vt=r,s()}finally{vt=a}},ws=function(r,s,a){switch(s){case"input":if(ce(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var u=a[s];if(u!==r&&u.form===r.form){var p=Ol(u);if(!p)throw Error(n(90));Ye(u),ce(u,p)}}}break;case"textarea":Xe(r,a);break;case"select":s=a.value,s!=null&&ke(r,!!a.multiple,s,!1)}},_e=lf,we=fi;var vN={usingClientEntryPoint:!1,Events:[la,Wi,Ol,oe,pe,lf]},Sa={findFiberByHostInstance:si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xN={bundleType:Sa.bundleType,version:Sa.version,rendererPackageName:Sa.rendererPackageName,rendererConfig:Sa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=bt(r),r===null?null:r.stateNode},findFiberByHostInstance:Sa.findFiberByHostInstance||gN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{gl=xc.inject(xN),Dr=xc}catch{}}return $n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vN,$n.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yf(s))throw Error(n(200));return hN(r,s,null,a)},$n.createRoot=function(r,s){if(!yf(r))throw Error(n(299));var a=!1,u="",p=ry;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=mf(r,1,!1,null,null,a,!1,u,p),r[es]=s.current,ia(r.nodeType===8?r.parentNode:r),new gf(s)},$n.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=bt(s),r=r===null?null:r.stateNode,r},$n.flushSync=function(r){return fi(r)},$n.hydrate=function(r,s,a){if(!yc(s))throw Error(n(200));return vc(null,r,s,!0,a)},$n.hydrateRoot=function(r,s,a){if(!yf(r))throw Error(n(405));var u=a!=null&&a.hydratedSources||null,p=!1,v="",S=ry;if(a!=null&&(a.unstable_strictMode===!0&&(p=!0),a.identifierPrefix!==void 0&&(v=a.identifierPrefix),a.onRecoverableError!==void 0&&(S=a.onRecoverableError)),s=ty(s,null,r,1,a??null,p,!1,v,S),r[es]=s.current,ia(r),u)for(r=0;r<u.length;r++)a=u[r],p=a._getVersion,p=p(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,p]:s.mutableSourceEagerHydrationData.push(a,p);return new gc(s)},$n.render=function(r,s,a){if(!yc(s))throw Error(n(200));return vc(null,r,s,!1,a)},$n.unmountComponentAtNode=function(r){if(!yc(r))throw Error(n(40));return r._reactRootContainer?(fi(function(){vc(null,null,r,!1,function(){r._reactRootContainer=null,r[es]=null})}),!0):!1},$n.unstable_batchedUpdates=lf,$n.unstable_renderSubtreeIntoContainer=function(r,s,a,u){if(!yc(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return vc(r,s,a,!1,u)},$n.version="18.3.1-next-f1338f8080-20240426",$n}var fy;function ex(){if(fy)return bf.exports;fy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),bf.exports=_N(),bf.exports}var py;function EN(){if(py)return bc;py=1;var e=ex();return bc.createRoot=e.createRoot,bc.hydrateRoot=e.hydrateRoot,bc}var PN=EN();function TN(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,i,o,l,d=[],f="",m=e.split("/");for(m[0]||m.shift();o=m.shift();)n=o[0],n==="*"?(d.push(n),f+=o[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(i=o.indexOf("?",1),l=o.indexOf(".",1),d.push(o.substring(1,~i?i:~l?l:o.length)),f+=~i&&!~l?"(?:/([^/]+?))?":"/([^/]+?)",~l&&(f+=(~i?"?":"")+"\\"+o.substring(l))):f+="/"+o;return{keys:d,pattern:new RegExp("^"+f+(t?"(?=$|/)":"/?$"),"i")}}var y=Fo();const Pn=Ap(y),du=wN({__proto__:null,default:Pn},[y]);var Nf={exports:{}},kf={};var my;function AN(){if(my)return kf;my=1;var e=Fo();function t(x,b){return x===b&&(x!==0||1/x===1/b)||x!==x&&b!==b}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,o=e.useEffect,l=e.useLayoutEffect,d=e.useDebugValue;function f(x,b){var k=b(),C=i({inst:{value:k,getSnapshot:b}}),w=C[0].inst,N=C[1];return l(function(){w.value=k,w.getSnapshot=b,m(w)&&N({inst:w})},[x,k,b]),o(function(){return m(w)&&N({inst:w}),x(function(){m(w)&&N({inst:w})})},[x]),d(k),k}function m(x){var b=x.getSnapshot;x=x.value;try{var k=b();return!n(x,k)}catch{return!0}}function g(x,b){return b()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:f;return kf.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,kf}var hy;function RN(){return hy||(hy=1,Nf.exports=AN()),Nf.exports}var IN=RN();const LN=du.useInsertionEffect,ON=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",MN=ON?y.useLayoutEffect:y.useEffect,DN=LN||MN,tx=e=>{const t=y.useRef([e,(...n)=>t[0](...n)]).current;return DN(()=>{t[0]=e}),t[1]},FN="popstate",Rp="pushState",Ip="replaceState",zN="hashchange",gy=[FN,Rp,Ip,zN],$N=e=>{for(const t of gy)addEventListener(t,e);return()=>{for(const t of gy)removeEventListener(t,e)}},nx=(e,t)=>IN.useSyncExternalStore($N,e,t),BN=()=>location.search,VN=({ssrSearch:e=""}={})=>nx(BN,()=>e),yy=()=>location.pathname,UN=({ssrPath:e}={})=>nx(yy,e?()=>e:yy),WN=(e,{replace:t=!1,state:n=null}={})=>history[t?Ip:Rp](n,"",e),qN=(e={})=>[UN(e),WN],vy=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[vy]>"u"){for(const e of[Rp,Ip]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),i=new Event(e);return i.arguments=arguments,dispatchEvent(i),n}}Object.defineProperty(window,vy,{value:!0})}const HN=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",rx=(e="")=>e==="/"?"":e,QN=(e,t)=>e[0]==="~"?e.slice(1):rx(t)+e,KN=(e="",t)=>HN(xy(rx(e)),xy(t)),xy=e=>{try{return decodeURI(e)}catch{return e}},sx={hook:qN,searchHook:VN,parser:TN,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},ix=y.createContext(sx),al=()=>y.useContext(ix),ox={},ax=y.createContext(ox),ZN=()=>y.useContext(ax),fu=e=>{const[t,n]=e.hook(e);return[KN(e.base,t),tx((i,o)=>n(QN(i,e.base),o))]},lx=()=>fu(al()),cx=(e,t,n,i)=>{const{pattern:o,keys:l}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",i),d=o.exec(n)||[],[f,...m]=d;return f!==void 0?[!0,(()=>{const g=l!==!1?Object.fromEntries(l.map((x,b)=>[x,m[b]])):d.groups;let h={...m};return g&&Object.assign(h,g),h})(),...i?[f]:[]]:[!1,null]},GN=({children:e,...t})=>{const n=al(),i=t.hook?sx:n;let o=i;const[l,d]=t.ssrPath?.split("?")??[];d&&(t.ssrSearch=d,t.ssrPath=l),t.hrefs=t.hrefs??t.hook?.hrefs;let f=y.useRef({}),m=f.current,g=m;for(let h in i){const x=h==="base"?i[h]+(t[h]||""):t[h]||i[h];m===g&&x!==g[h]&&(f.current=g={...g}),g[h]=x,x!==i[h]&&(o=g)}return y.createElement(ix.Provider,{value:o,children:e})},by=({children:e,component:t},n)=>t?y.createElement(t,{params:n}):typeof e=="function"?e(n):e,YN=e=>{let t=y.useRef(ox),n=t.current;for(const i in e)e[i]!==n[i]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},Cf=({path:e,nest:t,match:n,...i})=>{const o=al(),[l]=fu(o),[d,f,m]=n??cx(o.parser,e,l,t),g=YN({...ZN(),...f});if(!d)return null;const h=m?y.createElement(GN,{base:m},by(i,g)):by(i,g);return y.createElement(ax.Provider,{value:g,children:h})};y.forwardRef((e,t)=>{const n=al(),[i,o]=fu(n),{to:l="",href:d=l,onClick:f,asChild:m,children:g,className:h,replace:x,state:b,...k}=e,C=tx(N=>{N.ctrlKey||N.metaKey||N.altKey||N.shiftKey||N.button!==0||(f?.(N),N.defaultPrevented||(N.preventDefault(),o(d,e)))}),w=n.hrefs(d[0]==="~"?d.slice(1):n.base+d,n);return m&&y.isValidElement(g)?y.cloneElement(g,{onClick:C,href:w}):y.createElement("a",{...k,onClick:C,href:w,className:h?.call?h(i===d):h,children:g,ref:t})});const ux=e=>Array.isArray(e)?e.flatMap(t=>ux(t&&t.type===y.Fragment?t.props.children:t)):[e],XN=({children:e,location:t})=>{const n=al(),[i]=fu(n);for(const o of ux(e)){let l=0;if(y.isValidElement(o)&&(l=cx(n.parser,o.props.path,t||i,o.props.nest))[0])return y.cloneElement(o,{match:l})}return null};var zo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ji=typeof window>"u"||"Deno"in globalThis;function fr(){}function JN(e,t){return typeof e=="function"?e(t):e}function np(e){return typeof e=="number"&&e>=0&&e!==1/0}function dx(e,t){return Math.max(e+(t||0)-Date.now(),0)}function yo(e,t){return typeof e=="function"?e(t):e}function jr(e,t){return typeof e=="function"?e(t):e}function wy(e,t){const{type:n="all",exact:i,fetchStatus:o,predicate:l,queryKey:d,stale:f}=e;if(d){if(i){if(t.queryHash!==Lp(d,t.options))return!1}else if(!Fa(t.queryKey,d))return!1}if(n!=="all"){const m=t.isActive();if(n==="active"&&!m||n==="inactive"&&m)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||o&&o!==t.state.fetchStatus||l&&!l(t))}function Sy(e,t){const{exact:n,status:i,predicate:o,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(n){if(_i(t.options.mutationKey)!==_i(l))return!1}else if(!Fa(t.options.mutationKey,l))return!1}return!(i&&t.state.status!==i||o&&!o(t))}function Lp(e,t){return(t?.queryKeyHashFn||_i)(e)}function _i(e){return JSON.stringify(e,(t,n)=>rp(n)?Object.keys(n).sort().reduce((i,o)=>(i[o]=n[o],i),{}):n)}function Fa(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Fa(e[n],t[n])):!1}function fx(e,t){if(e===t)return e;const n=Ny(e)&&Ny(t);if(n||rp(e)&&rp(t)){const i=n?e:Object.keys(e),o=i.length,l=n?t:Object.keys(t),d=l.length,f=n?[]:{};let m=0;for(let g=0;g<d;g++){const h=n?g:l[g];(!n&&i.includes(h)||n)&&e[h]===void 0&&t[h]===void 0?(f[h]=void 0,m++):(f[h]=fx(e[h],t[h]),f[h]===e[h]&&e[h]!==void 0&&m++)}return o===d&&m===o?e:f}return t}function $c(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Ny(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function rp(e){if(!ky(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!ky(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ky(e){return Object.prototype.toString.call(e)==="[object Object]"}function ek(e){return new Promise(t=>{setTimeout(t,e)})}function sp(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?fx(e,t):t}function tk(e,t,n=0){const i=[...e,t];return n&&i.length>n?i.slice(1):i}function nk(e,t,n=0){const i=[t,...e];return n&&i.length>n?i.slice(0,-1):i}var Op=Symbol();function px(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Op?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var rk=class extends zo{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!ji&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Mp=new rk,sk=class extends zo{#e=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!ji&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},Bc=new sk;function ip(){let e,t;const n=new Promise((o,l)=>{e=o,t=l});n.status="pending",n.catch(()=>{});function i(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{i({status:"fulfilled",value:o}),e(o)},n.reject=o=>{i({status:"rejected",reason:o}),t(o)},n}function ik(e){return Math.min(1e3*2**e,3e4)}function mx(e){return(e??"online")==="online"?Bc.isOnline():!0}var hx=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function jf(e){return e instanceof hx}function gx(e){let t=!1,n=0,i=!1,o;const l=ip(),d=w=>{i||(b(new hx(w)),e.abort?.())},f=()=>{t=!0},m=()=>{t=!1},g=()=>Mp.isFocused()&&(e.networkMode==="always"||Bc.isOnline())&&e.canRun(),h=()=>mx(e.networkMode)&&e.canRun(),x=w=>{i||(i=!0,e.onSuccess?.(w),o?.(),l.resolve(w))},b=w=>{i||(i=!0,e.onError?.(w),o?.(),l.reject(w))},k=()=>new Promise(w=>{o=N=>{(i||g())&&w(N)},e.onPause?.()}).then(()=>{o=void 0,i||e.onContinue?.()}),C=()=>{if(i)return;let w;const N=n===0?e.initialPromise:void 0;try{w=N??e.fn()}catch(j){w=Promise.reject(j)}Promise.resolve(w).then(x).catch(j=>{if(i)return;const P=e.retry??(ji?0:3),A=e.retryDelay??ik,L=typeof A=="function"?A(n,j):A,F=P===!0||typeof P=="number"&&n<P||typeof P=="function"&&P(n,j);if(t||!F){b(j);return}n++,e.onFail?.(n,j),ek(L).then(()=>g()?void 0:k()).then(()=>{t?b(j):C()})})};return{promise:l,cancel:d,continue:()=>(o?.(),l),cancelRetry:f,continueRetry:m,canStart:h,start:()=>(h()?C():k().then(C),l)}}function ok(){let e=[],t=0,n=f=>{f()},i=f=>{f()},o=f=>setTimeout(f,0);const l=f=>{t?e.push(f):o(()=>{n(f)})},d=()=>{const f=e;e=[],f.length&&o(()=>{i(()=>{f.forEach(m=>{n(m)})})})};return{batch:f=>{let m;t++;try{m=f()}finally{t--,t||d()}return m},batchCalls:f=>(...m)=>{l(()=>{f(...m)})},schedule:l,setNotifyFunction:f=>{n=f},setBatchNotifyFunction:f=>{i=f},setScheduler:f=>{o=f}}}var Jt=ok(),yx=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),np(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ji?1/0:300*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},ak=class extends yx{#e;#t;#r;#n;#o;#i;constructor(e){super(),this.#i=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.cache,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=lk(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(e){this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const n=sp(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#n?.promise;return this.#n?.cancel(e),t?t.then(fr).catch(fr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>jr(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Op||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!dx(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#n&&(this.#i?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(m=>m.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#i=!0,n.signal)})},o=()=>{const f=px(this.options,t),m={queryKey:this.queryKey,meta:this.meta};return i(m),this.#i=!1,this.options.persister?this.options.persister(f,m,this):f(m)},l={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(l),this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#s({type:"fetch",meta:l.fetchOptions?.meta});const d=f=>{jf(f)&&f.silent||this.#s({type:"error",error:f}),jf(f)||(this.#r.config.onError?.(f,this),this.#r.config.onSettled?.(this.state.data,f,this)),this.scheduleGc()};return this.#n=gx({initialPromise:t?.initialPromise,fn:l.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{if(f===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(m){d(m);return}this.#r.config.onSuccess?.(f,this),this.#r.config.onSettled?.(f,this.state.error,this),this.scheduleGc()},onError:d,onFail:(f,m)=>{this.#s({type:"failed",failureCount:f,error:m})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}),this.#n.start()}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...vx(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return jf(i)&&i.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Jt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function vx(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:mx(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function lk(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,i=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ck=class extends zo{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const i=t.queryKey,o=t.queryHash??Lp(i,t);let l=this.get(o);return l||(l=new ak({cache:this,queryKey:i,queryHash:o,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(l)),l}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Jt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>wy(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>wy(e,n)):t}notify(e){Jt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Jt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Jt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},uk=class extends yx{#e;#t;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||xx(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){this.#r=gx({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,o)=>{this.#n({type:"failed",failureCount:i,error:o})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const t=this.state.status==="pending",n=!this.#r.canStart();try{if(!t){this.#n({type:"pending",variables:e,isPaused:n}),await this.#t.config.onMutate?.(e,this);const o=await this.options.onMutate?.(e);o!==this.state.context&&this.#n({type:"pending",context:o,variables:e,isPaused:n})}const i=await this.#r.start();return await this.#t.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#t.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#t.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#n({type:"error",error:i})}}finally{this.#t.runNext(this)}}#n(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Jt.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function xx(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var dk=class extends zo{constructor(e={}){super(),this.config=e,this.#e=new Map,this.#t=Date.now()}#e;#t;build(e,t,n){const i=new uk({mutationCache:this,mutationId:++this.#t,options:e.defaultMutationOptions(t),state:n});return this.add(i),i}add(e){const t=wc(e),n=this.#e.get(t)??[];n.push(e),this.#e.set(t,n),this.notify({type:"added",mutation:e})}remove(e){const t=wc(e);if(this.#e.has(t)){const n=this.#e.get(t)?.filter(i=>i!==e);n&&(n.length===0?this.#e.delete(t):this.#e.set(t,n))}this.notify({type:"removed",mutation:e})}canRun(e){const t=this.#e.get(wc(e))?.find(n=>n.state.status==="pending");return!t||t===e}runNext(e){return this.#e.get(wc(e))?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){Jt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...this.#e.values()].flat()}find(e){const t={exact:!0,...e};return this.getAll().find(n=>Sy(t,n))}findAll(e={}){return this.getAll().filter(t=>Sy(e,t))}notify(e){Jt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Jt.batch(()=>Promise.all(e.map(t=>t.continue().catch(fr))))}};function wc(e){return e.options.scope?.id??String(e.mutationId)}function Cy(e){return{onFetch:(t,n)=>{const i=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,l=t.state.data?.pages||[],d=t.state.data?.pageParams||[];let f={pages:[],pageParams:[]},m=0;const g=async()=>{let h=!1;const x=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},b=px(t.options,t.fetchOptions),k=async(C,w,N)=>{if(h)return Promise.reject();if(w==null&&C.pages.length)return Promise.resolve(C);const j={queryKey:t.queryKey,pageParam:w,direction:N?"backward":"forward",meta:t.options.meta};x(j);const P=await b(j),{maxPages:A}=t.options,L=N?nk:tk;return{pages:L(C.pages,P,A),pageParams:L(C.pageParams,w,A)}};if(o&&l.length){const C=o==="backward",w=C?fk:jy,N={pages:l,pageParams:d},j=w(i,N);f=await k(N,j,C)}else{const C=e??l.length;do{const w=m===0?d[0]??i.initialPageParam:jy(i,f);if(m>0&&w==null)break;f=await k(f,w),m++}while(m<C)}return f};t.options.persister?t.fetchFn=()=>t.options.persister?.(g,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=g}}}function jy(e,{pages:t,pageParams:n}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,n[i],n):void 0}function fk(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var pk=class{#e;#t;#r;#n;#o;#i;#s;#a;constructor(e={}){this.#e=e.queryCache||new ck,this.#t=e.mutationCache||new dk,this.#r=e.defaultOptions||{},this.#n=new Map,this.#o=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#s=Mp.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Bc.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),i=this.#e.build(this,n);return e.revalidateIfStale&&i.isStaleByTime(yo(n.staleTime,i))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const i=n.data;return[t,i]})}setQueryData(e,t,n){const i=this.defaultQueryOptions({queryKey:e}),l=this.#e.get(i.queryHash)?.state.data,d=JN(t,l);if(d!==void 0)return this.#e.build(this,i).setData(d,{...n,manual:!0})}setQueriesData(e,t,n){return Jt.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Jt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e,i={type:"active",...e};return Jt.batch(()=>(n.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries(i,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},i=Jt.batch(()=>this.#e.findAll(e).map(o=>o.cancel(n)));return Promise.all(i).then(fr).catch(fr)}invalidateQueries(e={},t={}){return Jt.batch(()=>{if(this.#e.findAll(e).forEach(i=>{i.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:t?.cancelRefetch??!0},i=Jt.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()).map(o=>{let l=o.fetch(void 0,n);return n.throwOnError||(l=l.catch(fr)),o.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(i).then(fr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(yo(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(fr).catch(fr)}fetchInfiniteQuery(e){return e.behavior=Cy(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(fr).catch(fr)}ensureInfiniteQueryData(e){return e.behavior=Cy(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Bc.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(_i(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()];let n={};return t.forEach(i=>{Fa(e,i.queryKey)&&(n={...n,...i.defaultOptions})}),n}setMutationDefaults(e,t){this.#o.set(_i(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#o.values()];let n={};return t.forEach(i=>{Fa(e,i.mutationKey)&&(n={...n,...i.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Lp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Op&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},mk=class extends zo{constructor(e,t){super(),this.options=t,this.#e=e,this.#a=null,this.#s=ip(),this.options.experimental_prefetchInRender||this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#r=void 0;#n=void 0;#o;#i;#s;#a;#h;#f;#p;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),_y(this.#t,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return op(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return op(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(e,t){const n=this.options,i=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof jr(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),n._defaulted&&!$c(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const o=this.hasListeners();o&&Ey(this.#t,i,this.options,n)&&this.#d(),this.updateResult(t),o&&(this.#t!==i||jr(this.options.enabled,this.#t)!==jr(n.enabled,this.#t)||yo(this.options.staleTime,this.#t)!==yo(n.staleTime,this.#t))&&this.#g();const l=this.#y();o&&(this.#t!==i||jr(this.options.enabled,this.#t)!==jr(n.enabled,this.#t)||l!==this.#l)&&this.#v(l)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return gk(this,n)&&(this.#n=n,this.#i=this.options,this.#o=this.#t.state),n}getCurrentResult(){return this.#n}trackResult(e,t){const n={};return Object.keys(e).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),t?.(i),e[i])})}),n}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#S();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(fr)),t}#g(){this.#b();const e=yo(this.options.staleTime,this.#t);if(ji||this.#n.isStale||!np(e))return;const n=dx(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(ji||jr(this.options.enabled,this.#t)===!1||!np(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||Mp.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#v(this.#y())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#t,i=this.options,o=this.#n,l=this.#o,d=this.#i,m=e!==n?e.state:this.#r,{state:g}=e;let h={...g},x=!1,b;if(t._optimisticResults){const I=this.hasListeners(),J=!I&&_y(e,t),se=I&&Ey(e,n,t,i);(J||se)&&(h={...h,...vx(g.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:k,errorUpdatedAt:C,status:w}=h;if(t.select&&h.data!==void 0)if(o&&h.data===l?.data&&t.select===this.#h)b=this.#f;else try{this.#h=t.select,b=t.select(h.data),b=sp(o?.data,b,t),this.#f=b,this.#a=null}catch(I){this.#a=I}else b=h.data;if(t.placeholderData!==void 0&&b===void 0&&w==="pending"){let I;if(o?.isPlaceholderData&&t.placeholderData===d?.placeholderData)I=o.data;else if(I=typeof t.placeholderData=="function"?t.placeholderData(this.#p?.state.data,this.#p):t.placeholderData,t.select&&I!==void 0)try{I=t.select(I),this.#a=null}catch(J){this.#a=J}I!==void 0&&(w="success",b=sp(o?.data,I,t),x=!0)}this.#a&&(k=this.#a,b=this.#f,C=Date.now(),w="error");const N=h.fetchStatus==="fetching",j=w==="pending",P=w==="error",A=j&&N,L=b!==void 0,H={status:w,fetchStatus:h.fetchStatus,isPending:j,isSuccess:w==="success",isError:P,isInitialLoading:A,isLoading:A,data:b,dataUpdatedAt:h.dataUpdatedAt,error:k,errorUpdatedAt:C,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>m.dataUpdateCount||h.errorUpdateCount>m.errorUpdateCount,isFetching:N,isRefetching:N&&!j,isLoadingError:P&&!L,isPaused:h.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:P&&L,isStale:Dp(e,t),refetch:this.refetch,promise:this.#s};if(this.options.experimental_prefetchInRender){const I=ae=>{H.status==="error"?ae.reject(H.error):H.data!==void 0&&ae.resolve(H.data)},J=()=>{const ae=this.#s=H.promise=ip();I(ae)},se=this.#s;switch(se.status){case"pending":e.queryHash===n.queryHash&&I(se);break;case"fulfilled":(H.status==="error"||H.data!==se.value)&&J();break;case"rejected":(H.status!=="error"||H.error!==se.reason)&&J();break}}return H}updateResult(e){const t=this.#n,n=this.createResult(this.#t,this.options);if(this.#o=this.#t.state,this.#i=this.options,this.#o.data!==void 0&&(this.#p=this.#t),$c(n,t))return;this.#n=n;const i={},o=()=>{if(!t)return!0;const{notifyOnChangeProps:l}=this.options,d=typeof l=="function"?l():l;if(d==="all"||!d&&!this.#m.size)return!0;const f=new Set(d??this.#m);return this.options.throwOnError&&f.add("error"),Object.keys(this.#n).some(m=>{const g=m;return this.#n[g]!==t[g]&&f.has(g)})};e?.listeners!==!1&&o()&&(i.listeners=!0),this.#N({...i,...e})}#S(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#N(e){Jt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function hk(e,t){return jr(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function _y(e,t){return hk(e,t)||e.state.data!==void 0&&op(e,t,t.refetchOnMount)}function op(e,t,n){if(jr(t.enabled,e)!==!1){const i=typeof n=="function"?n(e):n;return i==="always"||i!==!1&&Dp(e,t)}return!1}function Ey(e,t,n,i){return(e!==t||jr(i.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Dp(e,n)}function Dp(e,t){return jr(t.enabled,e)!==!1&&e.isStaleByTime(yo(t.staleTime,e))}function gk(e,t){return!$c(e.getCurrentResult(),t)}var yk=class extends zo{#e;#t=void 0;#r;#n;constructor(t,n){super(),this.#e=t,this.setOptions(n),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#e.defaultMutationOptions(t),$c(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),n?.mutationKey&&this.options.mutationKey&&_i(n.mutationKey)!==_i(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#o(),this.#i(t)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#o(),this.#i()}mutate(t,n){return this.#n=n,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(t)}#o(){const t=this.#r?.state??xx();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#i(t){Jt.batch(()=>{if(this.#n&&this.hasListeners()){const n=this.#t.variables,i=this.#t.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,n,i),this.#n.onSettled?.(t.data,null,n,i)):t?.type==="error"&&(this.#n.onError?.(t.error,n,i),this.#n.onSettled?.(void 0,t.error,n,i))}this.listeners.forEach(n=>{n(this.#t)})})}},bx=y.createContext(void 0),Oi=e=>{const t=y.useContext(bx);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},vk=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(bx.Provider,{value:e,children:t})),wx=y.createContext(!1),xk=()=>y.useContext(wx);wx.Provider;function bk(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var wk=y.createContext(bk()),Sk=()=>y.useContext(wk);function Sx(e,t){return typeof e=="function"?e(...t):!!e}function ap(){}var Nk=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},kk=e=>{y.useEffect(()=>{e.clearReset()},[e])},Ck=({result:e,errorResetBoundary:t,throwOnError:n,query:i})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&Sx(n,[e.error,i]),jk=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},_k=(e,t)=>e.isLoading&&e.isFetching&&!t,Ek=(e,t)=>e?.suspense&&t.isPending,Py=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Pk(e,t,n){const i=Oi(),o=xk(),l=Sk(),d=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(d),d._optimisticResults=o?"isRestoring":"optimistic",jk(d),Nk(d,l),kk(l);const f=!i.getQueryCache().get(d.queryHash),[m]=y.useState(()=>new t(i,d)),g=m.getOptimisticResult(d);if(y.useSyncExternalStore(y.useCallback(h=>{const x=o?ap:m.subscribe(Jt.batchCalls(h));return m.updateResult(),x},[m,o]),()=>m.getCurrentResult(),()=>m.getCurrentResult()),y.useEffect(()=>{m.setOptions(d,{listeners:!1})},[d,m]),Ek(d,g))throw Py(d,m,l);if(Ck({result:g,errorResetBoundary:l,throwOnError:d.throwOnError,query:i.getQueryCache().get(d.queryHash)}))throw g.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(d,g),d.experimental_prefetchInRender&&!ji&&_k(g,o)&&(f?Py(d,m,l):i.getQueryCache().get(d.queryHash)?.promise)?.catch(ap).finally(()=>{m.updateResult()}),d.notifyOnChangeProps?g:m.trackResult(g)}function ti(e,t){return Pk(e,mk)}function xi(e,t){const n=Oi(),[i]=y.useState(()=>new yk(n,e));y.useEffect(()=>{i.setOptions(e)},[i,e]);const o=y.useSyncExternalStore(y.useCallback(d=>i.subscribe(Jt.batchCalls(d)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),l=y.useCallback((d,f)=>{i.mutate(d,f).catch(ap)},[i]);if(o.error&&Sx(i.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:l,mutateAsync:o.mutate}}async function Nx(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function Sc(e,t,n){const i=await fetch(t,{method:e,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await Nx(i),i}const Tk=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t.join("/"),{credentials:"include"});return await Nx(n),await n.json()},Ak=new pk({defaultOptions:{queries:{queryFn:Tk({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),Rk=1,Ik=1e6;let _f=0;function Lk(){return _f=(_f+1)%Number.MAX_SAFE_INTEGER,_f.toString()}const Ef=new Map,Ty=e=>{if(Ef.has(e))return;const t=setTimeout(()=>{Ef.delete(e),Oa({type:"REMOVE_TOAST",toastId:e})},Ik);Ef.set(e,t)},Ok=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Rk)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Ty(n):e.toasts.forEach(i=>{Ty(i.id)}),{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Lc=[];let Oc={toasts:[]};function Oa(e){Oc=Ok(Oc,e),Lc.forEach(t=>{t(Oc)})}function kx({...e}){const t=Lk(),n=o=>Oa({type:"UPDATE_TOAST",toast:{...o,id:t}}),i=()=>Oa({type:"DISMISS_TOAST",toastId:t});return Oa({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:o=>{o||i()}}}),{id:t,dismiss:i,update:n}}function pu(){const[e,t]=y.useState(Oc);return y.useEffect(()=>(Lc.push(t),()=>{const n=Lc.indexOf(t);n>-1&&Lc.splice(n,1)}),[e]),{...e,toast:kx,dismiss:n=>Oa({type:"DISMISS_TOAST",toastId:n})}}var mu=ex();const Mk=Ap(mu);function Qe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e?.(o),n===!1||!o.defaultPrevented)return t?.(o)}}function Ay(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Cx(...e){return t=>{let n=!1;const i=e.map(o=>{const l=Ay(o,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let o=0;o<i.length;o++){const l=i[o];typeof l=="function"?l():Ay(e[o],null)}}}}function _t(...e){return y.useCallback(Cx(...e),e)}function Dk(e,t){const n=y.createContext(t),i=l=>{const{children:d,...f}=l,m=y.useMemo(()=>f,Object.values(f));return c.jsx(n.Provider,{value:m,children:d})};i.displayName=e+"Provider";function o(l){const d=y.useContext(n);if(d)return d;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[i,o]}function Zr(e,t=[]){let n=[];function i(l,d){const f=y.createContext(d),m=n.length;n=[...n,d];const g=x=>{const{scope:b,children:k,...C}=x,w=b?.[e]?.[m]||f,N=y.useMemo(()=>C,Object.values(C));return c.jsx(w.Provider,{value:N,children:k})};g.displayName=l+"Provider";function h(x,b){const k=b?.[e]?.[m]||f,C=y.useContext(k);if(C)return C;if(d!==void 0)return d;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[g,h]}const o=()=>{const l=n.map(d=>y.createContext(d));return function(f){const m=f?.[e]||l;return y.useMemo(()=>({[`__scope${e}`]:{...f,[e]:m}}),[f,m])}};return o.scopeName=e,[i,Fk(o,...t)]}function Fk(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const i=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const d=i.reduce((f,{useScope:m,scopeName:g})=>{const x=m(l)[`__scope${g}`];return{...f,...x}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}function _o(e){const t=$k(e),n=y.forwardRef((i,o)=>{const{children:l,...d}=i,f=y.Children.toArray(l),m=f.find(Vk);if(m){const g=m.props.children,h=f.map(x=>x===m?y.Children.count(g)>1?y.Children.only(null):y.isValidElement(g)?g.props.children:null:x);return c.jsx(t,{...d,ref:o,children:y.isValidElement(g)?y.cloneElement(g,void 0,h):null})}return c.jsx(t,{...d,ref:o,children:l})});return n.displayName=`${e}.Slot`,n}var zk=_o("Slot");function $k(e){const t=y.forwardRef((n,i)=>{const{children:o,...l}=n;if(y.isValidElement(o)){const d=Wk(o),f=Uk(l,o.props);return o.type!==y.Fragment&&(f.ref=i?Cx(i,d):d),y.cloneElement(o,f)}return y.Children.count(o)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var jx=Symbol("radix.slottable");function Bk(e){const t=({children:n})=>c.jsx(c.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=jx,t}function Vk(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===jx}function Uk(e,t){const n={...t};for(const i in t){const o=e[i],l=t[i];/^on[A-Z]/.test(i)?o&&l?n[i]=(...f)=>{l(...f),o(...f)}:o&&(n[i]=o):i==="style"?n[i]={...o,...l}:i==="className"&&(n[i]=[o,l].filter(Boolean).join(" "))}return{...e,...n}}function Wk(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function _x(e){const t=e+"CollectionProvider",[n,i]=Zr(t),[o,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),d=w=>{const{scope:N,children:j}=w,P=Pn.useRef(null),A=Pn.useRef(new Map).current;return c.jsx(o,{scope:N,itemMap:A,collectionRef:P,children:j})};d.displayName=t;const f=e+"CollectionSlot",m=_o(f),g=Pn.forwardRef((w,N)=>{const{scope:j,children:P}=w,A=l(f,j),L=_t(N,A.collectionRef);return c.jsx(m,{ref:L,children:P})});g.displayName=f;const h=e+"CollectionItemSlot",x="data-radix-collection-item",b=_o(h),k=Pn.forwardRef((w,N)=>{const{scope:j,children:P,...A}=w,L=Pn.useRef(null),F=_t(N,L),H=l(h,j);return Pn.useEffect(()=>(H.itemMap.set(L,{ref:L,...A}),()=>{H.itemMap.delete(L)})),c.jsx(b,{[x]:"",ref:F,children:P})});k.displayName=h;function C(w){const N=l(e+"CollectionConsumer",w);return Pn.useCallback(()=>{const P=N.collectionRef.current;if(!P)return[];const A=Array.from(P.querySelectorAll(`[${x}]`));return Array.from(N.itemMap.values()).sort((H,I)=>A.indexOf(H.ref.current)-A.indexOf(I.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:d,Slot:g,ItemSlot:k},C,i]}var qk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ct=qk.reduce((e,t)=>{const n=_o(`Primitive.${t}`),i=y.forwardRef((o,l)=>{const{asChild:d,...f}=o,m=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(m,{...f,ref:l})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function Ex(e,t){e&&mu.flushSync(()=>e.dispatchEvent(t))}function Kt(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...n)=>t.current?.(...n),[])}function Hk(e,t=globalThis?.document){const n=Kt(e);y.useEffect(()=>{const i=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[n,t])}var Qk="DismissableLayer",lp="dismissableLayer.update",Kk="dismissableLayer.pointerDownOutside",Zk="dismissableLayer.focusOutside",Ry,Px=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ll=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:d,onDismiss:f,...m}=e,g=y.useContext(Px),[h,x]=y.useState(null),b=h?.ownerDocument??globalThis?.document,[,k]=y.useState({}),C=_t(t,I=>x(I)),w=Array.from(g.layers),[N]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),j=w.indexOf(N),P=h?w.indexOf(h):-1,A=g.layersWithOutsidePointerEventsDisabled.size>0,L=P>=j,F=Yk(I=>{const J=I.target,se=[...g.branches].some(ae=>ae.contains(J));!L||se||(o?.(I),d?.(I),I.defaultPrevented||f?.())},b),H=Xk(I=>{const J=I.target;[...g.branches].some(ae=>ae.contains(J))||(l?.(I),d?.(I),I.defaultPrevented||f?.())},b);return Hk(I=>{P===g.layers.size-1&&(i?.(I),!I.defaultPrevented&&f&&(I.preventDefault(),f()))},b),y.useEffect(()=>{if(h)return n&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(Ry=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(h)),g.layers.add(h),Iy(),()=>{n&&g.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=Ry)}},[h,b,n,g]),y.useEffect(()=>()=>{h&&(g.layers.delete(h),g.layersWithOutsidePointerEventsDisabled.delete(h),Iy())},[h,g]),y.useEffect(()=>{const I=()=>k({});return document.addEventListener(lp,I),()=>document.removeEventListener(lp,I)},[]),c.jsx(ct.div,{...m,ref:C,style:{pointerEvents:A?L?"auto":"none":void 0,...e.style},onFocusCapture:Qe(e.onFocusCapture,H.onFocusCapture),onBlurCapture:Qe(e.onBlurCapture,H.onBlurCapture),onPointerDownCapture:Qe(e.onPointerDownCapture,F.onPointerDownCapture)})});ll.displayName=Qk;var Gk="DismissableLayerBranch",Tx=y.forwardRef((e,t)=>{const n=y.useContext(Px),i=y.useRef(null),o=_t(t,i);return y.useEffect(()=>{const l=i.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),c.jsx(ct.div,{...e,ref:o})});Tx.displayName=Gk;function Yk(e,t=globalThis?.document){const n=Kt(e),i=y.useRef(!1),o=y.useRef(()=>{});return y.useEffect(()=>{const l=f=>{if(f.target&&!i.current){let m=function(){Ax(Kk,n,g,{discrete:!0})};const g={originalEvent:f};f.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=m,t.addEventListener("click",o.current,{once:!0})):m()}else t.removeEventListener("click",o.current);i.current=!1},d=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(d),t.removeEventListener("pointerdown",l),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>i.current=!0}}function Xk(e,t=globalThis?.document){const n=Kt(e),i=y.useRef(!1);return y.useEffect(()=>{const o=l=>{l.target&&!i.current&&Ax(Zk,n,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Iy(){const e=new CustomEvent(lp);document.dispatchEvent(e)}function Ax(e,t,n,{discrete:i}){const o=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),i?Ex(o,l):o.dispatchEvent(l)}var Jk=ll,eC=Tx,hs=globalThis?.document?y.useLayoutEffect:()=>{},tC="Portal",hu=y.forwardRef((e,t)=>{const{container:n,...i}=e,[o,l]=y.useState(!1);hs(()=>l(!0),[]);const d=n||o&&globalThis?.document?.body;return d?Mk.createPortal(c.jsx(ct.div,{...i,ref:t}),d):null});hu.displayName=tC;function nC(e,t){return y.useReducer((n,i)=>t[n][i]??n,e)}var Un=e=>{const{present:t,children:n}=e,i=rC(t),o=typeof n=="function"?n({present:i.isPresent}):y.Children.only(n),l=_t(i.ref,sC(o));return typeof n=="function"||i.isPresent?y.cloneElement(o,{ref:l}):null};Un.displayName="Presence";function rC(e){const[t,n]=y.useState(),i=y.useRef({}),o=y.useRef(e),l=y.useRef("none"),d=e?"mounted":"unmounted",[f,m]=nC(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const g=Nc(i.current);l.current=f==="mounted"?g:"none"},[f]),hs(()=>{const g=i.current,h=o.current;if(h!==e){const b=l.current,k=Nc(g);e?m("MOUNT"):k==="none"||g?.display==="none"?m("UNMOUNT"):m(h&&b!==k?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,m]),hs(()=>{if(t){let g;const h=t.ownerDocument.defaultView??window,x=k=>{const w=Nc(i.current).includes(k.animationName);if(k.target===t&&w&&(m("ANIMATION_END"),!o.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",g=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},b=k=>{k.target===t&&(l.current=Nc(i.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{h.clearTimeout(g),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:y.useCallback(g=>{g&&(i.current=getComputedStyle(g)),n(g)},[])}}function Nc(e){return e?.animationName||"none"}function sC(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function $o({prop:e,defaultProp:t,onChange:n=()=>{}}){const[i,o]=iC({defaultProp:t,onChange:n}),l=e!==void 0,d=l?e:i,f=Kt(n),m=y.useCallback(g=>{if(l){const x=typeof g=="function"?g(e):g;x!==e&&f(x)}else o(g)},[l,e,o,f]);return[d,m]}function iC({defaultProp:e,onChange:t}){const n=y.useState(e),[i]=n,o=y.useRef(i),l=Kt(t);return y.useEffect(()=>{o.current!==i&&(l(i),o.current=i)},[i,o,l]),n}var oC="VisuallyHidden",gu=y.forwardRef((e,t)=>c.jsx(ct.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));gu.displayName=oC;var aC=gu,Fp="ToastProvider",[zp,lC,cC]=_x("Toast"),[Rx]=Zr("Toast",[cC]),[uC,yu]=Rx(Fp),Ix=e=>{const{__scopeToast:t,label:n="Notification",duration:i=5e3,swipeDirection:o="right",swipeThreshold:l=50,children:d}=e,[f,m]=y.useState(null),[g,h]=y.useState(0),x=y.useRef(!1),b=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Fp}\`. Expected non-empty \`string\`.`),c.jsx(zp.Provider,{scope:t,children:c.jsx(uC,{scope:t,label:n,duration:i,swipeDirection:o,swipeThreshold:l,toastCount:g,viewport:f,onViewportChange:m,onToastAdd:y.useCallback(()=>h(k=>k+1),[]),onToastRemove:y.useCallback(()=>h(k=>k-1),[]),isFocusedToastEscapeKeyDownRef:x,isClosePausedRef:b,children:d})})};Ix.displayName=Fp;var Lx="ToastViewport",dC=["F8"],cp="toast.viewportPause",up="toast.viewportResume",Ox=y.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:i=dC,label:o="Notifications ({hotkey})",...l}=e,d=yu(Lx,n),f=lC(n),m=y.useRef(null),g=y.useRef(null),h=y.useRef(null),x=y.useRef(null),b=_t(t,x,d.onViewportChange),k=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=d.toastCount>0;y.useEffect(()=>{const N=j=>{i.length!==0&&i.every(A=>j[A]||j.code===A)&&x.current?.focus()};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[i]),y.useEffect(()=>{const N=m.current,j=x.current;if(C&&N&&j){const P=()=>{if(!d.isClosePausedRef.current){const H=new CustomEvent(cp);j.dispatchEvent(H),d.isClosePausedRef.current=!0}},A=()=>{if(d.isClosePausedRef.current){const H=new CustomEvent(up);j.dispatchEvent(H),d.isClosePausedRef.current=!1}},L=H=>{!N.contains(H.relatedTarget)&&A()},F=()=>{N.contains(document.activeElement)||A()};return N.addEventListener("focusin",P),N.addEventListener("focusout",L),N.addEventListener("pointermove",P),N.addEventListener("pointerleave",F),window.addEventListener("blur",P),window.addEventListener("focus",A),()=>{N.removeEventListener("focusin",P),N.removeEventListener("focusout",L),N.removeEventListener("pointermove",P),N.removeEventListener("pointerleave",F),window.removeEventListener("blur",P),window.removeEventListener("focus",A)}}},[C,d.isClosePausedRef]);const w=y.useCallback(({tabbingDirection:N})=>{const P=f().map(A=>{const L=A.ref.current,F=[L,...kC(L)];return N==="forwards"?F:F.reverse()});return(N==="forwards"?P.reverse():P).flat()},[f]);return y.useEffect(()=>{const N=x.current;if(N){const j=P=>{const A=P.altKey||P.ctrlKey||P.metaKey;if(P.key==="Tab"&&!A){const F=document.activeElement,H=P.shiftKey;if(P.target===N&&H){g.current?.focus();return}const se=w({tabbingDirection:H?"backwards":"forwards"}),ae=se.findIndex(K=>K===F);Pf(se.slice(ae+1))?P.preventDefault():H?g.current?.focus():h.current?.focus()}};return N.addEventListener("keydown",j),()=>N.removeEventListener("keydown",j)}},[f,w]),c.jsxs(eC,{ref:m,role:"region","aria-label":o.replace("{hotkey}",k),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&c.jsx(dp,{ref:g,onFocusFromOutsideViewport:()=>{const N=w({tabbingDirection:"forwards"});Pf(N)}}),c.jsx(zp.Slot,{scope:n,children:c.jsx(ct.ol,{tabIndex:-1,...l,ref:b})}),C&&c.jsx(dp,{ref:h,onFocusFromOutsideViewport:()=>{const N=w({tabbingDirection:"backwards"});Pf(N)}})]})});Ox.displayName=Lx;var Mx="ToastFocusProxy",dp=y.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:i,...o}=e,l=yu(Mx,n);return c.jsx(gu,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:d=>{const f=d.relatedTarget;!l.viewport?.contains(f)&&i()}})});dp.displayName=Mx;var vu="Toast",fC="toast.swipeStart",pC="toast.swipeMove",mC="toast.swipeCancel",hC="toast.swipeEnd",Dx=y.forwardRef((e,t)=>{const{forceMount:n,open:i,defaultOpen:o,onOpenChange:l,...d}=e,[f=!0,m]=$o({prop:i,defaultProp:o,onChange:l});return c.jsx(Un,{present:n||f,children:c.jsx(vC,{open:f,...d,ref:t,onClose:()=>m(!1),onPause:Kt(e.onPause),onResume:Kt(e.onResume),onSwipeStart:Qe(e.onSwipeStart,g=>{g.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Qe(e.onSwipeMove,g=>{const{x:h,y:x}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","move"),g.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${x}px`)}),onSwipeCancel:Qe(e.onSwipeCancel,g=>{g.currentTarget.setAttribute("data-swipe","cancel"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Qe(e.onSwipeEnd,g=>{const{x:h,y:x}=g.detail.delta;g.currentTarget.setAttribute("data-swipe","end"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),g.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),g.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),g.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${x}px`),m(!1)})})})});Dx.displayName=vu;var[gC,yC]=Rx(vu,{onClose(){}}),vC=y.forwardRef((e,t)=>{const{__scopeToast:n,type:i="foreground",duration:o,open:l,onClose:d,onEscapeKeyDown:f,onPause:m,onResume:g,onSwipeStart:h,onSwipeMove:x,onSwipeCancel:b,onSwipeEnd:k,...C}=e,w=yu(vu,n),[N,j]=y.useState(null),P=_t(t,le=>j(le)),A=y.useRef(null),L=y.useRef(null),F=o||w.duration,H=y.useRef(0),I=y.useRef(F),J=y.useRef(0),{onToastAdd:se,onToastRemove:ae}=w,K=Kt(()=>{N?.contains(document.activeElement)&&w.viewport?.focus(),d()}),ee=y.useCallback(le=>{!le||le===1/0||(window.clearTimeout(J.current),H.current=new Date().getTime(),J.current=window.setTimeout(K,le))},[K]);y.useEffect(()=>{const le=w.viewport;if(le){const ue=()=>{ee(I.current),g?.()},q=()=>{const Q=new Date().getTime()-H.current;I.current=I.current-Q,window.clearTimeout(J.current),m?.()};return le.addEventListener(cp,q),le.addEventListener(up,ue),()=>{le.removeEventListener(cp,q),le.removeEventListener(up,ue)}}},[w.viewport,F,m,g,ee]),y.useEffect(()=>{l&&!w.isClosePausedRef.current&&ee(F)},[l,F,w.isClosePausedRef,ee]),y.useEffect(()=>(se(),()=>ae()),[se,ae]);const de=y.useMemo(()=>N?Wx(N):null,[N]);return w.viewport?c.jsxs(c.Fragment,{children:[de&&c.jsx(xC,{__scopeToast:n,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:de}),c.jsx(gC,{scope:n,onClose:K,children:mu.createPortal(c.jsx(zp.ItemSlot,{scope:n,children:c.jsx(Jk,{asChild:!0,onEscapeKeyDown:Qe(f,()=>{w.isFocusedToastEscapeKeyDownRef.current||K(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(ct.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":w.swipeDirection,...C,ref:P,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Qe(e.onKeyDown,le=>{le.key==="Escape"&&(f?.(le.nativeEvent),le.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,K()))}),onPointerDown:Qe(e.onPointerDown,le=>{le.button===0&&(A.current={x:le.clientX,y:le.clientY})}),onPointerMove:Qe(e.onPointerMove,le=>{if(!A.current)return;const ue=le.clientX-A.current.x,q=le.clientY-A.current.y,Q=!!L.current,$=["left","right"].includes(w.swipeDirection),ne=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,G=$?ne(0,ue):0,T=$?0:ne(0,q),_=le.pointerType==="touch"?10:2,O={x:G,y:T},X={originalEvent:le,delta:O};Q?(L.current=O,kc(pC,x,X,{discrete:!1})):Ly(O,w.swipeDirection,_)?(L.current=O,kc(fC,h,X,{discrete:!1}),le.target.setPointerCapture(le.pointerId)):(Math.abs(ue)>_||Math.abs(q)>_)&&(A.current=null)}),onPointerUp:Qe(e.onPointerUp,le=>{const ue=L.current,q=le.target;if(q.hasPointerCapture(le.pointerId)&&q.releasePointerCapture(le.pointerId),L.current=null,A.current=null,ue){const Q=le.currentTarget,$={originalEvent:le,delta:ue};Ly(ue,w.swipeDirection,w.swipeThreshold)?kc(hC,k,$,{discrete:!0}):kc(mC,b,$,{discrete:!0}),Q.addEventListener("click",ne=>ne.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),xC=e=>{const{__scopeToast:t,children:n,...i}=e,o=yu(vu,t),[l,d]=y.useState(!1),[f,m]=y.useState(!1);return SC(()=>d(!0)),y.useEffect(()=>{const g=window.setTimeout(()=>m(!0),1e3);return()=>window.clearTimeout(g)},[]),f?null:c.jsx(hu,{asChild:!0,children:c.jsx(gu,{...i,children:l&&c.jsxs(c.Fragment,{children:[o.label," ",n]})})})},bC="ToastTitle",Fx=y.forwardRef((e,t)=>{const{__scopeToast:n,...i}=e;return c.jsx(ct.div,{...i,ref:t})});Fx.displayName=bC;var wC="ToastDescription",zx=y.forwardRef((e,t)=>{const{__scopeToast:n,...i}=e;return c.jsx(ct.div,{...i,ref:t})});zx.displayName=wC;var $x="ToastAction",Bx=y.forwardRef((e,t)=>{const{altText:n,...i}=e;return n.trim()?c.jsx(Ux,{altText:n,asChild:!0,children:c.jsx($p,{...i,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${$x}\`. Expected non-empty \`string\`.`),null)});Bx.displayName=$x;var Vx="ToastClose",$p=y.forwardRef((e,t)=>{const{__scopeToast:n,...i}=e,o=yC(Vx,n);return c.jsx(Ux,{asChild:!0,children:c.jsx(ct.button,{type:"button",...i,ref:t,onClick:Qe(e.onClick,o.onClose)})})});$p.displayName=Vx;var Ux=y.forwardRef((e,t)=>{const{__scopeToast:n,altText:i,...o}=e;return c.jsx(ct.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...o,ref:t})});function Wx(e){const t=[];return Array.from(e.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&t.push(i.textContent),NC(i)){const o=i.ariaHidden||i.hidden||i.style.display==="none",l=i.dataset.radixToastAnnounceExclude==="";if(!o)if(l){const d=i.dataset.radixToastAnnounceAlt;d&&t.push(d)}else t.push(...Wx(i))}}),t}function kc(e,t,n,{discrete:i}){const o=n.originalEvent.currentTarget,l=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),i?Ex(o,l):o.dispatchEvent(l)}var Ly=(e,t,n=0)=>{const i=Math.abs(e.x),o=Math.abs(e.y),l=i>o;return t==="left"||t==="right"?l&&i>n:!l&&o>n};function SC(e=()=>{}){const t=Kt(e);hs(()=>{let n=0,i=0;return n=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(i)}},[t])}function NC(e){return e.nodeType===e.ELEMENT_NODE}function kC(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Pf(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var CC=Ix,qx=Ox,Hx=Dx,Qx=Fx,Kx=zx,Zx=Bx,Gx=$p;function Yx(e){var t,n,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Yx(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}function Xx(){for(var e,t,n=0,i="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Yx(e))&&(i&&(i+=" "),i+=t);return i}const Oy=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,My=Xx,Bp=(e,t)=>n=>{var i;if(t?.variants==null)return My(e,n?.class,n?.className);const{variants:o,defaultVariants:l}=t,d=Object.keys(o).map(g=>{const h=n?.[g],x=l?.[g];if(h===null)return null;const b=Oy(h)||Oy(x);return o[g][b]}),f=n&&Object.entries(n).reduce((g,h)=>{let[x,b]=h;return b===void 0||(g[x]=b),g},{}),m=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((g,h)=>{let{class:x,className:b,...k}=h;return Object.entries(k).every(C=>{let[w,N]=C;return Array.isArray(N)?N.includes({...l,...f}[w]):{...l,...f}[w]===N})?[...g,x,b]:g},[]);return My(e,d,m,n?.class,n?.className)};const jC=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Jx=(...e)=>e.filter((t,n,i)=>!!t&&i.indexOf(t)===n).join(" ");var _C={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const EC=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:d,...f},m)=>y.createElement("svg",{ref:m,..._C,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:Jx("lucide",o),...f},[...d.map(([g,h])=>y.createElement(g,h)),...Array.isArray(l)?l:[l]]));const it=(e,t)=>{const n=y.forwardRef(({className:i,...o},l)=>y.createElement(EC,{ref:l,iconNode:t,className:Jx(`lucide-${jC(e)}`,i),...o}));return n.displayName=`${e}`,n};const Vp=it("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const PC=it("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const Ma=it("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const Up=it("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const Vc=it("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const e0=it("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const TC=it("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const yi=it("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const fp=it("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const AC=it("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Dy=it("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);const pp=it("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const Fy=it("Diff",[["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 10h14",key:"elsbfy"}],["path",{d:"M5 21h14",key:"11awu3"}]]);const RC=it("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const IC=it("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const t0=it("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const LC=it("FileCode2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m5 12-3 3 3 3",key:"oke12k"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]]);const Ei=it("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);const OC=it("FileSearch",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]]);const MC=it("GitCompare",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["path",{d:"M11 18H8a2 2 0 0 1-2-2V9",key:"19pyzm"}]]);const DC=it("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const FC=it("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const zC=it("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);const Er=it("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const $C=it("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const BC=it("PinOff",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]]);const VC=it("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);const n0=it("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const UC=it("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const Wp=it("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const zy=it("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const WC=it("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const qp=it("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const $y=it("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Xt=it("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const qC=it("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const HC=it("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const QC=it("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);const xu=it("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const KC=it("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Hp="-",ZC=e=>{const t=YC(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:d=>{const f=d.split(Hp);return f[0]===""&&f.length!==1&&f.shift(),r0(f,t)||GC(d)},getConflictingClassGroupIds:(d,f)=>{const m=n[d]||[];return f&&i[d]?[...m,...i[d]]:m}}},r0=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],i=t.nextPart.get(n),o=i?r0(e.slice(1),i):void 0;if(o)return o;if(t.validators.length===0)return;const l=e.join(Hp);return t.validators.find(({validator:d})=>d(l))?.classGroupId},By=/^\[(.+)\]$/,GC=e=>{if(By.test(e)){const t=By.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},YC=e=>{const{theme:t,prefix:n}=e,i={nextPart:new Map,validators:[]};return JC(Object.entries(e.classGroups),n).forEach(([l,d])=>{mp(d,i,l,t)}),i},mp=(e,t,n,i)=>{e.forEach(o=>{if(typeof o=="string"){const l=o===""?t:Vy(t,o);l.classGroupId=n;return}if(typeof o=="function"){if(XC(o)){mp(o(i),t,n,i);return}t.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([l,d])=>{mp(d,Vy(t,l),n,i)})})},Vy=(e,t)=>{let n=e;return t.split(Hp).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},XC=e=>e.isThemeGetter,JC=(e,t)=>t?e.map(([n,i])=>{const o=i.map(l=>typeof l=="string"?t+l:typeof l=="object"?Object.fromEntries(Object.entries(l).map(([d,f])=>[t+d,f])):l);return[n,o]}):e,ej=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,i=new Map;const o=(l,d)=>{n.set(l,d),t++,t>e&&(t=0,i=n,n=new Map)};return{get(l){let d=n.get(l);if(d!==void 0)return d;if((d=i.get(l))!==void 0)return o(l,d),d},set(l,d){n.has(l)?n.set(l,d):o(l,d)}}},s0="!",tj=e=>{const{separator:t,experimentalParseClassName:n}=e,i=t.length===1,o=t[0],l=t.length,d=f=>{const m=[];let g=0,h=0,x;for(let N=0;N<f.length;N++){let j=f[N];if(g===0){if(j===o&&(i||f.slice(N,N+l)===t)){m.push(f.slice(h,N)),h=N+l;continue}if(j==="/"){x=N;continue}}j==="["?g++:j==="]"&&g--}const b=m.length===0?f:f.substring(h),k=b.startsWith(s0),C=k?b.substring(1):b,w=x&&x>h?x-h:void 0;return{modifiers:m,hasImportantModifier:k,baseClassName:C,maybePostfixModifierPosition:w}};return n?f=>n({className:f,parseClassName:d}):d},nj=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(i=>{i[0]==="["?(t.push(...n.sort(),i),n=[]):n.push(i)}),t.push(...n.sort()),t},rj=e=>({cache:ej(e.cacheSize),parseClassName:tj(e),...ZC(e)}),sj=/\s+/,ij=(e,t)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:o}=t,l=[],d=e.trim().split(sj);let f="";for(let m=d.length-1;m>=0;m-=1){const g=d[m],{modifiers:h,hasImportantModifier:x,baseClassName:b,maybePostfixModifierPosition:k}=n(g);let C=!!k,w=i(C?b.substring(0,k):b);if(!w){if(!C){f=g+(f.length>0?" "+f:f);continue}if(w=i(b),!w){f=g+(f.length>0?" "+f:f);continue}C=!1}const N=nj(h).join(":"),j=x?N+s0:N,P=j+w;if(l.includes(P))continue;l.push(P);const A=o(w,C);for(let L=0;L<A.length;++L){const F=A[L];l.push(j+F)}f=g+(f.length>0?" "+f:f)}return f};function oj(){let e=0,t,n,i="";for(;e<arguments.length;)(t=arguments[e++])&&(n=i0(t))&&(i&&(i+=" "),i+=n);return i}const i0=e=>{if(typeof e=="string")return e;let t,n="";for(let i=0;i<e.length;i++)e[i]&&(t=i0(e[i]))&&(n&&(n+=" "),n+=t);return n};function aj(e,...t){let n,i,o,l=d;function d(m){const g=t.reduce((h,x)=>x(h),e());return n=rj(g),i=n.cache.get,o=n.cache.set,l=f,f(m)}function f(m){const g=i(m);if(g)return g;const h=ij(m,n);return o(m,h),h}return function(){return l(oj.apply(null,arguments))}}const jt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},o0=/^\[(?:([a-z-]+):)?(.+)\]$/i,lj=/^\d+\/\d+$/,cj=new Set(["px","full","screen"]),uj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,pj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ls=e=>vo(e)||cj.has(e)||lj.test(e),Bs=e=>Bo(e,"length",Sj),vo=e=>!!e&&!Number.isNaN(Number(e)),Tf=e=>Bo(e,"number",vo),ka=e=>!!e&&Number.isInteger(Number(e)),hj=e=>e.endsWith("%")&&vo(e.slice(0,-1)),tt=e=>o0.test(e),Vs=e=>uj.test(e),gj=new Set(["length","size","percentage"]),yj=e=>Bo(e,gj,a0),vj=e=>Bo(e,"position",a0),xj=new Set(["image","url"]),bj=e=>Bo(e,xj,kj),wj=e=>Bo(e,"",Nj),Ca=()=>!0,Bo=(e,t,n)=>{const i=o0.exec(e);return i?i[1]?typeof t=="string"?i[1]===t:t.has(i[1]):n(i[2]):!1},Sj=e=>dj.test(e)&&!fj.test(e),a0=()=>!1,Nj=e=>pj.test(e),kj=e=>mj.test(e),Cj=()=>{const e=jt("colors"),t=jt("spacing"),n=jt("blur"),i=jt("brightness"),o=jt("borderColor"),l=jt("borderRadius"),d=jt("borderSpacing"),f=jt("borderWidth"),m=jt("contrast"),g=jt("grayscale"),h=jt("hueRotate"),x=jt("invert"),b=jt("gap"),k=jt("gradientColorStops"),C=jt("gradientColorStopPositions"),w=jt("inset"),N=jt("margin"),j=jt("opacity"),P=jt("padding"),A=jt("saturate"),L=jt("scale"),F=jt("sepia"),H=jt("skew"),I=jt("space"),J=jt("translate"),se=()=>["auto","contain","none"],ae=()=>["auto","hidden","clip","visible","scroll"],K=()=>["auto",tt,t],ee=()=>[tt,t],de=()=>["",ls,Bs],le=()=>["auto",vo,tt],ue=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],ne=()=>["","0",tt],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>[vo,tt];return{cacheSize:500,separator:":",theme:{colors:[Ca],spacing:[ls,Bs],blur:["none","",Vs,tt],brightness:T(),borderColor:[e],borderRadius:["none","","full",Vs,tt],borderSpacing:ee(),borderWidth:de(),contrast:T(),grayscale:ne(),hueRotate:T(),invert:ne(),gap:ee(),gradientColorStops:[e],gradientColorStopPositions:[hj,Bs],inset:K(),margin:K(),opacity:T(),padding:ee(),saturate:T(),scale:T(),sepia:ne(),skew:T(),space:ee(),translate:ee()},classGroups:{aspect:[{aspect:["auto","square","video",tt]}],container:["container"],columns:[{columns:[Vs]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ue(),tt]}],overflow:[{overflow:ae()}],"overflow-x":[{"overflow-x":ae()}],"overflow-y":[{"overflow-y":ae()}],overscroll:[{overscroll:se()}],"overscroll-x":[{"overscroll-x":se()}],"overscroll-y":[{"overscroll-y":se()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ka,tt]}],basis:[{basis:K()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",tt]}],grow:[{grow:ne()}],shrink:[{shrink:ne()}],order:[{order:["first","last","none",ka,tt]}],"grid-cols":[{"grid-cols":[Ca]}],"col-start-end":[{col:["auto",{span:["full",ka,tt]},tt]}],"col-start":[{"col-start":le()}],"col-end":[{"col-end":le()}],"grid-rows":[{"grid-rows":[Ca]}],"row-start-end":[{row:["auto",{span:[ka,tt]},tt]}],"row-start":[{"row-start":le()}],"row-end":[{"row-end":le()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",tt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",tt]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[P]}],px:[{px:[P]}],py:[{py:[P]}],ps:[{ps:[P]}],pe:[{pe:[P]}],pt:[{pt:[P]}],pr:[{pr:[P]}],pb:[{pb:[P]}],pl:[{pl:[P]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",tt,t]}],"min-w":[{"min-w":[tt,t,"min","max","fit"]}],"max-w":[{"max-w":[tt,t,"none","full","min","max","fit","prose",{screen:[Vs]},Vs]}],h:[{h:[tt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[tt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[tt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[tt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Vs,Bs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Tf]}],"font-family":[{font:[Ca]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",tt]}],"line-clamp":[{"line-clamp":["none",vo,Tf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ls,tt]}],"list-image":[{"list-image":["none",tt]}],"list-style-type":[{list:["none","disc","decimal",tt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ls,Bs]}],"underline-offset":[{"underline-offset":["auto",ls,tt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ee()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ue(),vj]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},bj]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[k]}],"gradient-via":[{via:[k]}],"gradient-to":[{to:[k]}],rounded:[{rounded:[l]}],"rounded-s":[{"rounded-s":[l]}],"rounded-e":[{"rounded-e":[l]}],"rounded-t":[{"rounded-t":[l]}],"rounded-r":[{"rounded-r":[l]}],"rounded-b":[{"rounded-b":[l]}],"rounded-l":[{"rounded-l":[l]}],"rounded-ss":[{"rounded-ss":[l]}],"rounded-se":[{"rounded-se":[l]}],"rounded-ee":[{"rounded-ee":[l]}],"rounded-es":[{"rounded-es":[l]}],"rounded-tl":[{"rounded-tl":[l]}],"rounded-tr":[{"rounded-tr":[l]}],"rounded-br":[{"rounded-br":[l]}],"rounded-bl":[{"rounded-bl":[l]}],"border-w":[{border:[f]}],"border-w-x":[{"border-x":[f]}],"border-w-y":[{"border-y":[f]}],"border-w-s":[{"border-s":[f]}],"border-w-e":[{"border-e":[f]}],"border-w-t":[{"border-t":[f]}],"border-w-r":[{"border-r":[f]}],"border-w-b":[{"border-b":[f]}],"border-w-l":[{"border-l":[f]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[f]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[f]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:q()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[ls,tt]}],"outline-w":[{outline:[ls,Bs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:de()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[ls,Bs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Vs,wj]}],"shadow-color":[{shadow:[Ca]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[m]}],"drop-shadow":[{"drop-shadow":["","none",Vs,tt]}],grayscale:[{grayscale:[g]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[x]}],saturate:[{saturate:[A]}],sepia:[{sepia:[F]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[m]}],"backdrop-grayscale":[{"backdrop-grayscale":[g]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[F]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",tt]}],duration:[{duration:T()}],ease:[{ease:["linear","in","out","in-out",tt]}],delay:[{delay:T()}],animate:[{animate:["none","spin","ping","pulse","bounce",tt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[L]}],"scale-x":[{"scale-x":[L]}],"scale-y":[{"scale-y":[L]}],rotate:[{rotate:[ka,tt]}],"translate-x":[{"translate-x":[J]}],"translate-y":[{"translate-y":[J]}],"skew-x":[{"skew-x":[H]}],"skew-y":[{"skew-y":[H]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",tt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ee()}],"scroll-mx":[{"scroll-mx":ee()}],"scroll-my":[{"scroll-my":ee()}],"scroll-ms":[{"scroll-ms":ee()}],"scroll-me":[{"scroll-me":ee()}],"scroll-mt":[{"scroll-mt":ee()}],"scroll-mr":[{"scroll-mr":ee()}],"scroll-mb":[{"scroll-mb":ee()}],"scroll-ml":[{"scroll-ml":ee()}],"scroll-p":[{"scroll-p":ee()}],"scroll-px":[{"scroll-px":ee()}],"scroll-py":[{"scroll-py":ee()}],"scroll-ps":[{"scroll-ps":ee()}],"scroll-pe":[{"scroll-pe":ee()}],"scroll-pt":[{"scroll-pt":ee()}],"scroll-pr":[{"scroll-pr":ee()}],"scroll-pb":[{"scroll-pb":ee()}],"scroll-pl":[{"scroll-pl":ee()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ls,Bs,Tf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},jj=aj(Cj);function Ce(...e){return jj(Xx(e))}const _j=CC,l0=y.forwardRef(({className:e,...t},n)=>c.jsx(qx,{ref:n,className:Ce("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));l0.displayName=qx.displayName;const Ej=Bp("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),c0=y.forwardRef(({className:e,variant:t,...n},i)=>c.jsx(Hx,{ref:i,className:Ce(Ej({variant:t}),e),...n}));c0.displayName=Hx.displayName;const Pj=y.forwardRef(({className:e,...t},n)=>c.jsx(Zx,{ref:n,className:Ce("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Pj.displayName=Zx.displayName;const u0=y.forwardRef(({className:e,...t},n)=>c.jsx(Gx,{ref:n,className:Ce("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:c.jsx(xu,{className:"h-4 w-4"})}));u0.displayName=Gx.displayName;const d0=y.forwardRef(({className:e,...t},n)=>c.jsx(Qx,{ref:n,className:Ce("text-sm font-semibold",e),...t}));d0.displayName=Qx.displayName;const f0=y.forwardRef(({className:e,...t},n)=>c.jsx(Kx,{ref:n,className:Ce("text-sm opacity-90",e),...t}));f0.displayName=Kx.displayName;function Tj(){const{toasts:e}=pu();return c.jsxs(_j,{children:[e.map(function({id:t,title:n,description:i,action:o,...l}){return c.jsxs(c0,{...l,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(d0,{children:n}),i&&c.jsx(f0,{children:i})]}),o,c.jsx(u0,{})]},t)}),c.jsx(l0,{})]})}var Aj=du[" useId ".trim().toString()]||(()=>{}),Rj=0;function xo(e){const[t,n]=y.useState(Aj());return hs(()=>{n(i=>i??String(Rj++))},[e]),t?`radix-${t}`:""}const Ij=["top","right","bottom","left"],Ks=Math.min,Jn=Math.max,Uc=Math.round,Cc=Math.floor,Wr=e=>({x:e,y:e}),Lj={left:"right",right:"left",bottom:"top",top:"bottom"},Oj={start:"end",end:"start"};function hp(e,t,n){return Jn(e,Ks(t,n))}function gs(e,t){return typeof e=="function"?e(t):e}function ys(e){return e.split("-")[0]}function Vo(e){return e.split("-")[1]}function Qp(e){return e==="x"?"y":"x"}function Kp(e){return e==="y"?"height":"width"}function Zs(e){return["top","bottom"].includes(ys(e))?"y":"x"}function Zp(e){return Qp(Zs(e))}function Mj(e,t,n){n===void 0&&(n=!1);const i=Vo(e),o=Zp(e),l=Kp(o);let d=o==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(d=Wc(d)),[d,Wc(d)]}function Dj(e){const t=Wc(e);return[gp(e),t,gp(t)]}function gp(e){return e.replace(/start|end/g,t=>Oj[t])}function Fj(e,t,n){const i=["left","right"],o=["right","left"],l=["top","bottom"],d=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:i:t?i:o;case"left":case"right":return t?l:d;default:return[]}}function zj(e,t,n,i){const o=Vo(e);let l=Fj(ys(e),n==="start",i);return o&&(l=l.map(d=>d+"-"+o),t&&(l=l.concat(l.map(gp)))),l}function Wc(e){return e.replace(/left|right|bottom|top/g,t=>Lj[t])}function $j(e){return{top:0,right:0,bottom:0,left:0,...e}}function p0(e){return typeof e!="number"?$j(e):{top:e,right:e,bottom:e,left:e}}function qc(e){const{x:t,y:n,width:i,height:o}=e;return{width:i,height:o,top:n,left:t,right:t+i,bottom:n+o,x:t,y:n}}function Uy(e,t,n){let{reference:i,floating:o}=e;const l=Zs(t),d=Zp(t),f=Kp(d),m=ys(t),g=l==="y",h=i.x+i.width/2-o.width/2,x=i.y+i.height/2-o.height/2,b=i[f]/2-o[f]/2;let k;switch(m){case"top":k={x:h,y:i.y-o.height};break;case"bottom":k={x:h,y:i.y+i.height};break;case"right":k={x:i.x+i.width,y:x};break;case"left":k={x:i.x-o.width,y:x};break;default:k={x:i.x,y:i.y}}switch(Vo(t)){case"start":k[d]-=b*(n&&g?-1:1);break;case"end":k[d]+=b*(n&&g?-1:1);break}return k}const Bj=async(e,t,n)=>{const{placement:i="bottom",strategy:o="absolute",middleware:l=[],platform:d}=n,f=l.filter(Boolean),m=await(d.isRTL==null?void 0:d.isRTL(t));let g=await d.getElementRects({reference:e,floating:t,strategy:o}),{x:h,y:x}=Uy(g,i,m),b=i,k={},C=0;for(let w=0;w<f.length;w++){const{name:N,fn:j}=f[w],{x:P,y:A,data:L,reset:F}=await j({x:h,y:x,initialPlacement:i,placement:b,strategy:o,middlewareData:k,rects:g,platform:d,elements:{reference:e,floating:t}});h=P??h,x=A??x,k={...k,[N]:{...k[N],...L}},F&&C<=50&&(C++,typeof F=="object"&&(F.placement&&(b=F.placement),F.rects&&(g=F.rects===!0?await d.getElementRects({reference:e,floating:t,strategy:o}):F.rects),{x:h,y:x}=Uy(g,b,m)),w=-1)}return{x:h,y:x,placement:b,strategy:o,middlewareData:k}};async function za(e,t){var n;t===void 0&&(t={});const{x:i,y:o,platform:l,rects:d,elements:f,strategy:m}=e,{boundary:g="clippingAncestors",rootBoundary:h="viewport",elementContext:x="floating",altBoundary:b=!1,padding:k=0}=gs(t,e),C=p0(k),N=f[b?x==="floating"?"reference":"floating":x],j=qc(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(N)))==null||n?N:N.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(f.floating)),boundary:g,rootBoundary:h,strategy:m})),P=x==="floating"?{x:i,y:o,width:d.floating.width,height:d.floating.height}:d.reference,A=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f.floating)),L=await(l.isElement==null?void 0:l.isElement(A))?await(l.getScale==null?void 0:l.getScale(A))||{x:1,y:1}:{x:1,y:1},F=qc(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:P,offsetParent:A,strategy:m}):P);return{top:(j.top-F.top+C.top)/L.y,bottom:(F.bottom-j.bottom+C.bottom)/L.y,left:(j.left-F.left+C.left)/L.x,right:(F.right-j.right+C.right)/L.x}}const Vj=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:i,placement:o,rects:l,platform:d,elements:f,middlewareData:m}=t,{element:g,padding:h=0}=gs(e,t)||{};if(g==null)return{};const x=p0(h),b={x:n,y:i},k=Zp(o),C=Kp(k),w=await d.getDimensions(g),N=k==="y",j=N?"top":"left",P=N?"bottom":"right",A=N?"clientHeight":"clientWidth",L=l.reference[C]+l.reference[k]-b[k]-l.floating[C],F=b[k]-l.reference[k],H=await(d.getOffsetParent==null?void 0:d.getOffsetParent(g));let I=H?H[A]:0;(!I||!await(d.isElement==null?void 0:d.isElement(H)))&&(I=f.floating[A]||l.floating[C]);const J=L/2-F/2,se=I/2-w[C]/2-1,ae=Ks(x[j],se),K=Ks(x[P],se),ee=ae,de=I-w[C]-K,le=I/2-w[C]/2+J,ue=hp(ee,le,de),q=!m.arrow&&Vo(o)!=null&&le!==ue&&l.reference[C]/2-(le<ee?ae:K)-w[C]/2<0,Q=q?le<ee?le-ee:le-de:0;return{[k]:b[k]+Q,data:{[k]:ue,centerOffset:le-ue-Q,...q&&{alignmentOffset:Q}},reset:q}}}),Uj=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,i;const{placement:o,middlewareData:l,rects:d,initialPlacement:f,platform:m,elements:g}=t,{mainAxis:h=!0,crossAxis:x=!0,fallbackPlacements:b,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:w=!0,...N}=gs(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const j=ys(o),P=Zs(f),A=ys(f)===f,L=await(m.isRTL==null?void 0:m.isRTL(g.floating)),F=b||(A||!w?[Wc(f)]:Dj(f)),H=C!=="none";!b&&H&&F.push(...zj(f,w,C,L));const I=[f,...F],J=await za(t,N),se=[];let ae=((i=l.flip)==null?void 0:i.overflows)||[];if(h&&se.push(J[j]),x){const le=Mj(o,d,L);se.push(J[le[0]],J[le[1]])}if(ae=[...ae,{placement:o,overflows:se}],!se.every(le=>le<=0)){var K,ee;const le=(((K=l.flip)==null?void 0:K.index)||0)+1,ue=I[le];if(ue)return{data:{index:le,overflows:ae},reset:{placement:ue}};let q=(ee=ae.filter(Q=>Q.overflows[0]<=0).sort((Q,$)=>Q.overflows[1]-$.overflows[1])[0])==null?void 0:ee.placement;if(!q)switch(k){case"bestFit":{var de;const Q=(de=ae.filter($=>{if(H){const ne=Zs($.placement);return ne===P||ne==="y"}return!0}).map($=>[$.placement,$.overflows.filter(ne=>ne>0).reduce((ne,G)=>ne+G,0)]).sort(($,ne)=>$[1]-ne[1])[0])==null?void 0:de[0];Q&&(q=Q);break}case"initialPlacement":q=f;break}if(o!==q)return{reset:{placement:q}}}return{}}}};function Wy(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function qy(e){return Ij.some(t=>e[t]>=0)}const Wj=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:i="referenceHidden",...o}=gs(e,t);switch(i){case"referenceHidden":{const l=await za(t,{...o,elementContext:"reference"}),d=Wy(l,n.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:qy(d)}}}case"escaped":{const l=await za(t,{...o,altBoundary:!0}),d=Wy(l,n.floating);return{data:{escapedOffsets:d,escaped:qy(d)}}}default:return{}}}}};async function qj(e,t){const{placement:n,platform:i,elements:o}=e,l=await(i.isRTL==null?void 0:i.isRTL(o.floating)),d=ys(n),f=Vo(n),m=Zs(n)==="y",g=["left","top"].includes(d)?-1:1,h=l&&m?-1:1,x=gs(t,e);let{mainAxis:b,crossAxis:k,alignmentAxis:C}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return f&&typeof C=="number"&&(k=f==="end"?C*-1:C),m?{x:k*h,y:b*g}:{x:b*g,y:k*h}}const Hj=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,i;const{x:o,y:l,placement:d,middlewareData:f}=t,m=await qj(t,e);return d===((n=f.offset)==null?void 0:n.placement)&&(i=f.arrow)!=null&&i.alignmentOffset?{}:{x:o+m.x,y:l+m.y,data:{...m,placement:d}}}}},Qj=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:i,placement:o}=t,{mainAxis:l=!0,crossAxis:d=!1,limiter:f={fn:N=>{let{x:j,y:P}=N;return{x:j,y:P}}},...m}=gs(e,t),g={x:n,y:i},h=await za(t,m),x=Zs(ys(o)),b=Qp(x);let k=g[b],C=g[x];if(l){const N=b==="y"?"top":"left",j=b==="y"?"bottom":"right",P=k+h[N],A=k-h[j];k=hp(P,k,A)}if(d){const N=x==="y"?"top":"left",j=x==="y"?"bottom":"right",P=C+h[N],A=C-h[j];C=hp(P,C,A)}const w=f.fn({...t,[b]:k,[x]:C});return{...w,data:{x:w.x-n,y:w.y-i,enabled:{[b]:l,[x]:d}}}}}},Kj=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:i,placement:o,rects:l,middlewareData:d}=t,{offset:f=0,mainAxis:m=!0,crossAxis:g=!0}=gs(e,t),h={x:n,y:i},x=Zs(o),b=Qp(x);let k=h[b],C=h[x];const w=gs(f,t),N=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(m){const A=b==="y"?"height":"width",L=l.reference[b]-l.floating[A]+N.mainAxis,F=l.reference[b]+l.reference[A]-N.mainAxis;k<L?k=L:k>F&&(k=F)}if(g){var j,P;const A=b==="y"?"width":"height",L=["top","left"].includes(ys(o)),F=l.reference[x]-l.floating[A]+(L&&((j=d.offset)==null?void 0:j[x])||0)+(L?0:N.crossAxis),H=l.reference[x]+l.reference[A]+(L?0:((P=d.offset)==null?void 0:P[x])||0)-(L?N.crossAxis:0);C<F?C=F:C>H&&(C=H)}return{[b]:k,[x]:C}}}},Zj=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,i;const{placement:o,rects:l,platform:d,elements:f}=t,{apply:m=()=>{},...g}=gs(e,t),h=await za(t,g),x=ys(o),b=Vo(o),k=Zs(o)==="y",{width:C,height:w}=l.floating;let N,j;x==="top"||x==="bottom"?(N=x,j=b===(await(d.isRTL==null?void 0:d.isRTL(f.floating))?"start":"end")?"left":"right"):(j=x,N=b==="end"?"top":"bottom");const P=w-h.top-h.bottom,A=C-h.left-h.right,L=Ks(w-h[N],P),F=Ks(C-h[j],A),H=!t.middlewareData.shift;let I=L,J=F;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(J=A),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(I=P),H&&!b){const ae=Jn(h.left,0),K=Jn(h.right,0),ee=Jn(h.top,0),de=Jn(h.bottom,0);k?J=C-2*(ae!==0||K!==0?ae+K:Jn(h.left,h.right)):I=w-2*(ee!==0||de!==0?ee+de:Jn(h.top,h.bottom))}await m({...t,availableWidth:J,availableHeight:I});const se=await d.getDimensions(f.floating);return C!==se.width||w!==se.height?{reset:{rects:!0}}:{}}}};function bu(){return typeof window<"u"}function Uo(e){return m0(e)?(e.nodeName||"").toLowerCase():"#document"}function tr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Gr(e){var t;return(t=(m0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function m0(e){return bu()?e instanceof Node||e instanceof tr(e).Node:!1}function Rr(e){return bu()?e instanceof Element||e instanceof tr(e).Element:!1}function Hr(e){return bu()?e instanceof HTMLElement||e instanceof tr(e).HTMLElement:!1}function Hy(e){return!bu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof tr(e).ShadowRoot}function cl(e){const{overflow:t,overflowX:n,overflowY:i,display:o}=Ir(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(o)}function Gj(e){return["table","td","th"].includes(Uo(e))}function wu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Gp(e){const t=Yp(),n=Rr(e)?Ir(e):e;return["transform","translate","scale","rotate","perspective"].some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function Yj(e){let t=Gs(e);for(;Hr(t)&&!Eo(t);){if(Gp(t))return t;if(wu(t))return null;t=Gs(t)}return null}function Yp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Eo(e){return["html","body","#document"].includes(Uo(e))}function Ir(e){return tr(e).getComputedStyle(e)}function Su(e){return Rr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Gs(e){if(Uo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Hy(e)&&e.host||Gr(e);return Hy(t)?t.host:t}function h0(e){const t=Gs(e);return Eo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Hr(t)&&cl(t)?t:h0(t)}function $a(e,t,n){var i;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=h0(e),l=o===((i=e.ownerDocument)==null?void 0:i.body),d=tr(o);if(l){const f=yp(d);return t.concat(d,d.visualViewport||[],cl(o)?o:[],f&&n?$a(f):[])}return t.concat(o,$a(o,[],n))}function yp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function g0(e){const t=Ir(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const o=Hr(e),l=o?e.offsetWidth:n,d=o?e.offsetHeight:i,f=Uc(n)!==l||Uc(i)!==d;return f&&(n=l,i=d),{width:n,height:i,$:f}}function Xp(e){return Rr(e)?e:e.contextElement}function bo(e){const t=Xp(e);if(!Hr(t))return Wr(1);const n=t.getBoundingClientRect(),{width:i,height:o,$:l}=g0(t);let d=(l?Uc(n.width):n.width)/i,f=(l?Uc(n.height):n.height)/o;return(!d||!Number.isFinite(d))&&(d=1),(!f||!Number.isFinite(f))&&(f=1),{x:d,y:f}}const Xj=Wr(0);function y0(e){const t=tr(e);return!Yp()||!t.visualViewport?Xj:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Jj(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==tr(e)?!1:t}function Pi(e,t,n,i){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),l=Xp(e);let d=Wr(1);t&&(i?Rr(i)&&(d=bo(i)):d=bo(e));const f=Jj(l,n,i)?y0(l):Wr(0);let m=(o.left+f.x)/d.x,g=(o.top+f.y)/d.y,h=o.width/d.x,x=o.height/d.y;if(l){const b=tr(l),k=i&&Rr(i)?tr(i):i;let C=b,w=yp(C);for(;w&&i&&k!==C;){const N=bo(w),j=w.getBoundingClientRect(),P=Ir(w),A=j.left+(w.clientLeft+parseFloat(P.paddingLeft))*N.x,L=j.top+(w.clientTop+parseFloat(P.paddingTop))*N.y;m*=N.x,g*=N.y,h*=N.x,x*=N.y,m+=A,g+=L,C=tr(w),w=yp(C)}}return qc({width:h,height:x,x:m,y:g})}function Jp(e,t){const n=Su(e).scrollLeft;return t?t.left+n:Pi(Gr(e)).left+n}function v0(e,t,n){n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=i.left+t.scrollLeft-(n?0:Jp(e,i)),l=i.top+t.scrollTop;return{x:o,y:l}}function e_(e){let{elements:t,rect:n,offsetParent:i,strategy:o}=e;const l=o==="fixed",d=Gr(i),f=t?wu(t.floating):!1;if(i===d||f&&l)return n;let m={scrollLeft:0,scrollTop:0},g=Wr(1);const h=Wr(0),x=Hr(i);if((x||!x&&!l)&&((Uo(i)!=="body"||cl(d))&&(m=Su(i)),Hr(i))){const k=Pi(i);g=bo(i),h.x=k.x+i.clientLeft,h.y=k.y+i.clientTop}const b=d&&!x&&!l?v0(d,m,!0):Wr(0);return{width:n.width*g.x,height:n.height*g.y,x:n.x*g.x-m.scrollLeft*g.x+h.x+b.x,y:n.y*g.y-m.scrollTop*g.y+h.y+b.y}}function t_(e){return Array.from(e.getClientRects())}function n_(e){const t=Gr(e),n=Su(e),i=e.ownerDocument.body,o=Jn(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),l=Jn(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let d=-n.scrollLeft+Jp(e);const f=-n.scrollTop;return Ir(i).direction==="rtl"&&(d+=Jn(t.clientWidth,i.clientWidth)-o),{width:o,height:l,x:d,y:f}}function r_(e,t){const n=tr(e),i=Gr(e),o=n.visualViewport;let l=i.clientWidth,d=i.clientHeight,f=0,m=0;if(o){l=o.width,d=o.height;const g=Yp();(!g||g&&t==="fixed")&&(f=o.offsetLeft,m=o.offsetTop)}return{width:l,height:d,x:f,y:m}}function s_(e,t){const n=Pi(e,!0,t==="fixed"),i=n.top+e.clientTop,o=n.left+e.clientLeft,l=Hr(e)?bo(e):Wr(1),d=e.clientWidth*l.x,f=e.clientHeight*l.y,m=o*l.x,g=i*l.y;return{width:d,height:f,x:m,y:g}}function Qy(e,t,n){let i;if(t==="viewport")i=r_(e,n);else if(t==="document")i=n_(Gr(e));else if(Rr(t))i=s_(t,n);else{const o=y0(e);i={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return qc(i)}function x0(e,t){const n=Gs(e);return n===t||!Rr(n)||Eo(n)?!1:Ir(n).position==="fixed"||x0(n,t)}function i_(e,t){const n=t.get(e);if(n)return n;let i=$a(e,[],!1).filter(f=>Rr(f)&&Uo(f)!=="body"),o=null;const l=Ir(e).position==="fixed";let d=l?Gs(e):e;for(;Rr(d)&&!Eo(d);){const f=Ir(d),m=Gp(d);!m&&f.position==="fixed"&&(o=null),(l?!m&&!o:!m&&f.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||cl(d)&&!m&&x0(e,d))?i=i.filter(h=>h!==d):o=f,d=Gs(d)}return t.set(e,i),i}function o_(e){let{element:t,boundary:n,rootBoundary:i,strategy:o}=e;const d=[...n==="clippingAncestors"?wu(t)?[]:i_(t,this._c):[].concat(n),i],f=d[0],m=d.reduce((g,h)=>{const x=Qy(t,h,o);return g.top=Jn(x.top,g.top),g.right=Ks(x.right,g.right),g.bottom=Ks(x.bottom,g.bottom),g.left=Jn(x.left,g.left),g},Qy(t,f,o));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function a_(e){const{width:t,height:n}=g0(e);return{width:t,height:n}}function l_(e,t,n){const i=Hr(t),o=Gr(t),l=n==="fixed",d=Pi(e,!0,l,t);let f={scrollLeft:0,scrollTop:0};const m=Wr(0);if(i||!i&&!l)if((Uo(t)!=="body"||cl(o))&&(f=Su(t)),i){const b=Pi(t,!0,l,t);m.x=b.x+t.clientLeft,m.y=b.y+t.clientTop}else o&&(m.x=Jp(o));const g=o&&!i&&!l?v0(o,f):Wr(0),h=d.left+f.scrollLeft-m.x-g.x,x=d.top+f.scrollTop-m.y-g.y;return{x:h,y:x,width:d.width,height:d.height}}function Af(e){return Ir(e).position==="static"}function Ky(e,t){if(!Hr(e)||Ir(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Gr(e)===n&&(n=n.ownerDocument.body),n}function b0(e,t){const n=tr(e);if(wu(e))return n;if(!Hr(e)){let o=Gs(e);for(;o&&!Eo(o);){if(Rr(o)&&!Af(o))return o;o=Gs(o)}return n}let i=Ky(e,t);for(;i&&Gj(i)&&Af(i);)i=Ky(i,t);return i&&Eo(i)&&Af(i)&&!Gp(i)?n:i||Yj(e)||n}const c_=async function(e){const t=this.getOffsetParent||b0,n=this.getDimensions,i=await n(e.floating);return{reference:l_(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function u_(e){return Ir(e).direction==="rtl"}const d_={convertOffsetParentRelativeRectToViewportRelativeRect:e_,getDocumentElement:Gr,getClippingRect:o_,getOffsetParent:b0,getElementRects:c_,getClientRects:t_,getDimensions:a_,getScale:bo,isElement:Rr,isRTL:u_};function w0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function f_(e,t){let n=null,i;const o=Gr(e);function l(){var f;clearTimeout(i),(f=n)==null||f.disconnect(),n=null}function d(f,m){f===void 0&&(f=!1),m===void 0&&(m=1),l();const g=e.getBoundingClientRect(),{left:h,top:x,width:b,height:k}=g;if(f||t(),!b||!k)return;const C=Cc(x),w=Cc(o.clientWidth-(h+b)),N=Cc(o.clientHeight-(x+k)),j=Cc(h),A={rootMargin:-C+"px "+-w+"px "+-N+"px "+-j+"px",threshold:Jn(0,Ks(1,m))||1};let L=!0;function F(H){const I=H[0].intersectionRatio;if(I!==m){if(!L)return d();I?d(!1,I):i=setTimeout(()=>{d(!1,1e-7)},1e3)}I===1&&!w0(g,e.getBoundingClientRect())&&d(),L=!1}try{n=new IntersectionObserver(F,{...A,root:o.ownerDocument})}catch{n=new IntersectionObserver(F,A)}n.observe(e)}return d(!0),l}function p_(e,t,n,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:m=!1}=i,g=Xp(e),h=o||l?[...g?$a(g):[],...$a(t)]:[];h.forEach(j=>{o&&j.addEventListener("scroll",n,{passive:!0}),l&&j.addEventListener("resize",n)});const x=g&&f?f_(g,n):null;let b=-1,k=null;d&&(k=new ResizeObserver(j=>{let[P]=j;P&&P.target===g&&k&&(k.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var A;(A=k)==null||A.observe(t)})),n()}),g&&!m&&k.observe(g),k.observe(t));let C,w=m?Pi(e):null;m&&N();function N(){const j=Pi(e);w&&!w0(w,j)&&n(),w=j,C=requestAnimationFrame(N)}return n(),()=>{var j;h.forEach(P=>{o&&P.removeEventListener("scroll",n),l&&P.removeEventListener("resize",n)}),x?.(),(j=k)==null||j.disconnect(),k=null,m&&cancelAnimationFrame(C)}}const m_=Hj,h_=Qj,g_=Uj,y_=Zj,v_=Wj,Zy=Vj,x_=Kj,b_=(e,t,n)=>{const i=new Map,o={platform:d_,...n},l={...o.platform,_c:i};return Bj(e,t,{...o,platform:l})};var Mc=typeof document<"u"?y.useLayoutEffect:y.useEffect;function Hc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,i,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(i=n;i--!==0;)if(!Hc(e[i],t[i]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(t,o[i]))return!1;for(i=n;i--!==0;){const l=o[i];if(!(l==="_owner"&&e.$$typeof)&&!Hc(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function S0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Gy(e,t){const n=S0(e);return Math.round(t*n)/n}function Rf(e){const t=y.useRef(e);return Mc(()=>{t.current=e}),t}function w_(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:i=[],platform:o,elements:{reference:l,floating:d}={},transform:f=!0,whileElementsMounted:m,open:g}=e,[h,x]=y.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,k]=y.useState(i);Hc(b,i)||k(i);const[C,w]=y.useState(null),[N,j]=y.useState(null),P=y.useCallback($=>{$!==H.current&&(H.current=$,w($))},[]),A=y.useCallback($=>{$!==I.current&&(I.current=$,j($))},[]),L=l||C,F=d||N,H=y.useRef(null),I=y.useRef(null),J=y.useRef(h),se=m!=null,ae=Rf(m),K=Rf(o),ee=Rf(g),de=y.useCallback(()=>{if(!H.current||!I.current)return;const $={placement:t,strategy:n,middleware:b};K.current&&($.platform=K.current),b_(H.current,I.current,$).then(ne=>{const G={...ne,isPositioned:ee.current!==!1};le.current&&!Hc(J.current,G)&&(J.current=G,mu.flushSync(()=>{x(G)}))})},[b,t,n,K,ee]);Mc(()=>{g===!1&&J.current.isPositioned&&(J.current.isPositioned=!1,x($=>({...$,isPositioned:!1})))},[g]);const le=y.useRef(!1);Mc(()=>(le.current=!0,()=>{le.current=!1}),[]),Mc(()=>{if(L&&(H.current=L),F&&(I.current=F),L&&F){if(ae.current)return ae.current(L,F,de);de()}},[L,F,de,ae,se]);const ue=y.useMemo(()=>({reference:H,floating:I,setReference:P,setFloating:A}),[P,A]),q=y.useMemo(()=>({reference:L,floating:F}),[L,F]),Q=y.useMemo(()=>{const $={position:n,left:0,top:0};if(!q.floating)return $;const ne=Gy(q.floating,h.x),G=Gy(q.floating,h.y);return f?{...$,transform:"translate("+ne+"px, "+G+"px)",...S0(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:G}},[n,f,q.floating,h.x,h.y]);return y.useMemo(()=>({...h,update:de,refs:ue,elements:q,floatingStyles:Q}),[h,de,ue,q,Q])}const S_=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:i,padding:o}=typeof e=="function"?e(n):e;return i&&t(i)?i.current!=null?Zy({element:i.current,padding:o}).fn(n):{}:i?Zy({element:i,padding:o}).fn(n):{}}}},N_=(e,t)=>({...m_(e),options:[e,t]}),k_=(e,t)=>({...h_(e),options:[e,t]}),C_=(e,t)=>({...x_(e),options:[e,t]}),j_=(e,t)=>({...g_(e),options:[e,t]}),__=(e,t)=>({...y_(e),options:[e,t]}),E_=(e,t)=>({...v_(e),options:[e,t]}),P_=(e,t)=>({...S_(e),options:[e,t]});var T_="Arrow",N0=y.forwardRef((e,t)=>{const{children:n,width:i=10,height:o=5,...l}=e;return c.jsx(ct.svg,{...l,ref:t,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});N0.displayName=T_;var A_=N0;function k0(e){const[t,n]=y.useState(void 0);return hs(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let d,f;if("borderBoxSize"in l){const m=l.borderBoxSize,g=Array.isArray(m)?m[0]:m;d=g.inlineSize,f=g.blockSize}else d=e.offsetWidth,f=e.offsetHeight;n({width:d,height:f})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else n(void 0)},[e]),t}var em="Popper",[C0,Nu]=Zr(em),[R_,j0]=C0(em),_0=e=>{const{__scopePopper:t,children:n}=e,[i,o]=y.useState(null);return c.jsx(R_,{scope:t,anchor:i,onAnchorChange:o,children:n})};_0.displayName=em;var E0="PopperAnchor",P0=y.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:i,...o}=e,l=j0(E0,n),d=y.useRef(null),f=_t(t,d);return y.useEffect(()=>{l.onAnchorChange(i?.current||d.current)}),i?null:c.jsx(ct.div,{...o,ref:f})});P0.displayName=E0;var tm="PopperContent",[I_,L_]=C0(tm),T0=y.forwardRef((e,t)=>{const{__scopePopper:n,side:i="bottom",sideOffset:o=0,align:l="center",alignOffset:d=0,arrowPadding:f=0,avoidCollisions:m=!0,collisionBoundary:g=[],collisionPadding:h=0,sticky:x="partial",hideWhenDetached:b=!1,updatePositionStrategy:k="optimized",onPlaced:C,...w}=e,N=j0(tm,n),[j,P]=y.useState(null),A=_t(t,B=>P(B)),[L,F]=y.useState(null),H=k0(L),I=H?.width??0,J=H?.height??0,se=i+(l!=="center"?"-"+l:""),ae=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},K=Array.isArray(g)?g:[g],ee=K.length>0,de={padding:ae,boundary:K.filter(M_),altBoundary:ee},{refs:le,floatingStyles:ue,placement:q,isPositioned:Q,middlewareData:$}=w_({strategy:"fixed",placement:se,whileElementsMounted:(...B)=>p_(...B,{animationFrame:k==="always"}),elements:{reference:N.anchor},middleware:[N_({mainAxis:o+J,alignmentAxis:d}),m&&k_({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?C_():void 0,...de}),m&&j_({...de}),__({...de,apply:({elements:B,rects:re,availableWidth:fe,availableHeight:ye})=>{const{width:ze,height:Ye}=re.reference,Me=B.floating.style;Me.setProperty("--radix-popper-available-width",`${fe}px`),Me.setProperty("--radix-popper-available-height",`${ye}px`),Me.setProperty("--radix-popper-anchor-width",`${ze}px`),Me.setProperty("--radix-popper-anchor-height",`${Ye}px`)}}),L&&P_({element:L,padding:f}),D_({arrowWidth:I,arrowHeight:J}),b&&E_({strategy:"referenceHidden",...de})]}),[ne,G]=I0(q),T=Kt(C);hs(()=>{Q&&T?.()},[Q,T]);const _=$.arrow?.x,O=$.arrow?.y,X=$.arrow?.centerOffset!==0,[D,M]=y.useState();return hs(()=>{j&&M(window.getComputedStyle(j).zIndex)},[j]),c.jsx("div",{ref:le.setFloating,"data-radix-popper-content-wrapper":"",style:{...ue,transform:Q?ue.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:D,"--radix-popper-transform-origin":[$.transformOrigin?.x,$.transformOrigin?.y].join(" "),...$.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(I_,{scope:n,placedSide:ne,onArrowChange:F,arrowX:_,arrowY:O,shouldHideArrow:X,children:c.jsx(ct.div,{"data-side":ne,"data-align":G,...w,ref:A,style:{...w.style,animation:Q?void 0:"none"}})})})});T0.displayName=tm;var A0="PopperArrow",O_={top:"bottom",right:"left",bottom:"top",left:"right"},R0=y.forwardRef(function(t,n){const{__scopePopper:i,...o}=t,l=L_(A0,i),d=O_[l.placedSide];return c.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:c.jsx(A_,{...o,ref:n,style:{...o.style,display:"block"}})})});R0.displayName=A0;function M_(e){return e!==null}var D_=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:i,middlewareData:o}=t,d=o.arrow?.centerOffset!==0,f=d?0:e.arrowWidth,m=d?0:e.arrowHeight,[g,h]=I0(n),x={start:"0%",center:"50%",end:"100%"}[h],b=(o.arrow?.x??0)+f/2,k=(o.arrow?.y??0)+m/2;let C="",w="";return g==="bottom"?(C=d?x:`${b}px`,w=`${-m}px`):g==="top"?(C=d?x:`${b}px`,w=`${i.floating.height+m}px`):g==="right"?(C=`${-m}px`,w=d?x:`${k}px`):g==="left"&&(C=`${i.floating.width+m}px`,w=d?x:`${k}px`),{data:{x:C,y:w}}}});function I0(e){const[t,n="center"]=e.split("-");return[t,n]}var F_=_0,nm=P0,L0=T0,O0=R0,[ku]=Zr("Tooltip",[Nu]),rm=Nu(),M0="TooltipProvider",z_=700,Yy="tooltip.open",[$_,D0]=ku(M0),F0=e=>{const{__scopeTooltip:t,delayDuration:n=z_,skipDelayDuration:i=300,disableHoverableContent:o=!1,children:l}=e,d=y.useRef(!0),f=y.useRef(!1),m=y.useRef(0);return y.useEffect(()=>{const g=m.current;return()=>window.clearTimeout(g)},[]),c.jsx($_,{scope:t,isOpenDelayedRef:d,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(m.current),d.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>d.current=!0,i)},[i]),isPointerInTransitRef:f,onPointerInTransitChange:y.useCallback(g=>{f.current=g},[]),disableHoverableContent:o,children:l})};F0.displayName=M0;var z0="Tooltip",[GO,Cu]=ku(z0),vp="TooltipTrigger",B_=y.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,o=Cu(vp,n),l=D0(vp,n),d=rm(n),f=y.useRef(null),m=_t(t,f,o.onTriggerChange),g=y.useRef(!1),h=y.useRef(!1),x=y.useCallback(()=>g.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",x),[x]),c.jsx(nm,{asChild:!0,...d,children:c.jsx(ct.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...i,ref:m,onPointerMove:Qe(e.onPointerMove,b=>{b.pointerType!=="touch"&&!h.current&&!l.isPointerInTransitRef.current&&(o.onTriggerEnter(),h.current=!0)}),onPointerLeave:Qe(e.onPointerLeave,()=>{o.onTriggerLeave(),h.current=!1}),onPointerDown:Qe(e.onPointerDown,()=>{o.open&&o.onClose(),g.current=!0,document.addEventListener("pointerup",x,{once:!0})}),onFocus:Qe(e.onFocus,()=>{g.current||o.onOpen()}),onBlur:Qe(e.onBlur,o.onClose),onClick:Qe(e.onClick,o.onClose)})})});B_.displayName=vp;var V_="TooltipPortal",[YO,U_]=ku(V_,{forceMount:void 0}),Po="TooltipContent",$0=y.forwardRef((e,t)=>{const n=U_(Po,e.__scopeTooltip),{forceMount:i=n.forceMount,side:o="top",...l}=e,d=Cu(Po,e.__scopeTooltip);return c.jsx(Un,{present:i||d.open,children:d.disableHoverableContent?c.jsx(B0,{side:o,...l,ref:t}):c.jsx(W_,{side:o,...l,ref:t})})}),W_=y.forwardRef((e,t)=>{const n=Cu(Po,e.__scopeTooltip),i=D0(Po,e.__scopeTooltip),o=y.useRef(null),l=_t(t,o),[d,f]=y.useState(null),{trigger:m,onClose:g}=n,h=o.current,{onPointerInTransitChange:x}=i,b=y.useCallback(()=>{f(null),x(!1)},[x]),k=y.useCallback((C,w)=>{const N=C.currentTarget,j={x:C.clientX,y:C.clientY},P=Z_(j,N.getBoundingClientRect()),A=G_(j,P),L=Y_(w.getBoundingClientRect()),F=J_([...A,...L]);f(F),x(!0)},[x]);return y.useEffect(()=>()=>b(),[b]),y.useEffect(()=>{if(m&&h){const C=N=>k(N,h),w=N=>k(N,m);return m.addEventListener("pointerleave",C),h.addEventListener("pointerleave",w),()=>{m.removeEventListener("pointerleave",C),h.removeEventListener("pointerleave",w)}}},[m,h,k,b]),y.useEffect(()=>{if(d){const C=w=>{const N=w.target,j={x:w.clientX,y:w.clientY},P=m?.contains(N)||h?.contains(N),A=!X_(j,d);P?b():A&&(b(),g())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[m,h,d,g,b]),c.jsx(B0,{...e,ref:l})}),[q_,H_]=ku(z0,{isInside:!1}),Q_=Bk("TooltipContent"),B0=y.forwardRef((e,t)=>{const{__scopeTooltip:n,children:i,"aria-label":o,onEscapeKeyDown:l,onPointerDownOutside:d,...f}=e,m=Cu(Po,n),g=rm(n),{onClose:h}=m;return y.useEffect(()=>(document.addEventListener(Yy,h),()=>document.removeEventListener(Yy,h)),[h]),y.useEffect(()=>{if(m.trigger){const x=b=>{b.target?.contains(m.trigger)&&h()};return window.addEventListener("scroll",x,{capture:!0}),()=>window.removeEventListener("scroll",x,{capture:!0})}},[m.trigger,h]),c.jsx(ll,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:x=>x.preventDefault(),onDismiss:h,children:c.jsxs(L0,{"data-state":m.stateAttribute,...g,...f,ref:t,style:{...f.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(Q_,{children:i}),c.jsx(q_,{scope:n,isInside:!0,children:c.jsx(aC,{id:m.contentId,role:"tooltip",children:o||i})})]})})});$0.displayName=Po;var V0="TooltipArrow",K_=y.forwardRef((e,t)=>{const{__scopeTooltip:n,...i}=e,o=rm(n);return H_(V0,n).isInside?null:c.jsx(O0,{...o,...i,ref:t})});K_.displayName=V0;function Z_(e,t){const n=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(n,i,o,l)){case l:return"left";case o:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function G_(e,t,n=5){const i=[];switch(t){case"top":i.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":i.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":i.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":i.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return i}function Y_(e){const{top:t,right:n,bottom:i,left:o}=e;return[{x:o,y:t},{x:n,y:t},{x:n,y:i},{x:o,y:i}]}function X_(e,t){const{x:n,y:i}=e;let o=!1;for(let l=0,d=t.length-1;l<t.length;d=l++){const f=t[l].x,m=t[l].y,g=t[d].x,h=t[d].y;m>i!=h>i&&n<(g-f)*(i-m)/(h-m)+f&&(o=!o)}return o}function J_(e){const t=e.slice();return t.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),eE(t)}function eE(e){if(e.length<=1)return e.slice();const t=[];for(let i=0;i<e.length;i++){const o=e[i];for(;t.length>=2;){const l=t[t.length-1],d=t[t.length-2];if((l.x-d.x)*(o.y-d.y)>=(l.y-d.y)*(o.x-d.x))t.pop();else break}t.push(o)}t.pop();const n=[];for(let i=e.length-1;i>=0;i--){const o=e[i];for(;n.length>=2;){const l=n[n.length-1],d=n[n.length-2];if((l.x-d.x)*(o.y-d.y)>=(l.y-d.y)*(o.x-d.x))n.pop();else break}n.push(o)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var tE=F0,U0=$0;const nE=tE,rE=y.forwardRef(({className:e,sideOffset:t=4,...n},i)=>c.jsx(U0,{ref:i,sideOffset:t,className:Ce("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));rE.displayName=U0.displayName;function sE({children:e}){const[t,n]=y.useState(()=>{const i=localStorage.getItem("theme");return i==="light"||i==="dark"?i:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"});return y.useEffect(()=>{const i=window.document.documentElement;i.classList.remove("light","dark"),i.classList.add(t),localStorage.setItem("theme",t)},[t]),c.jsx(W0.Provider,{value:{theme:t,setTheme:n},children:e})}const W0=y.createContext(void 0);function q0(){const e=y.useContext(W0);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}const iE=Bp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ge=y.forwardRef(({className:e,variant:t,size:n,asChild:i=!1,...o},l)=>{const d=i?zk:"button";return c.jsx(d,{className:Ce(iE({variant:t,size:n,className:e})),ref:l,...o})});Ge.displayName="Button";function oE(){const[,e]=lx(),{setTheme:t}=q0();return y.useEffect(()=>{t("dark");const n=window.document.documentElement;return n.classList.add("neo-world"),()=>{n.classList.remove("neo-world")}},[t]),c.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-[hsl(250,60%,4%)] text-[hsl(220,18%,92%)]",children:c.jsxs("div",{className:"w-full max-w-md mx-4 p-8 rounded-xl border border-white/10 bg-black/30 backdrop-blur-sm",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx("div",{className:"p-3 rounded-lg bg-red-500/20",children:c.jsx(yi,{className:"h-8 w-8 text-red-400"})}),c.jsx("h1",{className:"text-2xl font-bold text-slate-100",children:"404"})]}),c.jsx("p",{className:"text-lg text-slate-300 mb-2",children:"Page Not Found"}),c.jsx("p",{className:"text-sm text-slate-400 mb-8",children:"The page you're looking for doesn't exist or has been moved."}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs(Ge,{variant:"outline",className:"flex-1 border-white/10 bg-white/5 hover:bg-white/10 text-slate-200",onClick:()=>e("/"),children:[c.jsx(PC,{className:"h-4 w-4 mr-2"}),"Go Back"]}),c.jsxs(Ge,{className:"flex-1 bg-[hsl(272,92%,62%)] hover:bg-[hsl(272,92%,52%)] text-white",onClick:()=>e("/"),children:[c.jsx(zC,{className:"h-4 w-4 mr-2"}),"Home"]})]})]})})}const{createElement:To,createContext:aE,forwardRef:H0,useCallback:Bn,useContext:Q0,useEffect:wi,useImperativeHandle:K0,useLayoutEffect:lE,useMemo:cE,useRef:Vn,useState:wo}=du,Xy=du[`useId${Math.random()}`.slice(0,5)],uE=lE,ju=aE(null);ju.displayName="PanelGroupContext";const Si=uE,dE=typeof Xy=="function"?Xy:()=>null;let fE=0;function sm(e=null){const t=dE(),n=Vn(e||t||null);return n.current===null&&(n.current=""+fE++),e??n.current}function Z0({children:e,className:t="",collapsedSize:n,collapsible:i,defaultSize:o,forwardedRef:l,id:d,maxSize:f,minSize:m,onCollapse:g,onExpand:h,onResize:x,order:b,style:k,tagName:C="div",...w}){const N=Q0(ju);if(N===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:j,expandPanel:P,getPanelSize:A,getPanelStyle:L,groupId:F,isPanelCollapsed:H,reevaluatePanelConstraints:I,registerPanel:J,resizePanel:se,unregisterPanel:ae}=N,K=sm(d),ee=Vn({callbacks:{onCollapse:g,onExpand:h,onResize:x},constraints:{collapsedSize:n,collapsible:i,defaultSize:o,maxSize:f,minSize:m},id:K,idIsFromProps:d!==void 0,order:b});Vn({didLogMissingDefaultSizeWarning:!1}),Si(()=>{const{callbacks:le,constraints:ue}=ee.current,q={...ue};ee.current.id=K,ee.current.idIsFromProps=d!==void 0,ee.current.order=b,le.onCollapse=g,le.onExpand=h,le.onResize=x,ue.collapsedSize=n,ue.collapsible=i,ue.defaultSize=o,ue.maxSize=f,ue.minSize=m,(q.collapsedSize!==ue.collapsedSize||q.collapsible!==ue.collapsible||q.maxSize!==ue.maxSize||q.minSize!==ue.minSize)&&I(ee.current,q)}),Si(()=>{const le=ee.current;return J(le),()=>{ae(le)}},[b,K,J,ae]),K0(l,()=>({collapse:()=>{j(ee.current)},expand:le=>{P(ee.current,le)},getId(){return K},getSize(){return A(ee.current)},isCollapsed(){return H(ee.current)},isExpanded(){return!H(ee.current)},resize:le=>{se(ee.current,le)}}),[j,P,A,H,K,se]);const de=L(ee.current,o);return To(C,{...w,children:e,className:t,id:d,style:{...de,...k},"data-panel":"","data-panel-collapsible":i||void 0,"data-panel-group-id":F,"data-panel-id":K,"data-panel-size":parseFloat(""+de.flexGrow).toFixed(1)})}const G0=H0((e,t)=>To(Z0,{...e,forwardedRef:t}));Z0.displayName="Panel";G0.displayName="forwardRef(Panel)";let xp=null,bi=null;function pE(e,t){if(t){const n=(t&tb)!==0,i=(t&nb)!==0,o=(t&rb)!==0,l=(t&sb)!==0;if(n)return o?"se-resize":l?"ne-resize":"e-resize";if(i)return o?"sw-resize":l?"nw-resize":"w-resize";if(o)return"s-resize";if(l)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function mE(){bi!==null&&(document.head.removeChild(bi),xp=null,bi=null)}function If(e,t){const n=pE(e,t);xp!==n&&(xp=n,bi===null&&(bi=document.createElement("style"),document.head.appendChild(bi)),bi.innerHTML=`*{cursor: ${n}!important;}`)}function Y0(e){return e.type==="keydown"}function X0(e){return e.type.startsWith("pointer")}function J0(e){return e.type.startsWith("mouse")}function _u(e){if(X0(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(J0(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}function hE(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function gE(e,t,n){return e.x<t.x+t.width&&e.x+e.width>t.x&&e.y<t.y+t.height&&e.y+e.height>t.y}function yE(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:tv(e),b:tv(t)};let i;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),i=e;rt(i,"Stacking order can only be calculated for elements with a common ancestor");const o={a:ev(Jy(n.a)),b:ev(Jy(n.b))};if(o.a===o.b){const l=i.childNodes,d={a:n.a.at(-1),b:n.b.at(-1)};let f=l.length;for(;f--;){const m=l[f];if(m===d.a)return 1;if(m===d.b)return-1}}return Math.sign(o.a-o.b)}const vE=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function xE(e){var t;const n=getComputedStyle((t=eb(e))!==null&&t!==void 0?t:e).display;return n==="flex"||n==="inline-flex"}function bE(e){const t=getComputedStyle(e);return!!(t.position==="fixed"||t.zIndex!=="auto"&&(t.position!=="static"||xE(e))||+t.opacity<1||"transform"in t&&t.transform!=="none"||"webkitTransform"in t&&t.webkitTransform!=="none"||"mixBlendMode"in t&&t.mixBlendMode!=="normal"||"filter"in t&&t.filter!=="none"||"webkitFilter"in t&&t.webkitFilter!=="none"||"isolation"in t&&t.isolation==="isolate"||vE.test(t.willChange)||t.webkitOverflowScrolling==="touch")}function Jy(e){let t=e.length;for(;t--;){const n=e[t];if(rt(n,"Missing node"),bE(n))return n}return null}function ev(e){return e&&Number(getComputedStyle(e).zIndex)||0}function tv(e){const t=[];for(;e;)t.push(e),e=eb(e);return t}function eb(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const tb=1,nb=2,rb=4,sb=8,wE=hE()==="coarse";let Pr=[],So=!1,Ws=new Map,Eu=new Map;const Ba=new Set;function SE(e,t,n,i,o){var l;const{ownerDocument:d}=t,f={direction:n,element:t,hitAreaMargins:i,setResizeHandlerState:o},m=(l=Ws.get(d))!==null&&l!==void 0?l:0;return Ws.set(d,m+1),Ba.add(f),Qc(),function(){var h;Eu.delete(e),Ba.delete(f);const x=(h=Ws.get(d))!==null&&h!==void 0?h:1;if(Ws.set(d,x-1),Qc(),x===1&&Ws.delete(d),Pr.includes(f)){const b=Pr.indexOf(f);b>=0&&Pr.splice(b,1),om(),o("up",!0,null)}}}function nv(e){const{target:t}=e,{x:n,y:i}=_u(e);So=!0,im({target:t,x:n,y:i}),Qc(),Pr.length>0&&(Kc("down",e),e.preventDefault(),e.stopPropagation())}function ja(e){const{x:t,y:n}=_u(e);if(So&&e.buttons===0&&(So=!1,Kc("up",e)),!So){const{target:i}=e;im({target:i,x:t,y:n})}Kc("move",e),om(),Pr.length>0&&e.preventDefault()}function io(e){const{target:t}=e,{x:n,y:i}=_u(e);Eu.clear(),So=!1,Pr.length>0&&e.preventDefault(),Kc("up",e),im({target:t,x:n,y:i}),om(),Qc()}function im({target:e,x:t,y:n}){Pr.splice(0);let i=null;(e instanceof HTMLElement||e instanceof SVGElement)&&(i=e),Ba.forEach(o=>{const{element:l,hitAreaMargins:d}=o,f=l.getBoundingClientRect(),{bottom:m,left:g,right:h,top:x}=f,b=wE?d.coarse:d.fine;if(t>=g-b&&t<=h+b&&n>=x-b&&n<=m+b){if(i!==null&&document.contains(i)&&l!==i&&!l.contains(i)&&!i.contains(l)&&yE(i,l)>0){let C=i,w=!1;for(;C&&!C.contains(l);){if(gE(C.getBoundingClientRect(),f)){w=!0;break}C=C.parentElement}if(w)return}Pr.push(o)}})}function Lf(e,t){Eu.set(e,t)}function om(){let e=!1,t=!1;Pr.forEach(i=>{const{direction:o}=i;o==="horizontal"?e=!0:t=!0});let n=0;Eu.forEach(i=>{n|=i}),e&&t?If("intersection",n):e?If("horizontal",n):t?If("vertical",n):mE()}function Qc(){Ws.forEach((e,t)=>{const{body:n}=t;n.removeEventListener("contextmenu",io),n.removeEventListener("pointerdown",nv),n.removeEventListener("pointerleave",ja),n.removeEventListener("pointermove",ja)}),window.removeEventListener("pointerup",io),window.removeEventListener("pointercancel",io),Ba.size>0&&(So?(Pr.length>0&&Ws.forEach((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("contextmenu",io),n.addEventListener("pointerleave",ja),n.addEventListener("pointermove",ja))}),window.addEventListener("pointerup",io),window.addEventListener("pointercancel",io)):Ws.forEach((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("pointerdown",nv,{capture:!0}),n.addEventListener("pointermove",ja))}))}function Kc(e,t){Ba.forEach(n=>{const{setResizeHandlerState:i}=n,o=Pr.includes(n);i(e,o,t)})}function NE(){const[e,t]=wo(0);return Bn(()=>t(n=>n+1),[])}function rt(e,t){if(!e)throw console.error(t),Error(t)}const am=10;function Ti(e,t,n=am){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function ms(e,t,n=am){return Ti(e,t,n)===0}function Yn(e,t,n){return Ti(e,t,n)===0}function kE(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){const o=e[i],l=t[i];if(!Yn(o,l,n))return!1}return!0}function po({panelConstraints:e,panelIndex:t,size:n}){const i=e[t];rt(i!=null,`Panel constraints not found for index ${t}`);let{collapsedSize:o=0,collapsible:l,maxSize:d=100,minSize:f=0}=i;if(Ti(n,f)<0)if(l){const m=(o+f)/2;Ti(n,m)<0?n=o:n=f}else n=f;return n=Math.min(d,n),n=parseFloat(n.toFixed(am)),n}function Ea({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:i,prevLayout:o,trigger:l}){if(Yn(e,0))return t;const d=[...t],[f,m]=i;rt(f!=null,"Invalid first pivot index"),rt(m!=null,"Invalid second pivot index");let g=0;if(l==="keyboard"){{const x=e<0?m:f,b=n[x];rt(b,`Panel constraints not found for index ${x}`);const{collapsedSize:k=0,collapsible:C,minSize:w=0}=b;if(C){const N=t[x];if(rt(N!=null,`Previous layout not found for panel index ${x}`),Yn(N,k)){const j=w-N;Ti(j,Math.abs(e))>0&&(e=e<0?0-j:j)}}}{const x=e<0?f:m,b=n[x];rt(b,`No panel constraints found for index ${x}`);const{collapsedSize:k=0,collapsible:C,minSize:w=0}=b;if(C){const N=t[x];if(rt(N!=null,`Previous layout not found for panel index ${x}`),Yn(N,w)){const j=N-k;Ti(j,Math.abs(e))>0&&(e=e<0?0-j:j)}}}}{const x=e<0?1:-1;let b=e<0?m:f,k=0;for(;;){const w=t[b];rt(w!=null,`Previous layout not found for panel index ${b}`);const j=po({panelConstraints:n,panelIndex:b,size:100})-w;if(k+=j,b+=x,b<0||b>=n.length)break}const C=Math.min(Math.abs(e),Math.abs(k));e=e<0?0-C:C}{let b=e<0?f:m;for(;b>=0&&b<n.length;){const k=Math.abs(e)-Math.abs(g),C=t[b];rt(C!=null,`Previous layout not found for panel index ${b}`);const w=C-k,N=po({panelConstraints:n,panelIndex:b,size:w});if(!Yn(C,N)&&(g+=C-N,d[b]=N,g.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?b--:b++}}if(kE(o,d))return o;{const x=e<0?m:f,b=t[x];rt(b!=null,`Previous layout not found for panel index ${x}`);const k=b+g,C=po({panelConstraints:n,panelIndex:x,size:k});if(d[x]=C,!Yn(C,k)){let w=k-C,j=e<0?m:f;for(;j>=0&&j<n.length;){const P=d[j];rt(P!=null,`Previous layout not found for panel index ${j}`);const A=P+w,L=po({panelConstraints:n,panelIndex:j,size:A});if(Yn(P,L)||(w-=L-P,d[j]=L),Yn(w,0))break;e>0?j--:j++}}}const h=d.reduce((x,b)=>b+x,0);return Yn(h,100)?d:o}function CE({layout:e,panelsArray:t,pivotIndices:n}){let i=0,o=100,l=0,d=0;const f=n[0];rt(f!=null,"No pivot index found"),t.forEach((x,b)=>{const{constraints:k}=x,{maxSize:C=100,minSize:w=0}=k;b===f?(i=w,o=C):(l+=w,d+=C)});const m=Math.min(o,100-l),g=Math.max(i,100-d),h=e[f];return{valueMax:m,valueMin:g,valueNow:h}}function Va(e,t=document){return Array.from(t.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function ib(e,t,n=document){const o=Va(e,n).findIndex(l=>l.getAttribute("data-panel-resize-handle-id")===t);return o??null}function ob(e,t,n){const i=ib(e,t,n);return i!=null?[i,i+1]:[-1,-1]}function ab(e,t=document){var n;if(t instanceof HTMLElement&&(t==null||(n=t.dataset)===null||n===void 0?void 0:n.panelGroupId)==e)return t;const i=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return i||null}function Pu(e,t=document){const n=t.querySelector(`[data-panel-resize-handle-id="${e}"]`);return n||null}function jE(e,t,n,i=document){var o,l,d,f;const m=Pu(t,i),g=Va(e,i),h=m?g.indexOf(m):-1,x=(o=(l=n[h])===null||l===void 0?void 0:l.id)!==null&&o!==void 0?o:null,b=(d=(f=n[h+1])===null||f===void 0?void 0:f.id)!==null&&d!==void 0?d:null;return[x,b]}function _E({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:i,panelDataArray:o,panelGroupElement:l,setLayout:d}){Vn({didWarnAboutMissingResizeHandle:!1}),Si(()=>{if(!l)return;const f=Va(n,l);for(let m=0;m<o.length-1;m++){const{valueMax:g,valueMin:h,valueNow:x}=CE({layout:i,panelsArray:o,pivotIndices:[m,m+1]}),b=f[m];if(b!=null){const k=o[m];rt(k,`No panel data found for index "${m}"`),b.setAttribute("aria-controls",k.id),b.setAttribute("aria-valuemax",""+Math.round(g)),b.setAttribute("aria-valuemin",""+Math.round(h)),b.setAttribute("aria-valuenow",x!=null?""+Math.round(x):"")}}return()=>{f.forEach((m,g)=>{m.removeAttribute("aria-controls"),m.removeAttribute("aria-valuemax"),m.removeAttribute("aria-valuemin"),m.removeAttribute("aria-valuenow")})}},[n,i,o,l]),wi(()=>{if(!l)return;const f=t.current;rt(f,"Eager values not found");const{panelDataArray:m}=f,g=ab(n,l);rt(g!=null,`No group found for id "${n}"`);const h=Va(n,l);rt(h,`No resize handles found for group id "${n}"`);const x=h.map(b=>{const k=b.getAttribute("data-panel-resize-handle-id");rt(k,"Resize handle element has no handle id attribute");const[C,w]=jE(n,k,m,l);if(C==null||w==null)return()=>{};const N=j=>{if(!j.defaultPrevented)switch(j.key){case"Enter":{j.preventDefault();const P=m.findIndex(A=>A.id===C);if(P>=0){const A=m[P];rt(A,`No panel data found for index ${P}`);const L=i[P],{collapsedSize:F=0,collapsible:H,minSize:I=0}=A.constraints;if(L!=null&&H){const J=Ea({delta:Yn(L,F)?I-F:F-L,initialLayout:i,panelConstraints:m.map(se=>se.constraints),pivotIndices:ob(n,k,l),prevLayout:i,trigger:"keyboard"});i!==J&&d(J)}}break}}};return b.addEventListener("keydown",N),()=>{b.removeEventListener("keydown",N)}});return()=>{x.forEach(b=>b())}},[l,e,t,n,i,o,d])}function rv(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function lb(e,t){const n=e==="horizontal",{x:i,y:o}=_u(t);return n?i:o}function EE(e,t,n,i,o){const l=n==="horizontal",d=Pu(t,o);rt(d,`No resize handle element found for id "${t}"`);const f=d.getAttribute("data-panel-group-id");rt(f,"Resize handle element has no group id attribute");let{initialCursorPosition:m}=i;const g=lb(n,e),h=ab(f,o);rt(h,`No group element found for id "${f}"`);const x=h.getBoundingClientRect(),b=l?x.width:x.height;return(g-m)/b*100}function PE(e,t,n,i,o,l){if(Y0(e)){const d=n==="horizontal";let f=0;e.shiftKey?f=100:o!=null?f=o:f=10;let m=0;switch(e.key){case"ArrowDown":m=d?0:f;break;case"ArrowLeft":m=d?-f:0;break;case"ArrowRight":m=d?f:0;break;case"ArrowUp":m=d?0:-f;break;case"End":m=100;break;case"Home":m=-100;break}return m}else return i==null?0:EE(e,t,n,i,l)}function TE({panelDataArray:e}){const t=Array(e.length),n=e.map(l=>l.constraints);let i=0,o=100;for(let l=0;l<e.length;l++){const d=n[l];rt(d,`Panel constraints not found for index ${l}`);const{defaultSize:f}=d;f!=null&&(i++,t[l]=f,o-=f)}for(let l=0;l<e.length;l++){const d=n[l];rt(d,`Panel constraints not found for index ${l}`);const{defaultSize:f}=d;if(f!=null)continue;const m=e.length-i,g=o/m;i++,t[l]=g,o-=g}return t}function oo(e,t,n){t.forEach((i,o)=>{const l=e[o];rt(l,`Panel data not found for index ${o}`);const{callbacks:d,constraints:f,id:m}=l,{collapsedSize:g=0,collapsible:h}=f,x=n[m];if(x==null||i!==x){n[m]=i;const{onCollapse:b,onExpand:k,onResize:C}=d;C&&C(i,x),h&&(b||k)&&(k&&(x==null||ms(x,g))&&!ms(i,g)&&k(),b&&(x==null||!ms(x,g))&&ms(i,g)&&b())}})}function jc(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function AE({defaultSize:e,dragState:t,layout:n,panelData:i,panelIndex:o,precision:l=3}){const d=n[o];let f;return d==null?f=e!=null?e.toPrecision(l):"1":i.length===1?f="1":f=d.toPrecision(l),{flexBasis:0,flexGrow:f,flexShrink:1,overflow:"hidden",pointerEvents:t!==null?"none":void 0}}function RE(e,t=10){let n=null;return(...o)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{e(...o)},t)}}function sv(e){try{if(typeof localStorage<"u")e.getItem=t=>localStorage.getItem(t),e.setItem=(t,n)=>{localStorage.setItem(t,n)};else throw new Error("localStorage not supported in this environment")}catch(t){console.error(t),e.getItem=()=>null,e.setItem=()=>{}}}function cb(e){return`react-resizable-panels:${e}`}function ub(e){return e.map(t=>{const{constraints:n,id:i,idIsFromProps:o,order:l}=t;return o?i:l?`${l}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((t,n)=>t.localeCompare(n)).join(",")}function db(e,t){try{const n=cb(e),i=t.getItem(n);if(i){const o=JSON.parse(i);if(typeof o=="object"&&o!=null)return o}}catch{}return null}function IE(e,t,n){var i,o;const l=(i=db(e,n))!==null&&i!==void 0?i:{},d=ub(t);return(o=l[d])!==null&&o!==void 0?o:null}function LE(e,t,n,i,o){var l;const d=cb(e),f=ub(t),m=(l=db(e,o))!==null&&l!==void 0?l:{};m[f]={expandToSizes:Object.fromEntries(n.entries()),layout:i};try{o.setItem(d,JSON.stringify(m))}catch(g){console.error(g)}}function iv({layout:e,panelConstraints:t}){const n=[...e],i=n.reduce((l,d)=>l+d,0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map(l=>`${l}%`).join(", ")}`);if(!Yn(i,100)&&n.length>0)for(let l=0;l<t.length;l++){const d=n[l];rt(d!=null,`No layout data found for index ${l}`);const f=100/i*d;n[l]=f}let o=0;for(let l=0;l<t.length;l++){const d=n[l];rt(d!=null,`No layout data found for index ${l}`);const f=po({panelConstraints:t,panelIndex:l,size:d});d!=f&&(o+=d-f,n[l]=f)}if(!Yn(o,0))for(let l=0;l<t.length;l++){const d=n[l];rt(d!=null,`No layout data found for index ${l}`);const f=d+o,m=po({panelConstraints:t,panelIndex:l,size:f});if(d!==m&&(o-=m-d,n[l]=m,Yn(o,0)))break}return n}const OE=100,Pa={getItem:e=>(sv(Pa),Pa.getItem(e)),setItem:(e,t)=>{sv(Pa),Pa.setItem(e,t)}},ov={};function fb({autoSaveId:e=null,children:t,className:n="",direction:i,forwardedRef:o,id:l=null,onLayout:d=null,keyboardResizeBy:f=null,storage:m=Pa,style:g,tagName:h="div",...x}){const b=sm(l),k=Vn(null),[C,w]=wo(null),[N,j]=wo([]),P=NE(),A=Vn({}),L=Vn(new Map),F=Vn(0),H=Vn({autoSaveId:e,direction:i,dragState:C,id:b,keyboardResizeBy:f,onLayout:d,storage:m}),I=Vn({layout:N,panelDataArray:[],panelDataArrayChanged:!1});Vn({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),K0(o,()=>({getId:()=>H.current.id,getLayout:()=>{const{layout:O}=I.current;return O},setLayout:O=>{const{onLayout:X}=H.current,{layout:D,panelDataArray:M}=I.current,B=iv({layout:O,panelConstraints:M.map(re=>re.constraints)});rv(D,B)||(j(B),I.current.layout=B,X&&X(B),oo(M,B,A.current))}}),[]),Si(()=>{H.current.autoSaveId=e,H.current.direction=i,H.current.dragState=C,H.current.id=b,H.current.onLayout=d,H.current.storage=m}),_E({committedValuesRef:H,eagerValuesRef:I,groupId:b,layout:N,panelDataArray:I.current.panelDataArray,setLayout:j,panelGroupElement:k.current}),wi(()=>{const{panelDataArray:O}=I.current;if(e){if(N.length===0||N.length!==O.length)return;let X=ov[e];X==null&&(X=RE(LE,OE),ov[e]=X);const D=[...O],M=new Map(L.current);X(e,D,M,N,m)}},[e,N,m]),wi(()=>{});const J=Bn(O=>{const{onLayout:X}=H.current,{layout:D,panelDataArray:M}=I.current;if(O.constraints.collapsible){const B=M.map(ze=>ze.constraints),{collapsedSize:re=0,panelSize:fe,pivotIndices:ye}=gi(M,O,D);if(rt(fe!=null,`Panel size not found for panel "${O.id}"`),!ms(fe,re)){L.current.set(O.id,fe);const Ye=uo(M,O)===M.length-1?fe-re:re-fe,Me=Ea({delta:Ye,initialLayout:D,panelConstraints:B,pivotIndices:ye,prevLayout:D,trigger:"imperative-api"});jc(D,Me)||(j(Me),I.current.layout=Me,X&&X(Me),oo(M,Me,A.current))}}},[]),se=Bn((O,X)=>{const{onLayout:D}=H.current,{layout:M,panelDataArray:B}=I.current;if(O.constraints.collapsible){const re=B.map(gt=>gt.constraints),{collapsedSize:fe=0,panelSize:ye=0,minSize:ze=0,pivotIndices:Ye}=gi(B,O,M),Me=X??ze;if(ms(ye,fe)){const gt=L.current.get(O.id),pt=gt!=null&&gt>=Me?gt:Me,ce=uo(B,O)===B.length-1?ye-pt:pt-ye,Z=Ea({delta:ce,initialLayout:M,panelConstraints:re,pivotIndices:Ye,prevLayout:M,trigger:"imperative-api"});jc(M,Z)||(j(Z),I.current.layout=Z,D&&D(Z),oo(B,Z,A.current))}}},[]),ae=Bn(O=>{const{layout:X,panelDataArray:D}=I.current,{panelSize:M}=gi(D,O,X);return rt(M!=null,`Panel size not found for panel "${O.id}"`),M},[]),K=Bn((O,X)=>{const{panelDataArray:D}=I.current,M=uo(D,O);return AE({defaultSize:X,dragState:C,layout:N,panelData:D,panelIndex:M})},[C,N]),ee=Bn(O=>{const{layout:X,panelDataArray:D}=I.current,{collapsedSize:M=0,collapsible:B,panelSize:re}=gi(D,O,X);return rt(re!=null,`Panel size not found for panel "${O.id}"`),B===!0&&ms(re,M)},[]),de=Bn(O=>{const{layout:X,panelDataArray:D}=I.current,{collapsedSize:M=0,collapsible:B,panelSize:re}=gi(D,O,X);return rt(re!=null,`Panel size not found for panel "${O.id}"`),!B||Ti(re,M)>0},[]),le=Bn(O=>{const{panelDataArray:X}=I.current;X.push(O),X.sort((D,M)=>{const B=D.order,re=M.order;return B==null&&re==null?0:B==null?-1:re==null?1:B-re}),I.current.panelDataArrayChanged=!0,P()},[P]);Si(()=>{if(I.current.panelDataArrayChanged){I.current.panelDataArrayChanged=!1;const{autoSaveId:O,onLayout:X,storage:D}=H.current,{layout:M,panelDataArray:B}=I.current;let re=null;if(O){const ye=IE(O,B,D);ye&&(L.current=new Map(Object.entries(ye.expandToSizes)),re=ye.layout)}re==null&&(re=TE({panelDataArray:B}));const fe=iv({layout:re,panelConstraints:B.map(ye=>ye.constraints)});rv(M,fe)||(j(fe),I.current.layout=fe,X&&X(fe),oo(B,fe,A.current))}}),Si(()=>{const O=I.current;return()=>{O.layout=[]}},[]);const ue=Bn(O=>{let X=!1;const D=k.current;return D&&window.getComputedStyle(D,null).getPropertyValue("direction")==="rtl"&&(X=!0),function(B){B.preventDefault();const re=k.current;if(!re)return()=>null;const{direction:fe,dragState:ye,id:ze,keyboardResizeBy:Ye,onLayout:Me}=H.current,{layout:gt,panelDataArray:pt}=I.current,{initialLayout:vn}=ye??{},ce=ob(ze,O,re);let Z=PE(B,O,fe,ye,Ye,re);const V=fe==="horizontal";V&&X&&(Z=-Z);const xe=pt.map(Ie=>Ie.constraints),ke=Ea({delta:Z,initialLayout:vn??gt,panelConstraints:xe,pivotIndices:ce,prevLayout:gt,trigger:Y0(B)?"keyboard":"mouse-or-touch"}),Ne=!jc(gt,ke);(X0(B)||J0(B))&&F.current!=Z&&(F.current=Z,!Ne&&Z!==0?V?Lf(O,Z<0?tb:nb):Lf(O,Z<0?rb:sb):Lf(O,0)),Ne&&(j(ke),I.current.layout=ke,Me&&Me(ke),oo(pt,ke,A.current))}},[]),q=Bn((O,X)=>{const{onLayout:D}=H.current,{layout:M,panelDataArray:B}=I.current,re=B.map(gt=>gt.constraints),{panelSize:fe,pivotIndices:ye}=gi(B,O,M);rt(fe!=null,`Panel size not found for panel "${O.id}"`);const Ye=uo(B,O)===B.length-1?fe-X:X-fe,Me=Ea({delta:Ye,initialLayout:M,panelConstraints:re,pivotIndices:ye,prevLayout:M,trigger:"imperative-api"});jc(M,Me)||(j(Me),I.current.layout=Me,D&&D(Me),oo(B,Me,A.current))},[]),Q=Bn((O,X)=>{const{layout:D,panelDataArray:M}=I.current,{collapsedSize:B=0,collapsible:re}=X,{collapsedSize:fe=0,collapsible:ye,maxSize:ze=100,minSize:Ye=0}=O.constraints,{panelSize:Me}=gi(M,O,D);Me!=null&&(re&&ye&&ms(Me,B)?ms(B,fe)||q(O,fe):Me<Ye?q(O,Ye):Me>ze&&q(O,ze))},[q]),$=Bn((O,X)=>{const{direction:D}=H.current,{layout:M}=I.current;if(!k.current)return;const B=Pu(O,k.current);rt(B,`Drag handle element not found for id "${O}"`);const re=lb(D,X);w({dragHandleId:O,dragHandleRect:B.getBoundingClientRect(),initialCursorPosition:re,initialLayout:M})},[]),ne=Bn(()=>{w(null)},[]),G=Bn(O=>{const{panelDataArray:X}=I.current,D=uo(X,O);D>=0&&(X.splice(D,1),delete A.current[O.id],I.current.panelDataArrayChanged=!0,P())},[P]),T=cE(()=>({collapsePanel:J,direction:i,dragState:C,expandPanel:se,getPanelSize:ae,getPanelStyle:K,groupId:b,isPanelCollapsed:ee,isPanelExpanded:de,reevaluatePanelConstraints:Q,registerPanel:le,registerResizeHandle:ue,resizePanel:q,startDragging:$,stopDragging:ne,unregisterPanel:G,panelGroupElement:k.current}),[J,C,i,se,ae,K,b,ee,de,Q,le,ue,q,$,ne,G]),_={display:"flex",flexDirection:i==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return To(ju.Provider,{value:T},To(h,{...x,children:t,className:n,id:l,ref:k,style:{..._,...g},"data-panel-group":"","data-panel-group-direction":i,"data-panel-group-id":b}))}const pb=H0((e,t)=>To(fb,{...e,forwardedRef:t}));fb.displayName="PanelGroup";pb.displayName="forwardRef(PanelGroup)";function uo(e,t){return e.findIndex(n=>n===t||n.id===t.id)}function gi(e,t,n){const i=uo(e,t),l=i===e.length-1?[i-1,i]:[i,i+1],d=n[i];return{...t.constraints,panelSize:d,pivotIndices:l}}function ME({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:i}){wi(()=>{if(e||n==null||i==null)return;const o=Pu(t,i);if(o==null)return;const l=d=>{if(!d.defaultPrevented)switch(d.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{d.preventDefault(),n(d);break}case"F6":{d.preventDefault();const f=o.getAttribute("data-panel-group-id");rt(f,`No group element found for id "${f}"`);const m=Va(f,i),g=ib(f,t,i);rt(g!==null,`No resize element found for id "${t}"`);const h=d.shiftKey?g>0?g-1:m.length-1:g+1<m.length?g+1:0;m[h].focus();break}}};return o.addEventListener("keydown",l),()=>{o.removeEventListener("keydown",l)}},[i,e,t,n])}function mb({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:i,id:o,onBlur:l,onDragging:d,onFocus:f,style:m={},tabIndex:g=0,tagName:h="div",...x}){var b,k;const C=Vn(null),w=Vn({onDragging:d});wi(()=>{w.current.onDragging=d});const N=Q0(ju);if(N===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:j,groupId:P,registerResizeHandle:A,startDragging:L,stopDragging:F,panelGroupElement:H}=N,I=sm(o),[J,se]=wo("inactive"),[ae,K]=wo(!1),[ee,de]=wo(null),le=Vn({state:J});Si(()=>{le.current.state=J}),wi(()=>{if(n)de(null);else{const $=A(I);de(()=>$)}},[n,I,A]);const ue=(b=i?.coarse)!==null&&b!==void 0?b:15,q=(k=i?.fine)!==null&&k!==void 0?k:5;return wi(()=>{if(n||ee==null)return;const $=C.current;return rt($,"Element ref not attached"),SE(I,$,j,{coarse:ue,fine:q},(G,T,_)=>{if(T)switch(G){case"down":{se("drag"),rt(_,'Expected event to be defined for "down" action'),L(I,_);const{onDragging:O}=w.current;O&&O(!0);break}case"move":{const{state:O}=le.current;O!=="drag"&&se("hover"),rt(_,'Expected event to be defined for "move" action'),ee(_);break}case"up":{se("hover"),F();const{onDragging:O}=w.current;O&&O(!1);break}}else se("inactive")})},[ue,j,n,q,A,I,ee,L,F]),ME({disabled:n,handleId:I,resizeHandler:ee,panelGroupElement:H}),To(h,{...x,children:e,className:t,id:o,onBlur:()=>{K(!1),l?.()},onFocus:()=>{K(!0),f?.()},ref:C,role:"separator",style:{...{touchAction:"none",userSelect:"none"},...m},tabIndex:g,"data-panel-group-direction":j,"data-panel-group-id":P,"data-resize-handle":"","data-resize-handle-active":J==="drag"?"pointer":ae?"keyboard":void 0,"data-resize-handle-state":J,"data-panel-resize-handle-enabled":!n,"data-panel-resize-handle-id":I})}mb.displayName="PanelResizeHandle";const DE=({className:e,...t})=>c.jsx(pb,{className:Ce("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",e),...t}),Of=G0,av=({withHandle:e,className:t,...n})=>c.jsx(mb,{className:Ce("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",t),...n,children:e&&c.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:c.jsx(FC,{className:"h-2.5 w-2.5"})})}),fs=y.forwardRef(({className:e,type:t,...n},i)=>c.jsx("input",{type:t,className:Ce("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...n}));fs.displayName="Input";const hb=y.forwardRef(({className:e,...t},n)=>c.jsx("textarea",{className:Ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));hb.displayName="Textarea";var FE=y.createContext(void 0);function lm(e){const t=y.useContext(FE);return e||t||"ltr"}function zE(e,[t,n]){return Math.min(n,Math.max(t,e))}function $E(e,t){return y.useReducer((n,i)=>t[n][i]??n,e)}var cm="ScrollArea",[gb]=Zr(cm),[BE,pr]=gb(cm),yb=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:i="hover",dir:o,scrollHideDelay:l=600,...d}=e,[f,m]=y.useState(null),[g,h]=y.useState(null),[x,b]=y.useState(null),[k,C]=y.useState(null),[w,N]=y.useState(null),[j,P]=y.useState(0),[A,L]=y.useState(0),[F,H]=y.useState(!1),[I,J]=y.useState(!1),se=_t(t,K=>m(K)),ae=lm(o);return c.jsx(BE,{scope:n,type:i,dir:ae,scrollHideDelay:l,scrollArea:f,viewport:g,onViewportChange:h,content:x,onContentChange:b,scrollbarX:k,onScrollbarXChange:C,scrollbarXEnabled:F,onScrollbarXEnabledChange:H,scrollbarY:w,onScrollbarYChange:N,scrollbarYEnabled:I,onScrollbarYEnabledChange:J,onCornerWidthChange:P,onCornerHeightChange:L,children:c.jsx(ct.div,{dir:ae,...d,ref:se,style:{position:"relative","--radix-scroll-area-corner-width":j+"px","--radix-scroll-area-corner-height":A+"px",...e.style}})})});yb.displayName=cm;var vb="ScrollAreaViewport",xb=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:i,nonce:o,...l}=e,d=pr(vb,n),f=y.useRef(null),m=_t(t,f,d.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),c.jsx(ct.div,{"data-radix-scroll-area-viewport":"",...l,ref:m,style:{overflowX:d.scrollbarXEnabled?"scroll":"hidden",overflowY:d.scrollbarYEnabled?"scroll":"hidden",...e.style},children:c.jsx("div",{ref:d.onContentChange,style:{minWidth:"100%",display:"table"},children:i})})]})});xb.displayName=vb;var Yr="ScrollAreaScrollbar",um=y.forwardRef((e,t)=>{const{forceMount:n,...i}=e,o=pr(Yr,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:d}=o,f=e.orientation==="horizontal";return y.useEffect(()=>(f?l(!0):d(!0),()=>{f?l(!1):d(!1)}),[f,l,d]),o.type==="hover"?c.jsx(VE,{...i,ref:t,forceMount:n}):o.type==="scroll"?c.jsx(UE,{...i,ref:t,forceMount:n}):o.type==="auto"?c.jsx(bb,{...i,ref:t,forceMount:n}):o.type==="always"?c.jsx(dm,{...i,ref:t}):null});um.displayName=Yr;var VE=y.forwardRef((e,t)=>{const{forceMount:n,...i}=e,o=pr(Yr,e.__scopeScrollArea),[l,d]=y.useState(!1);return y.useEffect(()=>{const f=o.scrollArea;let m=0;if(f){const g=()=>{window.clearTimeout(m),d(!0)},h=()=>{m=window.setTimeout(()=>d(!1),o.scrollHideDelay)};return f.addEventListener("pointerenter",g),f.addEventListener("pointerleave",h),()=>{window.clearTimeout(m),f.removeEventListener("pointerenter",g),f.removeEventListener("pointerleave",h)}}},[o.scrollArea,o.scrollHideDelay]),c.jsx(Un,{present:n||l,children:c.jsx(bb,{"data-state":l?"visible":"hidden",...i,ref:t})})}),UE=y.forwardRef((e,t)=>{const{forceMount:n,...i}=e,o=pr(Yr,e.__scopeScrollArea),l=e.orientation==="horizontal",d=Au(()=>m("SCROLL_END"),100),[f,m]=$E("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(f==="idle"){const g=window.setTimeout(()=>m("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(g)}},[f,o.scrollHideDelay,m]),y.useEffect(()=>{const g=o.viewport,h=l?"scrollLeft":"scrollTop";if(g){let x=g[h];const b=()=>{const k=g[h];x!==k&&(m("SCROLL"),d()),x=k};return g.addEventListener("scroll",b),()=>g.removeEventListener("scroll",b)}},[o.viewport,l,m,d]),c.jsx(Un,{present:n||f!=="hidden",children:c.jsx(dm,{"data-state":f==="hidden"?"hidden":"visible",...i,ref:t,onPointerEnter:Qe(e.onPointerEnter,()=>m("POINTER_ENTER")),onPointerLeave:Qe(e.onPointerLeave,()=>m("POINTER_LEAVE"))})})}),bb=y.forwardRef((e,t)=>{const n=pr(Yr,e.__scopeScrollArea),{forceMount:i,...o}=e,[l,d]=y.useState(!1),f=e.orientation==="horizontal",m=Au(()=>{if(n.viewport){const g=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;d(f?g:h)}},10);return Ao(n.viewport,m),Ao(n.content,m),c.jsx(Un,{present:i||l,children:c.jsx(dm,{"data-state":l?"visible":"hidden",...o,ref:t})})}),dm=y.forwardRef((e,t)=>{const{orientation:n="vertical",...i}=e,o=pr(Yr,e.__scopeScrollArea),l=y.useRef(null),d=y.useRef(0),[f,m]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),g=Cb(f.viewport,f.content),h={...i,sizes:f,onSizesChange:m,hasThumb:g>0&&g<1,onThumbChange:b=>l.current=b,onThumbPointerUp:()=>d.current=0,onThumbPointerDown:b=>d.current=b};function x(b,k){return ZE(b,d.current,f,k)}return n==="horizontal"?c.jsx(WE,{...h,ref:t,onThumbPositionChange:()=>{if(o.viewport&&l.current){const b=o.viewport.scrollLeft,k=lv(b,f,o.dir);l.current.style.transform=`translate3d(${k}px, 0, 0)`}},onWheelScroll:b=>{o.viewport&&(o.viewport.scrollLeft=b)},onDragScroll:b=>{o.viewport&&(o.viewport.scrollLeft=x(b,o.dir))}}):n==="vertical"?c.jsx(qE,{...h,ref:t,onThumbPositionChange:()=>{if(o.viewport&&l.current){const b=o.viewport.scrollTop,k=lv(b,f);l.current.style.transform=`translate3d(0, ${k}px, 0)`}},onWheelScroll:b=>{o.viewport&&(o.viewport.scrollTop=b)},onDragScroll:b=>{o.viewport&&(o.viewport.scrollTop=x(b))}}):null}),WE=y.forwardRef((e,t)=>{const{sizes:n,onSizesChange:i,...o}=e,l=pr(Yr,e.__scopeScrollArea),[d,f]=y.useState(),m=y.useRef(null),g=_t(t,m,l.onScrollbarXChange);return y.useEffect(()=>{m.current&&f(getComputedStyle(m.current))},[m]),c.jsx(Sb,{"data-orientation":"horizontal",...o,ref:g,sizes:n,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Tu(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,x)=>{if(l.viewport){const b=l.viewport.scrollLeft+h.deltaX;e.onWheelScroll(b),_b(b,x)&&h.preventDefault()}},onResize:()=>{m.current&&l.viewport&&d&&i({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:m.current.clientWidth,paddingStart:Gc(d.paddingLeft),paddingEnd:Gc(d.paddingRight)}})}})}),qE=y.forwardRef((e,t)=>{const{sizes:n,onSizesChange:i,...o}=e,l=pr(Yr,e.__scopeScrollArea),[d,f]=y.useState(),m=y.useRef(null),g=_t(t,m,l.onScrollbarYChange);return y.useEffect(()=>{m.current&&f(getComputedStyle(m.current))},[m]),c.jsx(Sb,{"data-orientation":"vertical",...o,ref:g,sizes:n,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Tu(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,x)=>{if(l.viewport){const b=l.viewport.scrollTop+h.deltaY;e.onWheelScroll(b),_b(b,x)&&h.preventDefault()}},onResize:()=>{m.current&&l.viewport&&d&&i({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:m.current.clientHeight,paddingStart:Gc(d.paddingTop),paddingEnd:Gc(d.paddingBottom)}})}})}),[HE,wb]=gb(Yr),Sb=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:i,hasThumb:o,onThumbChange:l,onThumbPointerUp:d,onThumbPointerDown:f,onThumbPositionChange:m,onDragScroll:g,onWheelScroll:h,onResize:x,...b}=e,k=pr(Yr,n),[C,w]=y.useState(null),N=_t(t,se=>w(se)),j=y.useRef(null),P=y.useRef(""),A=k.viewport,L=i.content-i.viewport,F=Kt(h),H=Kt(m),I=Au(x,10);function J(se){if(j.current){const ae=se.clientX-j.current.left,K=se.clientY-j.current.top;g({x:ae,y:K})}}return y.useEffect(()=>{const se=ae=>{const K=ae.target;C?.contains(K)&&F(ae,L)};return document.addEventListener("wheel",se,{passive:!1}),()=>document.removeEventListener("wheel",se,{passive:!1})},[A,C,L,F]),y.useEffect(H,[i,H]),Ao(C,I),Ao(k.content,I),c.jsx(HE,{scope:n,scrollbar:C,hasThumb:o,onThumbChange:Kt(l),onThumbPointerUp:Kt(d),onThumbPositionChange:H,onThumbPointerDown:Kt(f),children:c.jsx(ct.div,{...b,ref:N,style:{position:"absolute",...b.style},onPointerDown:Qe(e.onPointerDown,se=>{se.button===0&&(se.target.setPointerCapture(se.pointerId),j.current=C.getBoundingClientRect(),P.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",k.viewport&&(k.viewport.style.scrollBehavior="auto"),J(se))}),onPointerMove:Qe(e.onPointerMove,J),onPointerUp:Qe(e.onPointerUp,se=>{const ae=se.target;ae.hasPointerCapture(se.pointerId)&&ae.releasePointerCapture(se.pointerId),document.body.style.webkitUserSelect=P.current,k.viewport&&(k.viewport.style.scrollBehavior=""),j.current=null})})})}),Zc="ScrollAreaThumb",Nb=y.forwardRef((e,t)=>{const{forceMount:n,...i}=e,o=wb(Zc,e.__scopeScrollArea);return c.jsx(Un,{present:n||o.hasThumb,children:c.jsx(QE,{ref:t,...i})})}),QE=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:i,...o}=e,l=pr(Zc,n),d=wb(Zc,n),{onThumbPositionChange:f}=d,m=_t(t,x=>d.onThumbChange(x)),g=y.useRef(void 0),h=Au(()=>{g.current&&(g.current(),g.current=void 0)},100);return y.useEffect(()=>{const x=l.viewport;if(x){const b=()=>{if(h(),!g.current){const k=GE(x,f);g.current=k,f()}};return f(),x.addEventListener("scroll",b),()=>x.removeEventListener("scroll",b)}},[l.viewport,h,f]),c.jsx(ct.div,{"data-state":d.hasThumb?"visible":"hidden",...o,ref:m,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...i},onPointerDownCapture:Qe(e.onPointerDownCapture,x=>{const k=x.target.getBoundingClientRect(),C=x.clientX-k.left,w=x.clientY-k.top;d.onThumbPointerDown({x:C,y:w})}),onPointerUp:Qe(e.onPointerUp,d.onThumbPointerUp)})});Nb.displayName=Zc;var fm="ScrollAreaCorner",kb=y.forwardRef((e,t)=>{const n=pr(fm,e.__scopeScrollArea),i=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&i?c.jsx(KE,{...e,ref:t}):null});kb.displayName=fm;var KE=y.forwardRef((e,t)=>{const{__scopeScrollArea:n,...i}=e,o=pr(fm,n),[l,d]=y.useState(0),[f,m]=y.useState(0),g=!!(l&&f);return Ao(o.scrollbarX,()=>{const h=o.scrollbarX?.offsetHeight||0;o.onCornerHeightChange(h),m(h)}),Ao(o.scrollbarY,()=>{const h=o.scrollbarY?.offsetWidth||0;o.onCornerWidthChange(h),d(h)}),g?c.jsx(ct.div,{...i,ref:t,style:{width:l,height:f,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Gc(e){return e?parseInt(e,10):0}function Cb(e,t){const n=e/t;return isNaN(n)?0:n}function Tu(e){const t=Cb(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=(e.scrollbar.size-n)*t;return Math.max(i,18)}function ZE(e,t,n,i="ltr"){const o=Tu(n),l=o/2,d=t||l,f=o-d,m=n.scrollbar.paddingStart+d,g=n.scrollbar.size-n.scrollbar.paddingEnd-f,h=n.content-n.viewport,x=i==="ltr"?[0,h]:[h*-1,0];return jb([m,g],x)(e)}function lv(e,t,n="ltr"){const i=Tu(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=t.scrollbar.size-o,d=t.content-t.viewport,f=l-i,m=n==="ltr"?[0,d]:[d*-1,0],g=zE(e,m);return jb([0,d],[0,f])(g)}function jb(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(n-e[0])}}function _b(e,t){return e>0&&e<t}var GE=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},i=0;return(function o(){const l={left:e.scrollLeft,top:e.scrollTop},d=n.left!==l.left,f=n.top!==l.top;(d||f)&&t(),n=l,i=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(i)};function Au(e,t){const n=Kt(e),i=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(i.current),[]),y.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(n,t)},[n,t])}function Ao(e,t){const n=Kt(t);hs(()=>{let i=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(n)});return o.observe(e),()=>{window.cancelAnimationFrame(i),o.unobserve(e)}}},[e,n])}var Eb=yb,YE=xb,XE=kb;const qs=y.forwardRef(({className:e,children:t,...n},i)=>c.jsxs(Eb,{ref:i,className:Ce("relative overflow-hidden",e),...n,children:[c.jsx(YE,{className:"h-full w-full rounded-[inherit]",children:t}),c.jsx(Pb,{}),c.jsx(XE,{})]}));qs.displayName=Eb.displayName;const Pb=y.forwardRef(({className:e,orientation:t="vertical",...n},i)=>c.jsx(um,{ref:i,orientation:t,className:Ce("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:c.jsx(Nb,{className:"relative flex-1 rounded-full bg-border"})}));Pb.displayName=um.displayName;var ut;(function(e){e.assertEqual=o=>o;function t(o){}e.assertIs=t;function n(o){throw new Error}e.assertNever=n,e.arrayToEnum=o=>{const l={};for(const d of o)l[d]=d;return l},e.getValidEnumValues=o=>{const l=e.objectKeys(o).filter(f=>typeof o[o[f]]!="number"),d={};for(const f of l)d[f]=o[f];return e.objectValues(d)},e.objectValues=o=>e.objectKeys(o).map(function(l){return o[l]}),e.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const l=[];for(const d in o)Object.prototype.hasOwnProperty.call(o,d)&&l.push(d);return l},e.find=(o,l)=>{for(const d of o)if(l(d))return d},e.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function i(o,l=" | "){return o.map(d=>typeof d=="string"?`'${d}'`:d).join(l)}e.joinValues=i,e.jsonStringifyReplacer=(o,l)=>typeof l=="bigint"?l.toString():l})(ut||(ut={}));var bp;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(bp||(bp={}));const Pe=ut.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ps=e=>{switch(typeof e){case"undefined":return Pe.undefined;case"string":return Pe.string;case"number":return isNaN(e)?Pe.nan:Pe.number;case"boolean":return Pe.boolean;case"function":return Pe.function;case"bigint":return Pe.bigint;case"symbol":return Pe.symbol;case"object":return Array.isArray(e)?Pe.array:e===null?Pe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Pe.promise:typeof Map<"u"&&e instanceof Map?Pe.map:typeof Set<"u"&&e instanceof Set?Pe.set:typeof Date<"u"&&e instanceof Date?Pe.date:Pe.object;default:return Pe.unknown}},be=ut.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),JE=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class nr extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(l){return l.message},i={_errors:[]},o=l=>{for(const d of l.issues)if(d.code==="invalid_union")d.unionErrors.map(o);else if(d.code==="invalid_return_type")o(d.returnTypeError);else if(d.code==="invalid_arguments")o(d.argumentsError);else if(d.path.length===0)i._errors.push(n(d));else{let f=i,m=0;for(;m<d.path.length;){const g=d.path[m];m===d.path.length-1?(f[g]=f[g]||{_errors:[]},f[g]._errors.push(n(d))):f[g]=f[g]||{_errors:[]},f=f[g],m++}}};return o(this),i}static assert(t){if(!(t instanceof nr))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ut.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},i=[];for(const o of this.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):i.push(t(o));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}nr.create=e=>new nr(e);const Ro=(e,t)=>{let n;switch(e.code){case be.invalid_type:e.received===Pe.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case be.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,ut.jsonStringifyReplacer)}`;break;case be.unrecognized_keys:n=`Unrecognized key(s) in object: ${ut.joinValues(e.keys,", ")}`;break;case be.invalid_union:n="Invalid input";break;case be.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ut.joinValues(e.options)}`;break;case be.invalid_enum_value:n=`Invalid enum value. Expected ${ut.joinValues(e.options)}, received '${e.received}'`;break;case be.invalid_arguments:n="Invalid function arguments";break;case be.invalid_return_type:n="Invalid function return type";break;case be.invalid_date:n="Invalid date";break;case be.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:ut.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case be.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case be.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case be.custom:n="Invalid input";break;case be.invalid_intersection_types:n="Intersection results could not be merged";break;case be.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case be.not_finite:n="Number must be finite";break;default:n=t.defaultError,ut.assertNever(e)}return{message:n}};let Tb=Ro;function eP(e){Tb=e}function Yc(){return Tb}const Xc=e=>{const{data:t,path:n,errorMaps:i,issueData:o}=e,l=[...n,...o.path||[]],d={...o,path:l};if(o.message!==void 0)return{...o,path:l,message:o.message};let f="";const m=i.filter(g=>!!g).slice().reverse();for(const g of m)f=g(d,{data:t,defaultError:f}).message;return{...o,path:l,message:f}},tP=[];function je(e,t){const n=Yc(),i=Xc({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Ro?void 0:Ro].filter(o=>!!o)});e.common.issues.push(i)}class hn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const i=[];for(const o of n){if(o.status==="aborted")return qe;o.status==="dirty"&&t.dirty(),i.push(o.value)}return{status:t.value,value:i}}static async mergeObjectAsync(t,n){const i=[];for(const o of n){const l=await o.key,d=await o.value;i.push({key:l,value:d})}return hn.mergeObjectSync(t,i)}static mergeObjectSync(t,n){const i={};for(const o of n){const{key:l,value:d}=o;if(l.status==="aborted"||d.status==="aborted")return qe;l.status==="dirty"&&t.dirty(),d.status==="dirty"&&t.dirty(),l.value!=="__proto__"&&(typeof d.value<"u"||o.alwaysSet)&&(i[l.value]=d.value)}return{status:t.value,value:i}}}const qe=Object.freeze({status:"aborted"}),mo=e=>({status:"dirty",value:e}),An=e=>({status:"valid",value:e}),wp=e=>e.status==="aborted",Sp=e=>e.status==="dirty",Ai=e=>e.status==="valid",Ua=e=>typeof Promise<"u"&&e instanceof Promise;function Jc(e,t,n,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function Ab(e,t,n,i,o){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var Fe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(Fe||(Fe={}));var Ta,Aa;class Qr{constructor(t,n,i,o){this._cachedPath=[],this.parent=t,this.data=n,this._path=i,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const cv=(e,t)=>{if(Ai(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new nr(e.common.issues);return this._error=n,this._error}}};function Je(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:i,description:o}=e;if(t&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:o}:{errorMap:(d,f)=>{var m,g;const{message:h}=e;return d.code==="invalid_enum_value"?{message:h??f.defaultError}:typeof f.data>"u"?{message:(m=h??i)!==null&&m!==void 0?m:f.defaultError}:d.code!=="invalid_type"?{message:f.defaultError}:{message:(g=h??n)!==null&&g!==void 0?g:f.defaultError}},description:o}}class st{get description(){return this._def.description}_getType(t){return ps(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:ps(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new hn,ctx:{common:t.parent.common,data:t.data,parsedType:ps(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Ua(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const i=this.safeParse(t,n);if(i.success)return i.data;throw i.error}safeParse(t,n){var i;const o={common:{issues:[],async:(i=n?.async)!==null&&i!==void 0?i:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ps(t)},l=this._parseSync({data:t,path:o.path,parent:o});return cv(o,l)}"~validate"(t){var n,i;const o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ps(t)};if(!this["~standard"].async)try{const l=this._parseSync({data:t,path:[],parent:o});return Ai(l)?{value:l.value}:{issues:o.common.issues}}catch(l){!((i=(n=l?.message)===null||n===void 0?void 0:n.toLowerCase())===null||i===void 0)&&i.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:o}).then(l=>Ai(l)?{value:l.value}:{issues:o.common.issues})}async parseAsync(t,n){const i=await this.safeParseAsync(t,n);if(i.success)return i.data;throw i.error}async safeParseAsync(t,n){const i={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ps(t)},o=this._parse({data:t,path:i.path,parent:i}),l=await(Ua(o)?o:Promise.resolve(o));return cv(i,l)}refine(t,n){const i=o=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(o):n;return this._refinement((o,l)=>{const d=t(o),f=()=>l.addIssue({code:be.custom,...i(o)});return typeof Promise<"u"&&d instanceof Promise?d.then(m=>m?!0:(f(),!1)):d?!0:(f(),!1)})}refinement(t,n){return this._refinement((i,o)=>t(i)?!0:(o.addIssue(typeof n=="function"?n(i,o):n),!1))}_refinement(t){return new Lr({schema:this,typeName:We.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return qr.create(this,this._def)}nullable(){return ei.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Tr.create(this)}promise(){return Lo.create(this,this._def)}or(t){return Qa.create([this,t],this._def)}and(t){return Ka.create(this,t,this._def)}transform(t){return new Lr({...Je(this._def),schema:this,typeName:We.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Ja({...Je(this._def),innerType:this,defaultValue:n,typeName:We.ZodDefault})}brand(){return new pm({typeName:We.ZodBranded,type:this,...Je(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new el({...Je(this._def),innerType:this,catchValue:n,typeName:We.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return ul.create(this,t)}readonly(){return tl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const nP=/^c[^\s-]{8,}$/i,rP=/^[0-9a-z]+$/,sP=/^[0-9A-HJKMNP-TV-Z]{26}$/i,iP=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,oP=/^[a-z0-9_-]{21}$/i,aP=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,lP=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,cP=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,uP="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Mf;const dP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,fP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,pP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,mP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,hP=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,gP=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Rb="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",yP=new RegExp(`^${Rb}$`);function Ib(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function vP(e){return new RegExp(`^${Ib(e)}$`)}function Lb(e){let t=`${Rb}T${Ib(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function xP(e,t){return!!((t==="v4"||!t)&&dP.test(e)||(t==="v6"||!t)&&pP.test(e))}function bP(e,t){if(!aP.test(e))return!1;try{const[n]=e.split("."),i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(i));return!(typeof o!="object"||o===null||!o.typ||!o.alg||t&&o.alg!==t)}catch{return!1}}function wP(e,t){return!!((t==="v4"||!t)&&fP.test(e)||(t==="v6"||!t)&&mP.test(e))}class _r extends st{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Pe.string){const l=this._getOrReturnCtx(t);return je(l,{code:be.invalid_type,expected:Pe.string,received:l.parsedType}),qe}const i=new hn;let o;for(const l of this._def.checks)if(l.kind==="min")t.data.length<l.value&&(o=this._getOrReturnCtx(t,o),je(o,{code:be.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if(l.kind==="max")t.data.length>l.value&&(o=this._getOrReturnCtx(t,o),je(o,{code:be.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),i.dirty());else if(l.kind==="length"){const d=t.data.length>l.value,f=t.data.length<l.value;(d||f)&&(o=this._getOrReturnCtx(t,o),d?je(o,{code:be.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):f&&je(o,{code:be.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),i.dirty())}else if(l.kind==="email")cP.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"email",code:be.invalid_string,message:l.message}),i.dirty());else if(l.kind==="emoji")Mf||(Mf=new RegExp(uP,"u")),Mf.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"emoji",code:be.invalid_string,message:l.message}),i.dirty());else if(l.kind==="uuid")iP.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"uuid",code:be.invalid_string,message:l.message}),i.dirty());else if(l.kind==="nanoid")oP.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"nanoid",code:be.invalid_string,message:l.message}),i.dirty());else if(l.kind==="cuid")nP.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"cuid",code:be.invalid_string,message:l.message}),i.dirty());else if(l.kind==="cuid2")rP.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"cuid2",code:be.invalid_string,message:l.message}),i.dirty());else if(l.kind==="ulid")sP.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"ulid",code:be.invalid_string,message:l.message}),i.dirty());else if(l.kind==="url")try{new URL(t.data)}catch{o=this._getOrReturnCtx(t,o),je(o,{validation:"url",code:be.invalid_string,message:l.message}),i.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"regex",code:be.invalid_string,message:l.message}),i.dirty())):l.kind==="trim"?t.data=t.data.trim():l.kind==="includes"?t.data.includes(l.value,l.position)||(o=this._getOrReturnCtx(t,o),je(o,{code:be.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),i.dirty()):l.kind==="toLowerCase"?t.data=t.data.toLowerCase():l.kind==="toUpperCase"?t.data=t.data.toUpperCase():l.kind==="startsWith"?t.data.startsWith(l.value)||(o=this._getOrReturnCtx(t,o),je(o,{code:be.invalid_string,validation:{startsWith:l.value},message:l.message}),i.dirty()):l.kind==="endsWith"?t.data.endsWith(l.value)||(o=this._getOrReturnCtx(t,o),je(o,{code:be.invalid_string,validation:{endsWith:l.value},message:l.message}),i.dirty()):l.kind==="datetime"?Lb(l).test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{code:be.invalid_string,validation:"datetime",message:l.message}),i.dirty()):l.kind==="date"?yP.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{code:be.invalid_string,validation:"date",message:l.message}),i.dirty()):l.kind==="time"?vP(l).test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{code:be.invalid_string,validation:"time",message:l.message}),i.dirty()):l.kind==="duration"?lP.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"duration",code:be.invalid_string,message:l.message}),i.dirty()):l.kind==="ip"?xP(t.data,l.version)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"ip",code:be.invalid_string,message:l.message}),i.dirty()):l.kind==="jwt"?bP(t.data,l.alg)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"jwt",code:be.invalid_string,message:l.message}),i.dirty()):l.kind==="cidr"?wP(t.data,l.version)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"cidr",code:be.invalid_string,message:l.message}),i.dirty()):l.kind==="base64"?hP.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"base64",code:be.invalid_string,message:l.message}),i.dirty()):l.kind==="base64url"?gP.test(t.data)||(o=this._getOrReturnCtx(t,o),je(o,{validation:"base64url",code:be.invalid_string,message:l.message}),i.dirty()):ut.assertNever(l);return{status:i.value,value:t.data}}_regex(t,n,i){return this.refinement(o=>t.test(o),{validation:n,code:be.invalid_string,...Fe.errToObj(i)})}_addCheck(t){return new _r({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Fe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Fe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Fe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Fe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Fe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Fe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Fe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Fe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Fe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Fe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Fe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Fe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Fe.errToObj(t)})}datetime(t){var n,i;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:(n=t?.offset)!==null&&n!==void 0?n:!1,local:(i=t?.local)!==null&&i!==void 0?i:!1,...Fe.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...Fe.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...Fe.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Fe.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n?.position,...Fe.errToObj(n?.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Fe.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Fe.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Fe.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Fe.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Fe.errToObj(n)})}nonempty(t){return this.min(1,Fe.errToObj(t))}trim(){return new _r({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new _r({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new _r({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}_r.create=e=>{var t;return new _r({checks:[],typeName:We.ZodString,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...Je(e)})};function SP(e,t){const n=(e.toString().split(".")[1]||"").length,i=(t.toString().split(".")[1]||"").length,o=n>i?n:i,l=parseInt(e.toFixed(o).replace(".","")),d=parseInt(t.toFixed(o).replace(".",""));return l%d/Math.pow(10,o)}class Ys extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Pe.number){const l=this._getOrReturnCtx(t);return je(l,{code:be.invalid_type,expected:Pe.number,received:l.parsedType}),qe}let i;const o=new hn;for(const l of this._def.checks)l.kind==="int"?ut.isInteger(t.data)||(i=this._getOrReturnCtx(t,i),je(i,{code:be.invalid_type,expected:"integer",received:"float",message:l.message}),o.dirty()):l.kind==="min"?(l.inclusive?t.data<l.value:t.data<=l.value)&&(i=this._getOrReturnCtx(t,i),je(i,{code:be.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?t.data>l.value:t.data>=l.value)&&(i=this._getOrReturnCtx(t,i),je(i,{code:be.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),o.dirty()):l.kind==="multipleOf"?SP(t.data,l.value)!==0&&(i=this._getOrReturnCtx(t,i),je(i,{code:be.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):l.kind==="finite"?Number.isFinite(t.data)||(i=this._getOrReturnCtx(t,i),je(i,{code:be.not_finite,message:l.message}),o.dirty()):ut.assertNever(l);return{status:o.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Fe.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Fe.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Fe.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Fe.toString(n))}setLimit(t,n,i,o){return new Ys({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:i,message:Fe.toString(o)}]})}_addCheck(t){return new Ys({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Fe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Fe.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Fe.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Fe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Fe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Fe.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ut.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(t===null||i.value<t)&&(t=i.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Ys.create=e=>new Ys({checks:[],typeName:We.ZodNumber,coerce:e?.coerce||!1,...Je(e)});class Xs extends st{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Pe.bigint)return this._getInvalidInput(t);let i;const o=new hn;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?t.data<l.value:t.data<=l.value)&&(i=this._getOrReturnCtx(t,i),je(i,{code:be.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="max"?(l.inclusive?t.data>l.value:t.data>=l.value)&&(i=this._getOrReturnCtx(t,i),je(i,{code:be.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),o.dirty()):l.kind==="multipleOf"?t.data%l.value!==BigInt(0)&&(i=this._getOrReturnCtx(t,i),je(i,{code:be.not_multiple_of,multipleOf:l.value,message:l.message}),o.dirty()):ut.assertNever(l);return{status:o.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return je(n,{code:be.invalid_type,expected:Pe.bigint,received:n.parsedType}),qe}gte(t,n){return this.setLimit("min",t,!0,Fe.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Fe.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Fe.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Fe.toString(n))}setLimit(t,n,i,o){return new Xs({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:i,message:Fe.toString(o)}]})}_addCheck(t){return new Xs({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Fe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Fe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Fe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Fe.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Fe.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Xs.create=e=>{var t;return new Xs({checks:[],typeName:We.ZodBigInt,coerce:(t=e?.coerce)!==null&&t!==void 0?t:!1,...Je(e)})};class Wa extends st{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Pe.boolean){const i=this._getOrReturnCtx(t);return je(i,{code:be.invalid_type,expected:Pe.boolean,received:i.parsedType}),qe}return An(t.data)}}Wa.create=e=>new Wa({typeName:We.ZodBoolean,coerce:e?.coerce||!1,...Je(e)});class Ri extends st{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Pe.date){const l=this._getOrReturnCtx(t);return je(l,{code:be.invalid_type,expected:Pe.date,received:l.parsedType}),qe}if(isNaN(t.data.getTime())){const l=this._getOrReturnCtx(t);return je(l,{code:be.invalid_date}),qe}const i=new hn;let o;for(const l of this._def.checks)l.kind==="min"?t.data.getTime()<l.value&&(o=this._getOrReturnCtx(t,o),je(o,{code:be.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),i.dirty()):l.kind==="max"?t.data.getTime()>l.value&&(o=this._getOrReturnCtx(t,o),je(o,{code:be.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),i.dirty()):ut.assertNever(l);return{status:i.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ri({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Fe.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Fe.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Ri.create=e=>new Ri({checks:[],coerce:e?.coerce||!1,typeName:We.ZodDate,...Je(e)});class eu extends st{_parse(t){if(this._getType(t)!==Pe.symbol){const i=this._getOrReturnCtx(t);return je(i,{code:be.invalid_type,expected:Pe.symbol,received:i.parsedType}),qe}return An(t.data)}}eu.create=e=>new eu({typeName:We.ZodSymbol,...Je(e)});class qa extends st{_parse(t){if(this._getType(t)!==Pe.undefined){const i=this._getOrReturnCtx(t);return je(i,{code:be.invalid_type,expected:Pe.undefined,received:i.parsedType}),qe}return An(t.data)}}qa.create=e=>new qa({typeName:We.ZodUndefined,...Je(e)});class Ha extends st{_parse(t){if(this._getType(t)!==Pe.null){const i=this._getOrReturnCtx(t);return je(i,{code:be.invalid_type,expected:Pe.null,received:i.parsedType}),qe}return An(t.data)}}Ha.create=e=>new Ha({typeName:We.ZodNull,...Je(e)});class Io extends st{constructor(){super(...arguments),this._any=!0}_parse(t){return An(t.data)}}Io.create=e=>new Io({typeName:We.ZodAny,...Je(e)});class Ni extends st{constructor(){super(...arguments),this._unknown=!0}_parse(t){return An(t.data)}}Ni.create=e=>new Ni({typeName:We.ZodUnknown,...Je(e)});class vs extends st{_parse(t){const n=this._getOrReturnCtx(t);return je(n,{code:be.invalid_type,expected:Pe.never,received:n.parsedType}),qe}}vs.create=e=>new vs({typeName:We.ZodNever,...Je(e)});class tu extends st{_parse(t){if(this._getType(t)!==Pe.undefined){const i=this._getOrReturnCtx(t);return je(i,{code:be.invalid_type,expected:Pe.void,received:i.parsedType}),qe}return An(t.data)}}tu.create=e=>new tu({typeName:We.ZodVoid,...Je(e)});class Tr extends st{_parse(t){const{ctx:n,status:i}=this._processInputParams(t),o=this._def;if(n.parsedType!==Pe.array)return je(n,{code:be.invalid_type,expected:Pe.array,received:n.parsedType}),qe;if(o.exactLength!==null){const d=n.data.length>o.exactLength.value,f=n.data.length<o.exactLength.value;(d||f)&&(je(n,{code:d?be.too_big:be.too_small,minimum:f?o.exactLength.value:void 0,maximum:d?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),i.dirty())}if(o.minLength!==null&&n.data.length<o.minLength.value&&(je(n,{code:be.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),i.dirty()),o.maxLength!==null&&n.data.length>o.maxLength.value&&(je(n,{code:be.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((d,f)=>o.type._parseAsync(new Qr(n,d,n.path,f)))).then(d=>hn.mergeArray(i,d));const l=[...n.data].map((d,f)=>o.type._parseSync(new Qr(n,d,n.path,f)));return hn.mergeArray(i,l)}get element(){return this._def.type}min(t,n){return new Tr({...this._def,minLength:{value:t,message:Fe.toString(n)}})}max(t,n){return new Tr({...this._def,maxLength:{value:t,message:Fe.toString(n)}})}length(t,n){return new Tr({...this._def,exactLength:{value:t,message:Fe.toString(n)}})}nonempty(t){return this.min(1,t)}}Tr.create=(e,t)=>new Tr({type:e,minLength:null,maxLength:null,exactLength:null,typeName:We.ZodArray,...Je(t)});function fo(e){if(e instanceof Mt){const t={};for(const n in e.shape){const i=e.shape[n];t[n]=qr.create(fo(i))}return new Mt({...e._def,shape:()=>t})}else return e instanceof Tr?new Tr({...e._def,type:fo(e.element)}):e instanceof qr?qr.create(fo(e.unwrap())):e instanceof ei?ei.create(fo(e.unwrap())):e instanceof Kr?Kr.create(e.items.map(t=>fo(t))):e}class Mt extends st{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=ut.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Pe.object){const g=this._getOrReturnCtx(t);return je(g,{code:be.invalid_type,expected:Pe.object,received:g.parsedType}),qe}const{status:i,ctx:o}=this._processInputParams(t),{shape:l,keys:d}=this._getCached(),f=[];if(!(this._def.catchall instanceof vs&&this._def.unknownKeys==="strip"))for(const g in o.data)d.includes(g)||f.push(g);const m=[];for(const g of d){const h=l[g],x=o.data[g];m.push({key:{status:"valid",value:g},value:h._parse(new Qr(o,x,o.path,g)),alwaysSet:g in o.data})}if(this._def.catchall instanceof vs){const g=this._def.unknownKeys;if(g==="passthrough")for(const h of f)m.push({key:{status:"valid",value:h},value:{status:"valid",value:o.data[h]}});else if(g==="strict")f.length>0&&(je(o,{code:be.unrecognized_keys,keys:f}),i.dirty());else if(g!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const g=this._def.catchall;for(const h of f){const x=o.data[h];m.push({key:{status:"valid",value:h},value:g._parse(new Qr(o,x,o.path,h)),alwaysSet:h in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const g=[];for(const h of m){const x=await h.key,b=await h.value;g.push({key:x,value:b,alwaysSet:h.alwaysSet})}return g}).then(g=>hn.mergeObjectSync(i,g)):hn.mergeObjectSync(i,m)}get shape(){return this._def.shape()}strict(t){return Fe.errToObj,new Mt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,i)=>{var o,l,d,f;const m=(d=(l=(o=this._def).errorMap)===null||l===void 0?void 0:l.call(o,n,i).message)!==null&&d!==void 0?d:i.defaultError;return n.code==="unrecognized_keys"?{message:(f=Fe.errToObj(t).message)!==null&&f!==void 0?f:m}:{message:m}}}:{}})}strip(){return new Mt({...this._def,unknownKeys:"strip"})}passthrough(){return new Mt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Mt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Mt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:We.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Mt({...this._def,catchall:t})}pick(t){const n={};return ut.objectKeys(t).forEach(i=>{t[i]&&this.shape[i]&&(n[i]=this.shape[i])}),new Mt({...this._def,shape:()=>n})}omit(t){const n={};return ut.objectKeys(this.shape).forEach(i=>{t[i]||(n[i]=this.shape[i])}),new Mt({...this._def,shape:()=>n})}deepPartial(){return fo(this)}partial(t){const n={};return ut.objectKeys(this.shape).forEach(i=>{const o=this.shape[i];t&&!t[i]?n[i]=o:n[i]=o.optional()}),new Mt({...this._def,shape:()=>n})}required(t){const n={};return ut.objectKeys(this.shape).forEach(i=>{if(t&&!t[i])n[i]=this.shape[i];else{let l=this.shape[i];for(;l instanceof qr;)l=l._def.innerType;n[i]=l}}),new Mt({...this._def,shape:()=>n})}keyof(){return Ob(ut.objectKeys(this.shape))}}Mt.create=(e,t)=>new Mt({shape:()=>e,unknownKeys:"strip",catchall:vs.create(),typeName:We.ZodObject,...Je(t)});Mt.strictCreate=(e,t)=>new Mt({shape:()=>e,unknownKeys:"strict",catchall:vs.create(),typeName:We.ZodObject,...Je(t)});Mt.lazycreate=(e,t)=>new Mt({shape:e,unknownKeys:"strip",catchall:vs.create(),typeName:We.ZodObject,...Je(t)});class Qa extends st{_parse(t){const{ctx:n}=this._processInputParams(t),i=this._def.options;function o(l){for(const f of l)if(f.result.status==="valid")return f.result;for(const f of l)if(f.result.status==="dirty")return n.common.issues.push(...f.ctx.common.issues),f.result;const d=l.map(f=>new nr(f.ctx.common.issues));return je(n,{code:be.invalid_union,unionErrors:d}),qe}if(n.common.async)return Promise.all(i.map(async l=>{const d={...n,common:{...n.common,issues:[]},parent:null};return{result:await l._parseAsync({data:n.data,path:n.path,parent:d}),ctx:d}})).then(o);{let l;const d=[];for(const m of i){const g={...n,common:{...n.common,issues:[]},parent:null},h=m._parseSync({data:n.data,path:n.path,parent:g});if(h.status==="valid")return h;h.status==="dirty"&&!l&&(l={result:h,ctx:g}),g.common.issues.length&&d.push(g.common.issues)}if(l)return n.common.issues.push(...l.ctx.common.issues),l.result;const f=d.map(m=>new nr(m));return je(n,{code:be.invalid_union,unionErrors:f}),qe}}get options(){return this._def.options}}Qa.create=(e,t)=>new Qa({options:e,typeName:We.ZodUnion,...Je(t)});const ds=e=>e instanceof Ga?ds(e.schema):e instanceof Lr?ds(e.innerType()):e instanceof Ya?[e.value]:e instanceof Js?e.options:e instanceof Xa?ut.objectValues(e.enum):e instanceof Ja?ds(e._def.innerType):e instanceof qa?[void 0]:e instanceof Ha?[null]:e instanceof qr?[void 0,...ds(e.unwrap())]:e instanceof ei?[null,...ds(e.unwrap())]:e instanceof pm||e instanceof tl?ds(e.unwrap()):e instanceof el?ds(e._def.innerType):[];class Ru extends st{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Pe.object)return je(n,{code:be.invalid_type,expected:Pe.object,received:n.parsedType}),qe;const i=this.discriminator,o=n.data[i],l=this.optionsMap.get(o);return l?n.common.async?l._parseAsync({data:n.data,path:n.path,parent:n}):l._parseSync({data:n.data,path:n.path,parent:n}):(je(n,{code:be.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),qe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,i){const o=new Map;for(const l of n){const d=ds(l.shape[t]);if(!d.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const f of d){if(o.has(f))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(f)}`);o.set(f,l)}}return new Ru({typeName:We.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:o,...Je(i)})}}function Np(e,t){const n=ps(e),i=ps(t);if(e===t)return{valid:!0,data:e};if(n===Pe.object&&i===Pe.object){const o=ut.objectKeys(t),l=ut.objectKeys(e).filter(f=>o.indexOf(f)!==-1),d={...e,...t};for(const f of l){const m=Np(e[f],t[f]);if(!m.valid)return{valid:!1};d[f]=m.data}return{valid:!0,data:d}}else if(n===Pe.array&&i===Pe.array){if(e.length!==t.length)return{valid:!1};const o=[];for(let l=0;l<e.length;l++){const d=e[l],f=t[l],m=Np(d,f);if(!m.valid)return{valid:!1};o.push(m.data)}return{valid:!0,data:o}}else return n===Pe.date&&i===Pe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ka extends st{_parse(t){const{status:n,ctx:i}=this._processInputParams(t),o=(l,d)=>{if(wp(l)||wp(d))return qe;const f=Np(l.value,d.value);return f.valid?((Sp(l)||Sp(d))&&n.dirty(),{status:n.value,value:f.data}):(je(i,{code:be.invalid_intersection_types}),qe)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([l,d])=>o(l,d)):o(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Ka.create=(e,t,n)=>new Ka({left:e,right:t,typeName:We.ZodIntersection,...Je(n)});class Kr extends st{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==Pe.array)return je(i,{code:be.invalid_type,expected:Pe.array,received:i.parsedType}),qe;if(i.data.length<this._def.items.length)return je(i,{code:be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),qe;!this._def.rest&&i.data.length>this._def.items.length&&(je(i,{code:be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const l=[...i.data].map((d,f)=>{const m=this._def.items[f]||this._def.rest;return m?m._parse(new Qr(i,d,i.path,f)):null}).filter(d=>!!d);return i.common.async?Promise.all(l).then(d=>hn.mergeArray(n,d)):hn.mergeArray(n,l)}get items(){return this._def.items}rest(t){return new Kr({...this._def,rest:t})}}Kr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Kr({items:e,typeName:We.ZodTuple,rest:null,...Je(t)})};class Za extends st{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==Pe.object)return je(i,{code:be.invalid_type,expected:Pe.object,received:i.parsedType}),qe;const o=[],l=this._def.keyType,d=this._def.valueType;for(const f in i.data)o.push({key:l._parse(new Qr(i,f,i.path,f)),value:d._parse(new Qr(i,i.data[f],i.path,f)),alwaysSet:f in i.data});return i.common.async?hn.mergeObjectAsync(n,o):hn.mergeObjectSync(n,o)}get element(){return this._def.valueType}static create(t,n,i){return n instanceof st?new Za({keyType:t,valueType:n,typeName:We.ZodRecord,...Je(i)}):new Za({keyType:_r.create(),valueType:t,typeName:We.ZodRecord,...Je(n)})}}class nu extends st{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==Pe.map)return je(i,{code:be.invalid_type,expected:Pe.map,received:i.parsedType}),qe;const o=this._def.keyType,l=this._def.valueType,d=[...i.data.entries()].map(([f,m],g)=>({key:o._parse(new Qr(i,f,i.path,[g,"key"])),value:l._parse(new Qr(i,m,i.path,[g,"value"]))}));if(i.common.async){const f=new Map;return Promise.resolve().then(async()=>{for(const m of d){const g=await m.key,h=await m.value;if(g.status==="aborted"||h.status==="aborted")return qe;(g.status==="dirty"||h.status==="dirty")&&n.dirty(),f.set(g.value,h.value)}return{status:n.value,value:f}})}else{const f=new Map;for(const m of d){const g=m.key,h=m.value;if(g.status==="aborted"||h.status==="aborted")return qe;(g.status==="dirty"||h.status==="dirty")&&n.dirty(),f.set(g.value,h.value)}return{status:n.value,value:f}}}}nu.create=(e,t,n)=>new nu({valueType:t,keyType:e,typeName:We.ZodMap,...Je(n)});class Ii extends st{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.parsedType!==Pe.set)return je(i,{code:be.invalid_type,expected:Pe.set,received:i.parsedType}),qe;const o=this._def;o.minSize!==null&&i.data.size<o.minSize.value&&(je(i,{code:be.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),n.dirty()),o.maxSize!==null&&i.data.size>o.maxSize.value&&(je(i,{code:be.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),n.dirty());const l=this._def.valueType;function d(m){const g=new Set;for(const h of m){if(h.status==="aborted")return qe;h.status==="dirty"&&n.dirty(),g.add(h.value)}return{status:n.value,value:g}}const f=[...i.data.values()].map((m,g)=>l._parse(new Qr(i,m,i.path,g)));return i.common.async?Promise.all(f).then(m=>d(m)):d(f)}min(t,n){return new Ii({...this._def,minSize:{value:t,message:Fe.toString(n)}})}max(t,n){return new Ii({...this._def,maxSize:{value:t,message:Fe.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Ii.create=(e,t)=>new Ii({valueType:e,minSize:null,maxSize:null,typeName:We.ZodSet,...Je(t)});class No extends st{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Pe.function)return je(n,{code:be.invalid_type,expected:Pe.function,received:n.parsedType}),qe;function i(f,m){return Xc({data:f,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Yc(),Ro].filter(g=>!!g),issueData:{code:be.invalid_arguments,argumentsError:m}})}function o(f,m){return Xc({data:f,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Yc(),Ro].filter(g=>!!g),issueData:{code:be.invalid_return_type,returnTypeError:m}})}const l={errorMap:n.common.contextualErrorMap},d=n.data;if(this._def.returns instanceof Lo){const f=this;return An(async function(...m){const g=new nr([]),h=await f._def.args.parseAsync(m,l).catch(k=>{throw g.addIssue(i(m,k)),g}),x=await Reflect.apply(d,this,h);return await f._def.returns._def.type.parseAsync(x,l).catch(k=>{throw g.addIssue(o(x,k)),g})})}else{const f=this;return An(function(...m){const g=f._def.args.safeParse(m,l);if(!g.success)throw new nr([i(m,g.error)]);const h=Reflect.apply(d,this,g.data),x=f._def.returns.safeParse(h,l);if(!x.success)throw new nr([o(h,x.error)]);return x.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new No({...this._def,args:Kr.create(t).rest(Ni.create())})}returns(t){return new No({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,i){return new No({args:t||Kr.create([]).rest(Ni.create()),returns:n||Ni.create(),typeName:We.ZodFunction,...Je(i)})}}class Ga extends st{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Ga.create=(e,t)=>new Ga({getter:e,typeName:We.ZodLazy,...Je(t)});class Ya extends st{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return je(n,{received:n.data,code:be.invalid_literal,expected:this._def.value}),qe}return{status:"valid",value:t.data}}get value(){return this._def.value}}Ya.create=(e,t)=>new Ya({value:e,typeName:We.ZodLiteral,...Je(t)});function Ob(e,t){return new Js({values:e,typeName:We.ZodEnum,...Je(t)})}class Js extends st{constructor(){super(...arguments),Ta.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),i=this._def.values;return je(n,{expected:ut.joinValues(i),received:n.parsedType,code:be.invalid_type}),qe}if(Jc(this,Ta)||Ab(this,Ta,new Set(this._def.values)),!Jc(this,Ta).has(t.data)){const n=this._getOrReturnCtx(t),i=this._def.values;return je(n,{received:n.data,code:be.invalid_enum_value,options:i}),qe}return An(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Js.create(t,{...this._def,...n})}exclude(t,n=this._def){return Js.create(this.options.filter(i=>!t.includes(i)),{...this._def,...n})}}Ta=new WeakMap;Js.create=Ob;class Xa extends st{constructor(){super(...arguments),Aa.set(this,void 0)}_parse(t){const n=ut.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(t);if(i.parsedType!==Pe.string&&i.parsedType!==Pe.number){const o=ut.objectValues(n);return je(i,{expected:ut.joinValues(o),received:i.parsedType,code:be.invalid_type}),qe}if(Jc(this,Aa)||Ab(this,Aa,new Set(ut.getValidEnumValues(this._def.values))),!Jc(this,Aa).has(t.data)){const o=ut.objectValues(n);return je(i,{received:i.data,code:be.invalid_enum_value,options:o}),qe}return An(t.data)}get enum(){return this._def.values}}Aa=new WeakMap;Xa.create=(e,t)=>new Xa({values:e,typeName:We.ZodNativeEnum,...Je(t)});class Lo extends st{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Pe.promise&&n.common.async===!1)return je(n,{code:be.invalid_type,expected:Pe.promise,received:n.parsedType}),qe;const i=n.parsedType===Pe.promise?n.data:Promise.resolve(n.data);return An(i.then(o=>this._def.type.parseAsync(o,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Lo.create=(e,t)=>new Lo({type:e,typeName:We.ZodPromise,...Je(t)});class Lr extends st{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===We.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:i}=this._processInputParams(t),o=this._def.effect||null,l={addIssue:d=>{je(i,d),d.fatal?n.abort():n.dirty()},get path(){return i.path}};if(l.addIssue=l.addIssue.bind(l),o.type==="preprocess"){const d=o.transform(i.data,l);if(i.common.async)return Promise.resolve(d).then(async f=>{if(n.value==="aborted")return qe;const m=await this._def.schema._parseAsync({data:f,path:i.path,parent:i});return m.status==="aborted"?qe:m.status==="dirty"||n.value==="dirty"?mo(m.value):m});{if(n.value==="aborted")return qe;const f=this._def.schema._parseSync({data:d,path:i.path,parent:i});return f.status==="aborted"?qe:f.status==="dirty"||n.value==="dirty"?mo(f.value):f}}if(o.type==="refinement"){const d=f=>{const m=o.refinement(f,l);if(i.common.async)return Promise.resolve(m);if(m instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return f};if(i.common.async===!1){const f=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return f.status==="aborted"?qe:(f.status==="dirty"&&n.dirty(),d(f.value),{status:n.value,value:f.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(f=>f.status==="aborted"?qe:(f.status==="dirty"&&n.dirty(),d(f.value).then(()=>({status:n.value,value:f.value}))))}if(o.type==="transform")if(i.common.async===!1){const d=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!Ai(d))return d;const f=o.transform(d.value,l);if(f instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:f}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(d=>Ai(d)?Promise.resolve(o.transform(d.value,l)).then(f=>({status:n.value,value:f})):d);ut.assertNever(o)}}Lr.create=(e,t,n)=>new Lr({schema:e,typeName:We.ZodEffects,effect:t,...Je(n)});Lr.createWithPreprocess=(e,t,n)=>new Lr({schema:t,effect:{type:"preprocess",transform:e},typeName:We.ZodEffects,...Je(n)});class qr extends st{_parse(t){return this._getType(t)===Pe.undefined?An(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}qr.create=(e,t)=>new qr({innerType:e,typeName:We.ZodOptional,...Je(t)});class ei extends st{_parse(t){return this._getType(t)===Pe.null?An(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ei.create=(e,t)=>new ei({innerType:e,typeName:We.ZodNullable,...Je(t)});class Ja extends st{_parse(t){const{ctx:n}=this._processInputParams(t);let i=n.data;return n.parsedType===Pe.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ja.create=(e,t)=>new Ja({innerType:e,typeName:We.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Je(t)});class el extends st{_parse(t){const{ctx:n}=this._processInputParams(t),i={...n,common:{...n.common,issues:[]}},o=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Ua(o)?o.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new nr(i.common.issues)},input:i.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new nr(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}el.create=(e,t)=>new el({innerType:e,typeName:We.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Je(t)});class ru extends st{_parse(t){if(this._getType(t)!==Pe.nan){const i=this._getOrReturnCtx(t);return je(i,{code:be.invalid_type,expected:Pe.nan,received:i.parsedType}),qe}return{status:"valid",value:t.data}}}ru.create=e=>new ru({typeName:We.ZodNaN,...Je(e)});const NP=Symbol("zod_brand");class pm extends st{_parse(t){const{ctx:n}=this._processInputParams(t),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class ul extends st{_parse(t){const{status:n,ctx:i}=this._processInputParams(t);if(i.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?qe:l.status==="dirty"?(n.dirty(),mo(l.value)):this._def.out._parseAsync({data:l.value,path:i.path,parent:i})})();{const o=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?qe:o.status==="dirty"?(n.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:i.path,parent:i})}}static create(t,n){return new ul({in:t,out:n,typeName:We.ZodPipeline})}}class tl extends st{_parse(t){const n=this._def.innerType._parse(t),i=o=>(Ai(o)&&(o.value=Object.freeze(o.value)),o);return Ua(n)?n.then(o=>i(o)):i(n)}unwrap(){return this._def.innerType}}tl.create=(e,t)=>new tl({innerType:e,typeName:We.ZodReadonly,...Je(t)});function uv(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function Mb(e,t={},n){return e?Io.create().superRefine((i,o)=>{var l,d;const f=e(i);if(f instanceof Promise)return f.then(m=>{var g,h;if(!m){const x=uv(t,i),b=(h=(g=x.fatal)!==null&&g!==void 0?g:n)!==null&&h!==void 0?h:!0;o.addIssue({code:"custom",...x,fatal:b})}});if(!f){const m=uv(t,i),g=(d=(l=m.fatal)!==null&&l!==void 0?l:n)!==null&&d!==void 0?d:!0;o.addIssue({code:"custom",...m,fatal:g})}}):Io.create()}const kP={object:Mt.lazycreate};var We;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(We||(We={}));const CP=(e,t={message:`Input not instance of ${e.name}`})=>Mb(n=>n instanceof e,t),Db=_r.create,Fb=Ys.create,jP=ru.create,_P=Xs.create,zb=Wa.create,EP=Ri.create,PP=eu.create,TP=qa.create,AP=Ha.create,RP=Io.create,IP=Ni.create,LP=vs.create,OP=tu.create,MP=Tr.create,DP=Mt.create,FP=Mt.strictCreate,zP=Qa.create,$P=Ru.create,BP=Ka.create,VP=Kr.create,UP=Za.create,WP=nu.create,qP=Ii.create,HP=No.create,QP=Ga.create,KP=Ya.create,ZP=Js.create,GP=Xa.create,YP=Lo.create,dv=Lr.create,XP=qr.create,JP=ei.create,e2=Lr.createWithPreprocess,t2=ul.create,n2=()=>Db().optional(),r2=()=>Fb().optional(),s2=()=>zb().optional(),i2={string:(e=>_r.create({...e,coerce:!0})),number:(e=>Ys.create({...e,coerce:!0})),boolean:(e=>Wa.create({...e,coerce:!0})),bigint:(e=>Xs.create({...e,coerce:!0})),date:(e=>Ri.create({...e,coerce:!0}))},o2=qe;var E=Object.freeze({__proto__:null,defaultErrorMap:Ro,setErrorMap:eP,getErrorMap:Yc,makeIssue:Xc,EMPTY_PATH:tP,addIssueToContext:je,ParseStatus:hn,INVALID:qe,DIRTY:mo,OK:An,isAborted:wp,isDirty:Sp,isValid:Ai,isAsync:Ua,get util(){return ut},get objectUtil(){return bp},ZodParsedType:Pe,getParsedType:ps,ZodType:st,datetimeRegex:Lb,ZodString:_r,ZodNumber:Ys,ZodBigInt:Xs,ZodBoolean:Wa,ZodDate:Ri,ZodSymbol:eu,ZodUndefined:qa,ZodNull:Ha,ZodAny:Io,ZodUnknown:Ni,ZodNever:vs,ZodVoid:tu,ZodArray:Tr,ZodObject:Mt,ZodUnion:Qa,ZodDiscriminatedUnion:Ru,ZodIntersection:Ka,ZodTuple:Kr,ZodRecord:Za,ZodMap:nu,ZodSet:Ii,ZodFunction:No,ZodLazy:Ga,ZodLiteral:Ya,ZodEnum:Js,ZodNativeEnum:Xa,ZodPromise:Lo,ZodEffects:Lr,ZodTransformer:Lr,ZodOptional:qr,ZodNullable:ei,ZodDefault:Ja,ZodCatch:el,ZodNaN:ru,BRAND:NP,ZodBranded:pm,ZodPipeline:ul,ZodReadonly:tl,custom:Mb,Schema:st,ZodSchema:st,late:kP,get ZodFirstPartyTypeKind(){return We},coerce:i2,any:RP,array:MP,bigint:_P,boolean:zb,date:EP,discriminatedUnion:$P,effect:dv,enum:ZP,function:HP,instanceof:CP,intersection:BP,lazy:QP,literal:KP,map:WP,nan:jP,nativeEnum:GP,never:LP,null:AP,nullable:JP,number:Fb,object:DP,oboolean:s2,onumber:r2,optional:XP,ostring:n2,pipeline:t2,preprocess:e2,promise:YP,record:UP,set:qP,strictObject:FP,string:Db,symbol:PP,transformer:dv,tuple:VP,undefined:TP,union:zP,unknown:IP,void:OP,NEVER:o2,ZodIssueCode:be,quotelessJson:JE,ZodError:nr});const he=Symbol.for("drizzle:entityKind");function un(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,he))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(e).constructor;if(n)for(;n;){if(he in n&&n[he]===t[he])return!0;n=Object.getPrototypeOf(n)}return!1}class nl{constructor(t,n){this.table=t,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}static[he]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}class a2{static[he]="ColumnBuilder";config;constructor(t,n,i){this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:i,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}const ko=Symbol.for("drizzle:Name");class l2{static[he]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(t,n){this.reference=()=>{const{name:i,columns:o,foreignColumns:l}=t();return{name:i,columns:o,foreignTable:l[0].table,foreignColumns:l}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new c2(t,this)}}class c2{constructor(t,n){this.table=t,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}static[he]="PgForeignKey";reference;onUpdate;onDelete;getName(){const{name:t,columns:n,foreignColumns:i}=this.reference(),o=n.map(f=>f.name),l=i.map(f=>f.name),d=[this.table[ko],...o,i[0].table[ko],...l];return t??`${d.join("_")}_fk`}}function u2(e,...t){return e(...t)}function d2(e,t){return`${e[ko]}_${t.join("_")}_unique`}function fv(e,t,n){for(let i=t;i<e.length;i++){const o=e[i];if(o==="\\"){i++;continue}if(o==='"')return[e.slice(t,i).replace(/\\/g,""),i+1];if(!n&&(o===","||o==="}"))return[e.slice(t,i).replace(/\\/g,""),i]}return[e.slice(t).replace(/\\/g,""),e.length]}function $b(e,t=0){const n=[];let i=t,o=!1;for(;i<e.length;){const l=e[i];if(l===","){(o||i===t)&&n.push(""),o=!0,i++;continue}if(o=!1,l==="\\"){i+=2;continue}if(l==='"'){const[m,g]=fv(e,i+1,!0);n.push(m),i=g;continue}if(l==="}")return[n,i+1];if(l==="{"){const[m,g]=$b(e,i+1);n.push(m),i=g;continue}const[d,f]=fv(e,i,!1);n.push(d),i=f}return[n,i]}function f2(e){const[t]=$b(e,1);return t}function Bb(e){return`{${e.map(t=>Array.isArray(t)?Bb(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}class ft extends a2{foreignKeyConfigs=[];static[he]="PgColumnBuilder";array(t){return new m2(this.config.name,this,t)}references(t,n={}){return this.foreignKeyConfigs.push({ref:t,actions:n}),this}unique(t,n){return this.config.isUnique=!0,this.config.uniqueName=t,this.config.uniqueType=n?.nulls,this}generatedAlwaysAs(t){return this.config.generated={as:t,type:"always",mode:"stored"},this}buildForeignKeys(t,n){return this.foreignKeyConfigs.map(({ref:i,actions:o})=>u2((l,d)=>{const f=new l2(()=>{const m=l();return{columns:[t],foreignColumns:[m]}});return d.onUpdate&&f.onUpdate(d.onUpdate),d.onDelete&&f.onDelete(d.onDelete),f.build(n)},i,o))}buildExtraConfigColumn(t){return new p2(t,this.config)}}class nt extends nl{constructor(t,n){n.uniqueName||(n.uniqueName=d2(t,[n.name])),super(t,n),this.table=t}static[he]="PgColumn"}class p2 extends nt{static[he]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(t){return this.indexConfig.opClass=t,this}}class m2 extends ft{static[he]="PgArrayBuilder";constructor(t,n,i){super(t,"array","PgArray"),this.config.baseBuilder=n,this.config.size=i}build(t){const n=this.config.baseBuilder.build(t);return new mm(t,this.config,n)}}class mm extends nt{constructor(t,n,i,o){super(t,n),this.baseColumn=i,this.range=o,this.size=n.size}size;static[he]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(t){return typeof t=="string"&&(t=f2(t)),t.map(n=>this.baseColumn.mapFromDriverValue(n))}mapToDriverValue(t,n=!1){const i=t.map(o=>o===null?null:un(this.baseColumn,mm)?this.baseColumn.mapToDriverValue(o,!0):this.baseColumn.mapToDriverValue(o));return n?i:Bb(i)}}const pv=Symbol.for("drizzle:isPgEnum");function h2(e){return!!e&&typeof e=="function"&&pv in e&&e[pv]===!0}class Vb{static[he]="Subquery";constructor(t,n,i,o=!1){this._={brand:"Subquery",sql:t,selectedFields:n,alias:i,isWith:o}}}const g2={startActiveSpan(e,t){return t()}},Co=Symbol.for("drizzle:ViewBaseConfig"),Df=Symbol.for("drizzle:Schema"),mv=Symbol.for("drizzle:Columns"),hv=Symbol.for("drizzle:ExtraConfigColumns"),Ff=Symbol.for("drizzle:OriginalName"),zf=Symbol.for("drizzle:BaseName"),su=Symbol.for("drizzle:IsAlias"),gv=Symbol.for("drizzle:ExtraConfigBuilder"),Ub=Symbol.for("drizzle:IsDrizzleTable");class er{static[he]="Table";static Symbol={Name:ko,Schema:Df,OriginalName:Ff,Columns:mv,ExtraConfigColumns:hv,BaseName:zf,IsAlias:su,ExtraConfigBuilder:gv};[ko];[Ff];[Df];[mv];[hv];[zf];[su]=!1;[Ub]=!0;[gv]=void 0;constructor(t,n,i){this[ko]=this[Ff]=t,this[Df]=n,this[zf]=i}}function Wb(e){return typeof e=="object"&&e!==null&&Ub in e}function y2(e){return e!=null&&typeof e.getSQL=="function"}function v2(e){const t={sql:"",params:[]};for(const n of e)t.sql+=n.sql,t.params.push(...n.params),n.typings?.length&&(t.typings||(t.typings=[]),t.typings.push(...n.typings));return t}class Cr{static[he]="StringChunk";value;constructor(t){this.value=Array.isArray(t)?t:[t]}getSQL(){return new zt([this])}}class zt{constructor(t){this.queryChunks=t}static[he]="SQL";decoder=qb;shouldInlineParams=!1;append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return g2.startActiveSpan("drizzle.buildSQL",n=>{const i=this.buildQueryFromSourceParams(this.queryChunks,t);return n?.setAttributes({"drizzle.query.text":i.sql,"drizzle.query.params":JSON.stringify(i.params)}),i})}buildQueryFromSourceParams(t,n){const i=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:o,escapeName:l,escapeParam:d,prepareTyping:f,inlineParams:m,paramStartIndex:g}=i;return v2(t.map(h=>{if(un(h,Cr))return{sql:h.value.join(""),params:[]};if(un(h,kp))return{sql:l(h.value),params:[]};if(h===void 0)return{sql:"",params:[]};if(Array.isArray(h)){const x=[new Cr("(")];for(const[b,k]of h.entries())x.push(k),b<h.length-1&&x.push(new Cr(", "));return x.push(new Cr(")")),this.buildQueryFromSourceParams(x,i)}if(un(h,zt))return this.buildQueryFromSourceParams(h.queryChunks,{...i,inlineParams:m||h.shouldInlineParams});if(un(h,er)){const x=h[er.Symbol.Schema],b=h[er.Symbol.Name];return{sql:x===void 0||h[su]?l(b):l(x)+"."+l(b),params:[]}}if(un(h,nl)){const x=o.getColumnCasing(h);if(n.invokeSource==="indexes")return{sql:l(x),params:[]};const b=h.table[er.Symbol.Schema];return{sql:h.table[su]||b===void 0?l(h.table[er.Symbol.Name])+"."+l(x):l(b)+"."+l(h.table[er.Symbol.Name])+"."+l(x),params:[]}}if(un(h,x2)){const x=h[Co].schema,b=h[Co].name;return{sql:x===void 0||h[Co].isAlias?l(b):l(x)+"."+l(b),params:[]}}if(un(h,Qb)){if(un(h.value,Cp))return{sql:d(g.value++,h),params:[h],typings:["none"]};const x=h.value===null?null:h.encoder.mapToDriverValue(h.value);if(un(x,zt))return this.buildQueryFromSourceParams([x],i);if(m)return{sql:this.mapInlineParam(x,i),params:[]};let b=["none"];return f&&(b=[f(h.encoder)]),{sql:d(g.value++,x),params:[x],typings:b}}return un(h,Cp)?{sql:d(g.value++,h),params:[h],typings:["none"]}:un(h,zt.Aliased)&&h.fieldAlias!==void 0?{sql:l(h.fieldAlias),params:[]}:un(h,Vb)?h._.isWith?{sql:l(h._.alias),params:[]}:this.buildQueryFromSourceParams([new Cr("("),h._.sql,new Cr(") "),new kp(h._.alias)],i):h2(h)?h.schema?{sql:l(h.schema)+"."+l(h.enumName),params:[]}:{sql:l(h.enumName),params:[]}:y2(h)?h.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([h.getSQL()],i):this.buildQueryFromSourceParams([new Cr("("),h.getSQL(),new Cr(")")],i):m?{sql:this.mapInlineParam(h,i),params:[]}:{sql:d(g.value++,h),params:[h],typings:["none"]}}))}mapInlineParam(t,{escapeString:n}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return n(t);if(typeof t=="object"){const i=t.toString();return n(i==="[object Object]"?JSON.stringify(t):i)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new zt.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}}class kp{constructor(t){this.value=t}static[he]="Name";brand;getSQL(){return new zt([this])}}const qb={mapFromDriverValue:e=>e},Hb={mapToDriverValue:e=>e};({...qb,...Hb});class Qb{constructor(t,n=Hb){this.value=t,this.encoder=n}static[he]="Param";brand;getSQL(){return new zt([this])}}function iu(e,...t){const n=[];(t.length>0||e.length>0&&e[0]!=="")&&n.push(new Cr(e[0]));for(const[i,o]of t.entries())n.push(o,new Cr(e[i+1]));return new zt(n)}(e=>{function t(){return new zt([])}e.empty=t;function n(m){return new zt(m)}e.fromList=n;function i(m){return new zt([new Cr(m)])}e.raw=i;function o(m,g){const h=[];for(const[x,b]of m.entries())x>0&&g!==void 0&&h.push(g),h.push(b);return new zt(h)}e.join=o;function l(m){return new kp(m)}e.identifier=l;function d(m){return new Cp(m)}e.placeholder=d;function f(m,g){return new Qb(m,g)}e.param=f})(iu||(iu={}));(e=>{class t{constructor(i,o){this.sql=i,this.fieldAlias=o}static[he]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new t(this.sql,this.fieldAlias)}}e.Aliased=t})(zt||(zt={}));class Cp{constructor(t){this.name=t}static[he]="Placeholder";getSQL(){return new zt([this])}}const Kb=Symbol.for("drizzle:IsDrizzleView");class x2{static[he]="View";[Co];[Kb]=!0;constructor({name:t,schema:n,selectedFields:i,query:o}){this[Co]={name:t,originalName:t,schema:n,selectedFields:i,query:o,isExisting:!o,isAlias:!1}}getSQL(){return new zt([this])}}function b2(e){return typeof e=="object"&&e!==null&&Kb in e}nl.prototype.getSQL=function(){return new zt([this])};er.prototype.getSQL=function(){return new zt([this])};Vb.prototype.getSQL=function(){return new zt([this])};function w2(e){return e[er.Symbol.Columns]}function S2(e){return e[Co].selectedFields}function on(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}class Iu extends ft{static[he]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(t){if(t){const{name:n,...i}=t;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:i}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:n,...i}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:i}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class N2 extends Iu{static[he]="PgBigInt53Builder";constructor(t){super(t,"number","PgBigInt53")}build(t){return new k2(t,this.config)}}class k2 extends nt{static[he]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}class C2 extends Iu{static[he]="PgBigInt64Builder";constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new j2(t,this.config)}}class j2 extends nt{static[he]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}function _2(e,t){const{name:n,config:i}=on(e,t);return i.mode==="number"?new N2(n):new C2(n)}class E2 extends ft{static[he]="PgBigSerial53Builder";constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new P2(t,this.config)}}class P2 extends nt{static[he]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}class T2 extends ft{static[he]="PgBigSerial64Builder";constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new A2(t,this.config)}}class A2 extends nt{static[he]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}function R2(e,t){const{name:n,config:i}=on(e,t);return i.mode==="number"?new E2(n):new T2(n)}class I2 extends ft{static[he]="PgBooleanBuilder";constructor(t){super(t,"boolean","PgBoolean")}build(t){return new L2(t,this.config)}}class L2 extends nt{static[he]="PgBoolean";getSQLType(){return"boolean"}}function Dc(e){return new I2(e??"")}class O2 extends ft{static[he]="PgCharBuilder";constructor(t,n){super(t,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new M2(t,this.config)}}class M2 extends nt{static[he]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}function D2(e,t={}){const{name:n,config:i}=on(e,t);return new O2(n,i)}class F2 extends ft{static[he]="PgCidrBuilder";constructor(t){super(t,"string","PgCidr")}build(t){return new z2(t,this.config)}}class z2 extends nt{static[he]="PgCidr";getSQLType(){return"cidr"}}function $2(e){return new F2(e??"")}class B2 extends ft{static[he]="PgCustomColumnBuilder";constructor(t,n,i){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=i}build(t){return new V2(t,this.config)}}class V2 extends nt{static[he]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(t,n){super(t,n),this.sqlName=n.customTypeParams.dataType(n.fieldConfig),this.mapTo=n.customTypeParams.toDriver,this.mapFrom=n.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(t){return typeof this.mapFrom=="function"?this.mapFrom(t):t}mapToDriverValue(t){return typeof this.mapTo=="function"?this.mapTo(t):t}}function U2(e){return(t,n)=>{const{name:i,config:o}=on(t,n);return new B2(i,o,e)}}class dl extends ft{static[he]="PgDateColumnBaseBuilder";defaultNow(){return this.default(iu`now()`)}}class W2 extends dl{static[he]="PgDateBuilder";constructor(t){super(t,"date","PgDate")}build(t){return new q2(t,this.config)}}class q2 extends nt{static[he]="PgDate";getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}class H2 extends dl{static[he]="PgDateStringBuilder";constructor(t){super(t,"string","PgDateString")}build(t){return new Q2(t,this.config)}}class Q2 extends nt{static[he]="PgDateString";getSQLType(){return"date"}}function K2(e,t){const{name:n,config:i}=on(e,t);return i?.mode==="date"?new W2(n):new H2(n)}class Z2 extends ft{static[he]="PgDoublePrecisionBuilder";constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new G2(t,this.config)}}class G2 extends nt{static[he]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}function Y2(e){return new Z2(e??"")}class X2 extends ft{static[he]="PgInetBuilder";constructor(t){super(t,"string","PgInet")}build(t){return new J2(t,this.config)}}class J2 extends nt{static[he]="PgInet";getSQLType(){return"inet"}}function eT(e){return new X2(e??"")}class tT extends Iu{static[he]="PgIntegerBuilder";constructor(t){super(t,"number","PgInteger")}build(t){return new nT(t,this.config)}}class nT extends nt{static[he]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}function Tn(e){return new tT(e??"")}class rT extends ft{static[he]="PgIntervalBuilder";constructor(t,n){super(t,"string","PgInterval"),this.config.intervalConfig=n}build(t){return new sT(t,this.config)}}class sT extends nt{static[he]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){const t=this.fields?` ${this.fields}`:"",n=this.precision?`(${this.precision})`:"";return`interval${t}${n}`}}function iT(e,t={}){const{name:n,config:i}=on(e,t);return new rT(n,i)}class oT extends ft{static[he]="PgJsonBuilder";constructor(t){super(t,"json","PgJson")}build(t){return new aT(t,this.config)}}class aT extends nt{static[he]="PgJson";constructor(t,n){super(t,n)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}function lT(e){return new oT(e??"")}class cT extends ft{static[he]="PgJsonbBuilder";constructor(t){super(t,"json","PgJsonb")}build(t){return new uT(t,this.config)}}class uT extends nt{static[he]="PgJsonb";constructor(t,n){super(t,n)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}function ht(e){return new cT(e??"")}class dT extends ft{static[he]="PgLineBuilder";constructor(t){super(t,"array","PgLine")}build(t){return new fT(t,this.config)}}class fT extends nt{static[he]="PgLine";getSQLType(){return"line"}mapFromDriverValue(t){const[n,i,o]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(i),Number.parseFloat(o)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}class pT extends ft{static[he]="PgLineABCBuilder";constructor(t){super(t,"json","PgLineABC")}build(t){return new mT(t,this.config)}}class mT extends nt{static[he]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(t){const[n,i,o]=t.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(i),c:Number.parseFloat(o)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}function hT(e,t){const{name:n,config:i}=on(e,t);return!i?.mode||i.mode==="tuple"?new dT(n):new pT(n)}class gT extends ft{static[he]="PgMacaddrBuilder";constructor(t){super(t,"string","PgMacaddr")}build(t){return new yT(t,this.config)}}class yT extends nt{static[he]="PgMacaddr";getSQLType(){return"macaddr"}}function vT(e){return new gT(e??"")}class xT extends ft{static[he]="PgMacaddr8Builder";constructor(t){super(t,"string","PgMacaddr8")}build(t){return new bT(t,this.config)}}class bT extends nt{static[he]="PgMacaddr8";getSQLType(){return"macaddr8"}}function wT(e){return new xT(e??"")}class ST extends ft{static[he]="PgNumericBuilder";constructor(t,n,i){super(t,"string","PgNumeric"),this.config.precision=n,this.config.scale=i}build(t){return new NT(t,this.config)}}class NT extends nt{static[he]="PgNumeric";precision;scale;constructor(t,n){super(t,n),this.precision=n.precision,this.scale=n.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}function kT(e,t){const{name:n,config:i}=on(e,t);return new ST(n,i?.precision,i?.scale)}class CT extends ft{static[he]="PgPointTupleBuilder";constructor(t){super(t,"array","PgPointTuple")}build(t){return new jT(t,this.config)}}class jT extends nt{static[he]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,i]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(i)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}class _T extends ft{static[he]="PgPointObjectBuilder";constructor(t){super(t,"json","PgPointObject")}build(t){return new ET(t,this.config)}}class ET extends nt{static[he]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,i]=t.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(i)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}function PT(e,t){const{name:n,config:i}=on(e,t);return!i?.mode||i.mode==="tuple"?new CT(n):new _T(n)}function TT(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(Number.parseInt(e.slice(n,n+2),16));return new Uint8Array(t)}function yv(e,t){const n=new ArrayBuffer(8),i=new DataView(n);for(let o=0;o<8;o++)i.setUint8(o,e[t+o]);return i.getFloat64(0,!0)}function Zb(e){const t=TT(e);let n=0;const i=t[n];n+=1;const o=new DataView(t.buffer),l=o.getUint32(n,i===1);if(n+=4,l&536870912&&(o.getUint32(n,i===1),n+=4),(l&65535)===1){const d=yv(t,n);n+=8;const f=yv(t,n);return n+=8,[d,f]}throw new Error("Unsupported geometry type")}class AT extends ft{static[he]="PgGeometryBuilder";constructor(t){super(t,"array","PgGeometry")}build(t){return new RT(t,this.config)}}class RT extends nt{static[he]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return Zb(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}class IT extends ft{static[he]="PgGeometryObjectBuilder";constructor(t){super(t,"json","PgGeometryObject")}build(t){return new LT(t,this.config)}}class LT extends nt{static[he]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const n=Zb(t);return{x:n[0],y:n[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}function OT(e,t){const{name:n,config:i}=on(e,t);return!i?.mode||i.mode==="tuple"?new AT(n):new IT(n)}class MT extends ft{static[he]="PgRealBuilder";constructor(t,n){super(t,"number","PgReal"),this.config.length=n}build(t){return new DT(t,this.config)}}class DT extends nt{static[he]="PgReal";constructor(t,n){super(t,n)}getSQLType(){return"real"}mapFromDriverValue=t=>typeof t=="string"?Number.parseFloat(t):t}function Gb(e){return new MT(e??"")}class FT extends ft{static[he]="PgSerialBuilder";constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new zT(t,this.config)}}class zT extends nt{static[he]="PgSerial";getSQLType(){return"serial"}}function Wn(e){return new FT(e??"")}class $T extends Iu{static[he]="PgSmallIntBuilder";constructor(t){super(t,"number","PgSmallInt")}build(t){return new BT(t,this.config)}}class BT extends nt{static[he]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=t=>typeof t=="string"?Number(t):t}function VT(e){return new $T(e??"")}class UT extends ft{static[he]="PgSmallSerialBuilder";constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new WT(t,this.config)}}class WT extends nt{static[he]="PgSmallSerial";getSQLType(){return"smallserial"}}function qT(e){return new UT(e??"")}class HT extends ft{static[he]="PgTextBuilder";constructor(t,n){super(t,"string","PgText"),this.config.enumValues=n.enum}build(t){return new QT(t,this.config)}}class QT extends nt{static[he]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function Be(e,t={}){const{name:n,config:i}=on(e,t);return new HT(n,i)}class KT extends dl{constructor(t,n,i){super(t,"string","PgTime"),this.withTimezone=n,this.precision=i,this.config.withTimezone=n,this.config.precision=i}static[he]="PgTimeBuilder";build(t){return new ZT(t,this.config)}}class ZT extends nt{static[he]="PgTime";withTimezone;precision;constructor(t,n){super(t,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function GT(e,t={}){const{name:n,config:i}=on(e,t);return new KT(n,i.withTimezone??!1,i.precision)}class YT extends dl{static[he]="PgTimestampBuilder";constructor(t,n,i){super(t,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=i}build(t){return new XT(t,this.config)}}class XT extends nt{static[he]="PgTimestamp";withTimezone;precision;constructor(t,n){super(t,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=t=>new Date(this.withTimezone?t:t+"+0000");mapToDriverValue=t=>t.toISOString()}class JT extends dl{static[he]="PgTimestampStringBuilder";constructor(t,n,i){super(t,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=i}build(t){return new eA(t,this.config)}}class eA extends nt{static[he]="PgTimestampString";withTimezone;precision;constructor(t,n){super(t,n),this.withTimezone=n.withTimezone,this.precision=n.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}function xt(e,t={}){const{name:n,config:i}=on(e,t);return i?.mode==="string"?new JT(n,i.withTimezone??!1,i.precision):new YT(n,i?.withTimezone??!1,i?.precision)}class tA extends ft{static[he]="PgUUIDBuilder";constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(iu`gen_random_uuid()`)}build(t){return new nA(t,this.config)}}class nA extends nt{static[he]="PgUUID";getSQLType(){return"uuid"}}function rA(e){return new tA(e??"")}class sA extends ft{static[he]="PgVarcharBuilder";constructor(t,n){super(t,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new iA(t,this.config)}}class iA extends nt{static[he]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}function oA(e,t={}){const{name:n,config:i}=on(e,t);return new sA(n,i)}class aA extends ft{static[he]="PgBinaryVectorBuilder";constructor(t,n){super(t,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(t){return new lA(t,this.config)}}class lA extends nt{static[he]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function cA(e,t){const{name:n,config:i}=on(e,t);return new aA(n,i)}class uA extends ft{static[he]="PgHalfVectorBuilder";constructor(t,n){super(t,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(t){return new dA(t,this.config)}}class dA extends nt{static[he]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}function fA(e,t){const{name:n,config:i}=on(e,t);return new uA(n,i)}class pA extends ft{static[he]="PgSparseVectorBuilder";constructor(t,n){super(t,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(t){return new mA(t,this.config)}}class mA extends nt{static[he]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function hA(e,t){const{name:n,config:i}=on(e,t);return new pA(n,i)}class gA extends ft{static[he]="PgVectorBuilder";constructor(t,n){super(t,"array","PgVector"),this.config.dimensions=n.dimensions}build(t){return new yA(t,this.config)}}class yA extends nt{static[he]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){return t.slice(1,-1).split(",").map(n=>Number.parseFloat(n))}}function vA(e,t){const{name:n,config:i}=on(e,t);return new gA(n,i)}function xA(){return{bigint:_2,bigserial:R2,boolean:Dc,char:D2,cidr:$2,customType:U2,date:K2,doublePrecision:Y2,inet:eT,integer:Tn,interval:iT,json:lT,jsonb:ht,line:hT,macaddr:vT,macaddr8:wT,numeric:kT,point:PT,geometry:OT,real:Gb,serial:Wn,smallint:VT,smallserial:qT,text:Be,time:GT,timestamp:xt,uuid:rA,varchar:oA,bit:cA,halfvec:fA,sparsevec:hA,vector:vA}}const jp=Symbol.for("drizzle:PgInlineForeignKeys"),vv=Symbol.for("drizzle:EnableRLS");class xv extends er{static[he]="PgTable";static Symbol=Object.assign({},er.Symbol,{InlineForeignKeys:jp,EnableRLS:vv});[jp]=[];[vv]=!1;[er.Symbol.ExtraConfigBuilder]=void 0}function bA(e,t,n,i,o=e){const l=new xv(e,i,o),d=typeof t=="function"?t(xA()):t,f=Object.fromEntries(Object.entries(d).map(([h,x])=>{const b=x;b.setName(h);const k=b.build(l);return l[jp].push(...b.buildForeignKeys(k,l)),[h,k]})),m=Object.fromEntries(Object.entries(d).map(([h,x])=>{const b=x;b.setName(h);const k=b.buildExtraConfigColumn(l);return[h,k]})),g=Object.assign(l,f);return g[er.Symbol.Columns]=f,g[er.Symbol.ExtraConfigColumns]=m,Object.assign(g,{enableRLS:()=>(g[xv.Symbol.EnableRLS]=!0,g)})}const gn=(e,t,n)=>bA(e,t,n,void 0),Lt={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Ut(e,t){return t.includes(e.columnType)}function wA(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const SA=E.union([E.string(),E.number(),E.boolean(),E.null()]),NA=E.union([SA,E.record(E.any()),E.array(E.any())]),kA=E.custom(e=>e instanceof Buffer);function Yb(e,t){const n=t?.zodInstance??E,i=t?.coerce??{};let o;return wA(e)&&(o=e.enumValues.length?n.enum(e.enumValues):n.string()),o||(Ut(e,["PgGeometry","PgPointTuple"])?o=n.tuple([n.number(),n.number()]):Ut(e,["PgGeometryObject","PgPointObject"])?o=n.object({x:n.number(),y:n.number()}):Ut(e,["PgHalfVector","PgVector"])?(o=n.array(n.number()),o=e.dimensions?o.length(e.dimensions):o):Ut(e,["PgLine"])?o=n.tuple([n.number(),n.number(),n.number()]):Ut(e,["PgLineABC"])?o=n.object({a:n.number(),b:n.number(),c:n.number()}):Ut(e,["PgArray"])?(o=n.array(Yb(e.baseColumn,n)),o=e.size?o.length(e.size):o):e.dataType==="array"?o=n.array(n.any()):e.dataType==="number"?o=CA(e,n,i):e.dataType==="bigint"?o=jA(e,n,i):e.dataType==="boolean"?o=i===!0||i.boolean?n.coerce.boolean():n.boolean():e.dataType==="date"?o=i===!0||i.date?n.coerce.date():n.date():e.dataType==="string"?o=_A(e,n,i):e.dataType==="json"?o=NA:e.dataType==="custom"?o=n.any():e.dataType==="buffer"&&(o=kA)),o||(o=n.any()),o}function CA(e,t,n){let i=e.getSQLType().includes("unsigned"),o,l,d=!1;Ut(e,["MySqlTinyInt","SingleStoreTinyInt"])?(o=i?0:Lt.INT8_MIN,l=i?Lt.INT8_UNSIGNED_MAX:Lt.INT8_MAX,d=!0):Ut(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(o=i?0:Lt.INT16_MIN,l=i?Lt.INT16_UNSIGNED_MAX:Lt.INT16_MAX,d=!0):Ut(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(o=i?0:Lt.INT24_MIN,l=i?Lt.INT24_UNSIGNED_MAX:Lt.INT24_MAX,d=Ut(e,["MySqlMediumInt","SingleStoreMediumInt"])):Ut(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(o=i?0:Lt.INT32_MIN,l=i?Lt.INT32_UNSIGNED_MAX:Lt.INT32_MAX,d=!0):Ut(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(o=i?0:Lt.INT48_MIN,l=i?Lt.INT48_UNSIGNED_MAX:Lt.INT48_MAX):Ut(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(i=i||Ut(e,["MySqlSerial","SingleStoreSerial"]),o=i?0:Number.MIN_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER,d=!0):Ut(e,["MySqlYear","SingleStoreYear"])?(o=1901,l=2155,d=!0):(o=Number.MIN_SAFE_INTEGER,l=Number.MAX_SAFE_INTEGER);let f=n===!0||n?.number?t.coerce.number():t.number();return f=f.min(o).max(l),d?f.int():f}function jA(e,t,n){const i=e.getSQLType().includes("unsigned"),o=i?0n:Lt.INT64_MIN,l=i?Lt.INT64_UNSIGNED_MAX:Lt.INT64_MAX;return(n===!0||n?.bigint?t.coerce.bigint():t.bigint()).min(o).max(l)}function _A(e,t,n){if(Ut(e,["PgUUID"]))return t.string().uuid();let i,o,l=!1;Ut(e,["PgVarchar","SQLiteText"])?i=e.length:Ut(e,["MySqlVarChar","SingleStoreVarChar"])?i=e.length??Lt.INT16_UNSIGNED_MAX:Ut(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?i=Lt.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?i=Lt.INT24_UNSIGNED_MAX:e.textType==="text"?i=Lt.INT16_UNSIGNED_MAX:i=Lt.INT8_UNSIGNED_MAX),Ut(e,["PgChar","MySqlChar","SingleStoreChar"])&&(i=e.length,l=!0),Ut(e,["PgBinaryVector"])&&(o=/^[01]+$/,i=e.dimensions);let d=n===!0||n?.string?t.coerce.string():t.string();return d=o?d.regex(o):d,i&&l?d.length(i):i?d.max(i):d}function Xb(e){return Wb(e)?w2(e):S2(e)}function Jb(e,t,n,i){const o={};for(const[l,d]of Object.entries(e)){if(!un(d,nl)&&!un(d,zt)&&!un(d,zt.Aliased)&&typeof d=="object"){const x=Wb(d)||b2(d)?Xb(d):d;o[l]=Jb(x,t[l]??{},n,i);continue}const f=t[l];if(f!==void 0&&typeof f!="function"){o[l]=f;continue}const m=un(d,nl)?d:void 0,g=m?Yb(m,i):E.any(),h=typeof f=="function"?f(g):g;n.never(m)||(o[l]=h,m&&(n.nullable(m)&&(o[l]=o[l].nullable()),n.optional(m)&&(o[l]=o[l].optional())))}return E.object(o)}const EA={never:e=>e?.generated?.type==="always"||e?.generatedIdentity?.type==="always",optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},yn=(e,t)=>{const n=Xb(e);return Jb(n,{},EA)},PA=gn("files",{id:Wn("id").primaryKey(),path:Be("path").notNull().unique(),content:Be("content").notNull(),type:Be("type").notNull(),lastModified:xt("last_modified").defaultNow()}),Mi=gn("backtests",{id:Wn("id").primaryKey(),strategyName:Be("strategy_name").notNull(),config:ht("config").notNull(),status:Be("status").notNull(),logs:Be("logs").array(),results:ht("results"),createdAt:xt("created_at").defaultNow()}),TA=gn("user_preferences",{id:Wn("id").primaryKey(),key:Be("key").notNull().unique(),value:ht("value").notNull()}),hm=gn("diagnostic_reports",{id:Wn("id").primaryKey(),reportId:Be("report_id").notNull().unique(),backtestId:Tn("backtest_id").references(()=>Mi.id),strategy:Be("strategy"),timeframe:Be("timeframe"),timerange:Be("timerange"),report:ht("report").notNull(),createdAt:xt("created_at").defaultNow()}),AA=gn("diagnostic_change_targets",{id:Wn("id").primaryKey(),reportId:Be("report_id").notNull().references(()=>hm.reportId),backtestId:Tn("backtest_id").references(()=>Mi.id),strategy:Be("strategy"),targets:ht("targets").notNull(),createdAt:xt("created_at").defaultNow()}),RA=gn("diagnostic_jobs",{id:Be("id").primaryKey(),backtestId:Tn("backtest_id").references(()=>Mi.id).notNull(),strategyPath:Be("strategy_path"),status:Be("status").notNull(),progress:ht("progress"),error:Be("error"),reportId:Be("report_id"),createdAt:xt("created_at").defaultNow(),startedAt:xt("started_at"),finishedAt:xt("finished_at"),updatedAt:xt("updated_at").defaultNow()}),ew=gn("diagnostic_loop_runs",{id:Be("id").primaryKey(),strategyPath:Be("strategy_path").notNull(),baseConfig:ht("base_config").notNull(),status:Be("status").notNull(),progress:ht("progress"),stopReason:Be("stop_reason"),report:ht("report"),createdAt:xt("created_at").defaultNow(),startedAt:xt("started_at"),finishedAt:xt("finished_at"),updatedAt:xt("updated_at").defaultNow()}),IA=gn("diagnostic_loop_iterations",{id:Wn("id").primaryKey(),runId:Be("run_id").notNull().references(()=>ew.id),iteration:Tn("iteration").notNull(),stage:Be("stage").notNull(),timeframe:Be("timeframe").notNull(),backtestId:Tn("backtest_id").references(()=>Mi.id),features:ht("features"),failure:Be("failure"),confidence:Gb("confidence"),proposedChanges:ht("proposed_changes"),validation:ht("validation"),appliedDiff:Be("applied_diff"),createdAt:xt("created_at").defaultNow()}),fl=gn("ai_chat_sessions",{id:Wn("id").primaryKey(),sessionKey:Be("session_key").notNull().unique(),strategyPath:Be("strategy_path"),backtestId:Tn("backtest_id").references(()=>Mi.id),clearedAt:xt("cleared_at"),createdAt:xt("created_at").defaultNow(),updatedAt:xt("updated_at").defaultNow()}),tw=gn("ai_chat_messages",{id:Wn("id").primaryKey(),sessionId:Tn("session_id").references(()=>fl.id).notNull(),role:Be("role").notNull(),content:Be("content").notNull(),model:Be("model"),request:ht("request"),response:ht("response"),createdAt:xt("created_at").defaultNow()}),LA=gn("ai_audit_events",{id:Wn("id").primaryKey(),sessionId:Tn("session_id").references(()=>fl.id),eventType:Be("event_type").notNull(),payload:ht("payload").notNull(),createdAt:xt("created_at").defaultNow()}),OA=gn("ai_actions",{id:Wn("id").primaryKey(),sessionId:Tn("session_id").references(()=>fl.id),messageId:Tn("message_id").references(()=>tw.id),actionType:Be("action_type").notNull(),description:Be("description").notNull(),beforeState:ht("before_state"),afterState:ht("after_state"),diff:ht("diff"),backtestId:Tn("backtest_id").references(()=>Mi.id),diagnosticReportId:Tn("diagnostic_report_id").references(()=>hm.id),results:ht("results"),createdAt:xt("created_at").defaultNow()}),MA=gn("ai_strategy_validations",{id:Wn("id").primaryKey(),validationId:Be("validation_id").notNull().unique(),strategyName:Be("strategy_name").notNull(),originalCode:Be("original_code").notNull(),modifiedCode:Be("modified_code").notNull(),changes:ht("changes").notNull(),errors:Be("errors").array(),warnings:Be("warnings").array(),valid:Dc("valid").notNull(),applied:Dc("applied").default(!1),saved:Dc("saved").default(!1),sessionId:Tn("session_id").references(()=>fl.id),createdAt:xt("created_at").defaultNow(),appliedAt:xt("applied_at"),savedAt:xt("saved_at")}),DA=gn("agent_handoffs",{id:Wn("id").primaryKey(),runId:Be("run_id").notNull(),agentId:Be("agent_id").notNull(),envelope:ht("envelope").notNull(),createdAt:xt("created_at").defaultNow()}),nw=gn("ai_refinement_runs",{id:Be("id").primaryKey(),strategyPath:Be("strategy_path").notNull(),baseConfig:ht("base_config").notNull(),rolling:ht("rolling"),model:Be("model"),status:Be("status").notNull(),objectiveMode:Be("objective_mode"),progress:ht("progress"),report:ht("report"),stopReason:Be("stop_reason"),createdAt:xt("created_at").defaultNow(),startedAt:xt("started_at"),finishedAt:xt("finished_at"),updatedAt:xt("updated_at").defaultNow()}),FA=gn("ai_refinement_iterations",{id:Wn("id").primaryKey(),runId:Be("run_id").notNull().references(()=>nw.id),iteration:Tn("iteration").notNull(),stage:Be("stage").notNull(),decision:Be("decision"),proposed:ht("proposed"),validation:ht("validation"),applied:ht("applied"),suite:ht("suite"),metrics:ht("metrics"),failure:Be("failure"),createdAt:xt("created_at").defaultNow()});yn(hm).omit({id:!0,createdAt:!0});yn(AA).omit({id:!0,createdAt:!0});yn(RA).omit({createdAt:!0,startedAt:!0,finishedAt:!0,updatedAt:!0});yn(ew).omit({createdAt:!0,startedAt:!0,finishedAt:!0,updatedAt:!0});yn(IA).omit({id:!0,createdAt:!0});yn(fl).omit({id:!0,createdAt:!0,updatedAt:!0});yn(tw).omit({id:!0,createdAt:!0});yn(LA).omit({id:!0,createdAt:!0});yn(OA).omit({id:!0,createdAt:!0});yn(MA).omit({id:!0,createdAt:!0,appliedAt:!0,savedAt:!0});yn(DA).omit({id:!0,createdAt:!0});yn(nw).omit({createdAt:!0,startedAt:!0,finishedAt:!0,updatedAt:!0});yn(FA).omit({id:!0,createdAt:!0});const zA=yn(PA).omit({id:!0,lastModified:!0}),$A=yn(Mi).omit({id:!0,createdAt:!0,logs:!0,results:!0,status:!0});yn(TA).omit({id:!0});const ou=["1m","5m","15m","1h","4h","1d"],BA=E.object({timeframe:E.enum(ou),timerange:E.string().optional(),backtest_date_from:E.string().optional(),backtest_date_to:E.string().optional(),stake_amount:E.number(),stoploss:E.number().optional(),trailing_stop:E.boolean().optional(),trailing_stop_positive:E.number().optional(),trailing_stop_positive_offset:E.number().optional(),trailing_only_offset_is_reached:E.boolean().optional(),minimal_roi:E.record(E.string(),E.number()).optional(),pairs:E.array(E.string()).optional(),max_open_trades:E.number().int().min(0).optional(),tradable_balance_ratio:E.number().min(0).max(1).optional()}).passthrough(),VA=$A.extend({config:BA}),Ze={validation:E.object({message:E.string(),field:E.string().optional()}),notFound:E.object({message:E.string()}),internal:E.object({message:E.string()})},lt={freqtrade:{version:{method:"GET",path:"/api/freqtrade/version",responses:{200:E.object({ok:E.boolean(),output:E.string(),code:E.number().optional()})}}},files:{list:{method:"GET",path:"/api/files",responses:{200:E.array(E.custom())}},getByPath:{method:"GET",path:"/api/files/by-path",responses:{200:E.custom(),404:Ze.notFound}},get:{method:"GET",path:"/api/files/:id",responses:{200:E.custom(),404:Ze.notFound}},create:{method:"POST",path:"/api/files",input:zA,responses:{201:E.custom(),400:Ze.validation}},update:{method:"PUT",path:"/api/files/:id",input:E.object({content:E.string()}),responses:{200:E.custom(),404:Ze.notFound}},delete:{method:"DELETE",path:"/api/files/:id",responses:{204:E.void(),404:Ze.notFound}}},backtests:{list:{method:"GET",path:"/api/backtests",responses:{200:E.array(E.custom())}},run:{method:"POST",path:"/api/backtests/run",input:VA,responses:{201:E.custom(),400:Ze.validation}},get:{method:"GET",path:"/api/backtests/:id",responses:{200:E.custom(),404:Ze.notFound}},batchRun:{method:"POST",path:"/api/backtests/batch-run",input:E.object({strategyName:E.string(),baseConfig:E.any(),ranges:E.array(E.object({from:E.string(),to:E.string()})).optional(),rolling:E.object({windowDays:E.number(),stepDays:E.number().optional(),count:E.number().optional(),end:E.string().optional()}).optional(),batchId:E.string().optional()}),responses:{201:E.object({batchId:E.string(),backtests:E.array(E.custom())}),400:Ze.validation}}},strategies:{edit:{method:"POST",path:"/api/strategies/edit",input:(()=>{const e=E.discriminatedUnion("kind",[E.object({kind:E.literal("function"),name:E.string()}),E.object({kind:E.literal("class"),name:E.string()}),E.object({kind:E.literal("param"),name:E.string()}),E.object({kind:E.literal("range"),startLine:E.number().int().min(1),endLine:E.number().int().min(1)})]),t=E.discriminatedUnion("kind",[E.object({kind:E.literal("after_function"),name:E.string()}),E.object({kind:E.literal("class_end"),name:E.string().optional()}),E.object({kind:E.literal("module_end")}),E.object({kind:E.literal("heuristic_indicators")})]),n=E.object({kind:E.literal("replace"),target:e,before:E.string(),after:E.string()}),i=E.object({kind:E.literal("insert"),anchor:t,content:E.string()}),o=E.union([n,i]);return E.object({strategyPath:E.string(),edits:E.array(o),dryRun:E.boolean().optional()})})(),responses:{200:E.object({success:E.boolean().optional(),dryRun:E.boolean().optional(),diff:E.string().optional(),content:E.string().optional(),applied:E.array(E.any()).optional()}).passthrough(),400:Ze.validation,500:Ze.internal}},params:{method:"POST",path:"/api/strategies/params",input:E.object({strategyPath:E.string()}),responses:{200:E.object({params:E.array(E.object({name:E.string(),type:E.string(),line:E.number(),endLine:E.number(),args:E.array(E.any()),default:E.any(),space:E.any(),optimize:E.any(),before:E.string()}))}),400:Ze.validation,500:Ze.internal}},applyParams:{method:"POST",path:"/api/strategies/params/apply",input:E.object({strategyPath:E.string(),changes:E.array(E.object({name:E.string(),before:E.string(),after:E.string()}))}),responses:{200:E.object({success:E.boolean().optional()}).passthrough(),400:Ze.validation,500:Ze.internal}}},ai:{models:{method:"GET",path:"/api/ai/models",responses:{200:E.array(E.object({id:E.string(),name:E.string(),description:E.string().optional()}))}},test:{method:"POST",path:"/api/ai/test",input:E.object({model:E.string()}),responses:{200:E.object({success:E.boolean(),model:E.string(),response:E.string().optional()}),400:Ze.validation,500:Ze.internal}},chat:{method:"POST",path:"/api/ai/chat",input:E.object({message:E.string(),model:E.string(),context:E.object({fileName:E.string().optional(),fileContent:E.string().optional(),selectedCode:E.string().optional(),lineNumber:E.number().optional(),cursorFunctionName:E.string().optional(),lastBacktest:E.object({id:E.number().optional(),strategyName:E.string().optional(),config:E.any().optional()}).optional(),backtestResults:E.object({profit_total:E.number(),win_rate:E.number(),max_drawdown:E.number(),total_trades:E.number(),avg_profit:E.number().optional(),sharpe:E.number().optional()}).optional()}).optional()}),responses:{200:E.object({response:E.string()}),400:Ze.validation,500:Ze.internal}}},diagnostics:{analyze:{method:"POST",path:"/api/diagnostic/analyze",input:E.object({backtestId:E.number(),strategyPath:E.string().optional()}),responses:{202:E.object({jobId:E.string(),status:E.string()}),400:Ze.validation,500:Ze.internal}},job:{method:"GET",path:"/api/diagnostic/jobs/:jobId",responses:{200:E.any(),404:Ze.notFound}},jobResult:{method:"GET",path:"/api/diagnostic/jobs/:jobId/result",responses:{200:E.any(),404:Ze.notFound}},jobs:{method:"GET",path:"/api/diagnostic/jobs",responses:{200:E.array(E.any())}},reports:{method:"GET",path:"/api/diagnostic/reports",responses:{200:E.array(E.any())}}},diagnosticLoop:{start:{method:"POST",path:"/api/diagnostic-loop/start",input:E.object({strategyPath:E.string(),baseConfig:E.any(),timerange:E.string().optional(),pairs:E.array(E.string()).optional(),maxIterations:E.number().int().min(1).max(3).optional(),drawdownCap:E.number().min(0).max(1).optional()}),responses:{202:E.object({runId:E.string(),status:E.string()}),400:Ze.validation,500:Ze.internal}},run:{method:"GET",path:"/api/diagnostic-loop/runs/:runId",responses:{200:E.any(),404:Ze.notFound}},runs:{method:"GET",path:"/api/diagnostic-loop/runs",responses:{200:E.array(E.any())}},stop:{method:"POST",path:"/api/diagnostic-loop/runs/:runId/stop",responses:{200:E.object({success:E.boolean()}).passthrough(),404:Ze.notFound}},report:{method:"GET",path:"/api/diagnostic-loop/runs/:runId/report",responses:{200:E.any(),404:Ze.notFound}}},refinement:{start:{method:"POST",path:"/api/refinement/start",input:E.object({strategyPath:E.string(),baseConfig:E.any(),maxIterations:E.number().int().min(1).max(8).optional(),rolling:E.object({windowDays:E.number().int().min(1),stepDays:E.number().int().min(1).optional(),count:E.number().int().min(1).max(12).optional(),end:E.string().optional()}).optional(),model:E.string().optional()}),responses:{202:E.object({runId:E.string(),status:E.string()}),400:Ze.validation,500:Ze.internal}},runs:{method:"GET",path:"/api/refinement/runs",responses:{200:E.array(E.any())}},run:{method:"GET",path:"/api/refinement/runs/:runId",responses:{200:E.any(),404:Ze.notFound}},stop:{method:"POST",path:"/api/refinement/runs/:runId/stop",responses:{200:E.object({success:E.boolean()}).passthrough(),404:Ze.notFound}},resume:{method:"POST",path:"/api/refinement/runs/:runId/resume",responses:{200:E.object({success:E.boolean(),status:E.string().optional()}).passthrough(),404:Ze.notFound,400:Ze.validation}},rerunBaseline:{method:"POST",path:"/api/refinement/runs/:runId/rerun-baseline",responses:{202:E.object({runId:E.string(),status:E.string()}),404:Ze.notFound,400:Ze.validation}},report:{method:"GET",path:"/api/refinement/runs/:runId/report",responses:{200:E.any(),404:Ze.notFound}}},chat:{sessions:{method:"GET",path:"/api/chat/sessions",responses:{200:E.array(E.custom())}},createSession:{method:"POST",path:"/api/chat/sessions",input:E.object({sessionKey:E.string(),strategyPath:E.string().optional(),backtestId:E.number().optional()}),responses:{201:E.custom(),400:Ze.validation}},messages:{method:"GET",path:"/api/chat/sessions/:id/messages",responses:{200:E.array(E.custom())}},createMessage:{method:"POST",path:"/api/chat/sessions/:id/messages",input:E.object({role:E.string(),content:E.string(),model:E.string().optional(),request:E.any().optional(),response:E.any().optional()}),responses:{201:E.custom(),400:Ze.validation}}},aiActions:{list:{method:"GET",path:"/api/ai-actions",responses:{200:E.array(E.custom())}},get:{method:"GET",path:"/api/ai-actions/:id",responses:{200:E.custom(),404:Ze.notFound}},create:{method:"POST",path:"/api/ai-actions",input:E.object({sessionId:E.number().optional(),messageId:E.number().optional(),actionType:E.string(),description:E.string(),beforeState:E.any().optional(),afterState:E.any().optional(),diff:E.any().optional(),backtestId:E.number().optional(),diagnosticReportId:E.number().optional(),results:E.any().optional()}),responses:{201:E.custom(),400:Ze.validation}},byBacktest:{method:"GET",path:"/api/backtests/:id/ai-actions",responses:{200:E.array(E.custom())}}},data:{download:{method:"POST",path:"/api/data/download",input:E.object({pairs:E.array(E.string()).min(1),timeframes:E.array(E.string()).min(1),date_from:E.string().optional(),date_to:E.string().optional()}),responses:{200:E.object({success:E.boolean(),code:E.number().optional(),command:E.string().optional(),output:E.string().optional(),exchange:E.string().optional(),missing:E.array(E.object({pair:E.string(),timeframe:E.string()})).optional()}),400:Ze.validation,500:Ze.internal}}},agentHandoff:{create:{method:"POST",path:"/api/agent-handoff",input:E.object({runId:E.string(),agentId:E.string(),envelope:E.any()}),responses:{201:E.custom(),400:Ze.validation}},get:{method:"GET",path:"/api/agent-handoff/:runId",responses:{200:E.custom(),404:Ze.notFound}}}};function Oo(e,t){let n=e;return t&&Object.entries(t).forEach(([i,o])=>{n.includes(`:${i}`)&&(n=n.replace(`:${i}`,String(o)))}),n}const UA={},bv=e=>{let t;const n=new Set,i=(h,x)=>{const b=typeof h=="function"?h(t):h;if(!Object.is(b,t)){const k=t;t=x??(typeof b!="object"||b===null)?b:Object.assign({},t,b),n.forEach(C=>C(t,k))}},o=()=>t,m={setState:i,getState:o,getInitialState:()=>g,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(UA?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},g=t=e(i,o,m);return m},WA=e=>e?bv(e):bv;var $f={exports:{}},Bf={},Vf={exports:{}},Uf={};var wv;function qA(){if(wv)return Uf;wv=1;var e=Fo();function t(x,b){return x===b&&(x!==0||1/x===1/b)||x!==x&&b!==b}var n=typeof Object.is=="function"?Object.is:t,i=e.useState,o=e.useEffect,l=e.useLayoutEffect,d=e.useDebugValue;function f(x,b){var k=b(),C=i({inst:{value:k,getSnapshot:b}}),w=C[0].inst,N=C[1];return l(function(){w.value=k,w.getSnapshot=b,m(w)&&N({inst:w})},[x,k,b]),o(function(){return m(w)&&N({inst:w}),x(function(){m(w)&&N({inst:w})})},[x]),d(k),k}function m(x){var b=x.getSnapshot;x=x.value;try{var k=b();return!n(x,k)}catch{return!0}}function g(x,b){return b()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:f;return Uf.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Uf}var Sv;function HA(){return Sv||(Sv=1,Vf.exports=qA()),Vf.exports}var Nv;function QA(){if(Nv)return Bf;Nv=1;var e=Fo(),t=HA();function n(g,h){return g===h&&(g!==0||1/g===1/h)||g!==g&&h!==h}var i=typeof Object.is=="function"?Object.is:n,o=t.useSyncExternalStore,l=e.useRef,d=e.useEffect,f=e.useMemo,m=e.useDebugValue;return Bf.useSyncExternalStoreWithSelector=function(g,h,x,b,k){var C=l(null);if(C.current===null){var w={hasValue:!1,value:null};C.current=w}else w=C.current;C=f(function(){function j(H){if(!P){if(P=!0,A=H,H=b(H),k!==void 0&&w.hasValue){var I=w.value;if(k(I,H))return L=I}return L=H}if(I=L,i(A,H))return I;var J=b(H);return k!==void 0&&k(I,J)?I:(A=H,L=J)}var P=!1,A,L,F=x===void 0?null:x;return[function(){return j(h())},F===null?void 0:function(){return j(F())}]},[h,x,b,k]);var N=o(g,C[0],C[1]);return d(function(){w.hasValue=!0,w.value=N},[N]),m(N),N},Bf}var kv;function KA(){return kv||(kv=1,$f.exports=QA()),$f.exports}var ZA=KA();const GA=Ap(ZA),rw={},{useDebugValue:YA}=Pn,{useSyncExternalStoreWithSelector:XA}=GA;let Cv=!1;const JA=e=>e;function eR(e,t=JA,n){(rw?"production":void 0)!=="production"&&n&&!Cv&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Cv=!0);const i=XA(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return YA(i),i}const tR=e=>{(rw?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?WA(e):e,n=(i,o)=>eR(t,i,o);return Object.assign(n,t),n},nR=e=>tR,rR={};function sR(e,t){let n;try{n=e()}catch{return}return{getItem:o=>{var l;const d=m=>m===null?null:JSON.parse(m,void 0),f=(l=n.getItem(o))!=null?l:null;return f instanceof Promise?f.then(d):d(f)},setItem:(o,l)=>n.setItem(o,JSON.stringify(l,void 0)),removeItem:o=>n.removeItem(o)}}const rl=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(i){return rl(i)(n)},catch(i){return this}}}catch(n){return{then(i){return this},catch(i){return rl(i)(n)}}}},iR=(e,t)=>(n,i,o)=>{let l={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:N=>N,version:0,merge:(N,j)=>({...j,...N}),...t},d=!1;const f=new Set,m=new Set;let g;try{g=l.getStorage()}catch{}if(!g)return e((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...N)},i,o);const h=rl(l.serialize),x=()=>{const N=l.partialize({...i()});let j;const P=h({state:N,version:l.version}).then(A=>g.setItem(l.name,A)).catch(A=>{j=A});if(j)throw j;return P},b=o.setState;o.setState=(N,j)=>{b(N,j),x()};const k=e((...N)=>{n(...N),x()},i,o);let C;const w=()=>{var N;if(!g)return;d=!1,f.forEach(P=>P(i()));const j=((N=l.onRehydrateStorage)==null?void 0:N.call(l,i()))||void 0;return rl(g.getItem.bind(g))(l.name).then(P=>{if(P)return l.deserialize(P)}).then(P=>{if(P)if(typeof P.version=="number"&&P.version!==l.version){if(l.migrate)return l.migrate(P.state,P.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return P.state}).then(P=>{var A;return C=l.merge(P,(A=i())!=null?A:k),n(C,!0),x()}).then(()=>{j?.(C,void 0),d=!0,m.forEach(P=>P(C))}).catch(P=>{j?.(void 0,P)})};return o.persist={setOptions:N=>{l={...l,...N},N.getStorage&&(g=N.getStorage())},clearStorage:()=>{g?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>w(),hasHydrated:()=>d,onHydrate:N=>(f.add(N),()=>{f.delete(N)}),onFinishHydration:N=>(m.add(N),()=>{m.delete(N)})},w(),C||k},oR=(e,t)=>(n,i,o)=>{let l={storage:sR(()=>localStorage),partialize:w=>w,version:0,merge:(w,N)=>({...N,...w}),...t},d=!1;const f=new Set,m=new Set;let g=l.storage;if(!g)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...w)},i,o);const h=()=>{const w=l.partialize({...i()});return g.setItem(l.name,{state:w,version:l.version})},x=o.setState;o.setState=(w,N)=>{x(w,N),h()};const b=e((...w)=>{n(...w),h()},i,o);o.getInitialState=()=>b;let k;const C=()=>{var w,N;if(!g)return;d=!1,f.forEach(P=>{var A;return P((A=i())!=null?A:b)});const j=((N=l.onRehydrateStorage)==null?void 0:N.call(l,(w=i())!=null?w:b))||void 0;return rl(g.getItem.bind(g))(l.name).then(P=>{if(P)if(typeof P.version=="number"&&P.version!==l.version){if(l.migrate)return l.migrate(P.state,P.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return P.state}).then(P=>{var A;return k=l.merge(P,(A=i())!=null?A:b),n(k,!0),h()}).then(()=>{j?.(k,void 0),k=i(),d=!0,m.forEach(P=>P(k))}).catch(P=>{j?.(void 0,P)})};return o.persist={setOptions:w=>{l={...l,...w},w.storage&&(g=w.storage)},clearStorage:()=>{g?.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>C(),hasHydrated:()=>d,onHydrate:w=>(f.add(w),()=>{f.delete(w)}),onFinishHydration:w=>(m.add(w),()=>{m.delete(w)})},l.skipHydration||C(),k||b},aR=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((rR?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),iR(e,t)):oR(e,t),lR=aR,sw=nR()(lR(e=>({selectedModel:"google/gemma-2-9b-it:free",setSelectedModel:t=>e({selectedModel:t})}),{name:"ai-storage"}));function gm(){return ti({queryKey:[lt.ai.models.path],staleTime:0,refetchOnMount:!0,queryFn:async()=>{const e=await fetch(lt.ai.models.path,{credentials:"include"});return e.ok?lt.ai.models.responses[200].parse(await e.json()):[]}})}function cR(){const{selectedModel:e,setSelectedModel:t}=sw(),{data:n}=gm(),i=y.useMemo(()=>{const l=n?.[0]?.id;return typeof l=="string"&&l.trim()?l:"google/gemma-2-9b-it:free"},[n]),o=y.useMemo(()=>{const l=typeof e=="string"?e.trim():"";return l?Array.isArray(n)&&n.length>0?n.some(f=>f.id===l)?l:i:l:i},[e,n,i]);return y.useEffect(()=>{o&&o!==e&&t(o)},[o,e,t]),o}var Wf="focusScope.autoFocusOnMount",qf="focusScope.autoFocusOnUnmount",jv={bubbles:!1,cancelable:!0},uR="FocusScope",ym=y.forwardRef((e,t)=>{const{loop:n=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...d}=e,[f,m]=y.useState(null),g=Kt(o),h=Kt(l),x=y.useRef(null),b=_t(t,w=>m(w)),k=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(i){let w=function(A){if(k.paused||!f)return;const L=A.target;f.contains(L)?x.current=L:Us(x.current,{select:!0})},N=function(A){if(k.paused||!f)return;const L=A.relatedTarget;L!==null&&(f.contains(L)||Us(x.current,{select:!0}))},j=function(A){if(document.activeElement===document.body)for(const F of A)F.removedNodes.length>0&&Us(f)};document.addEventListener("focusin",w),document.addEventListener("focusout",N);const P=new MutationObserver(j);return f&&P.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",N),P.disconnect()}}},[i,f,k.paused]),y.useEffect(()=>{if(f){Ev.add(k);const w=document.activeElement;if(!f.contains(w)){const j=new CustomEvent(Wf,jv);f.addEventListener(Wf,g),f.dispatchEvent(j),j.defaultPrevented||(dR(gR(iw(f)),{select:!0}),document.activeElement===w&&Us(f))}return()=>{f.removeEventListener(Wf,g),setTimeout(()=>{const j=new CustomEvent(qf,jv);f.addEventListener(qf,h),f.dispatchEvent(j),j.defaultPrevented||Us(w??document.body,{select:!0}),f.removeEventListener(qf,h),Ev.remove(k)},0)}}},[f,g,h,k]);const C=y.useCallback(w=>{if(!n&&!i||k.paused)return;const N=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,j=document.activeElement;if(N&&j){const P=w.currentTarget,[A,L]=fR(P);A&&L?!w.shiftKey&&j===L?(w.preventDefault(),n&&Us(A,{select:!0})):w.shiftKey&&j===A&&(w.preventDefault(),n&&Us(L,{select:!0})):j===P&&w.preventDefault()}},[n,i,k.paused]);return c.jsx(ct.div,{tabIndex:-1,...d,ref:b,onKeyDown:C})});ym.displayName=uR;function dR(e,{select:t=!1}={}){const n=document.activeElement;for(const i of e)if(Us(i,{select:t}),document.activeElement!==n)return}function fR(e){const t=iw(e),n=_v(t,e),i=_v(t.reverse(),e);return[n,i]}function iw(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function _v(e,t){for(const n of e)if(!pR(n,{upTo:t}))return n}function pR(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function mR(e){return e instanceof HTMLInputElement&&"select"in e}function Us(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&mR(e)&&t&&e.select()}}var Ev=hR();function hR(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Pv(e,t),e.unshift(t)},remove(t){e=Pv(e,t),e[0]?.resume()}}}function Pv(e,t){const n=[...e],i=n.indexOf(t);return i!==-1&&n.splice(i,1),n}function gR(e){return e.filter(t=>t.tagName!=="A")}var Hf=0;function ow(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Tv()),document.body.insertAdjacentElement("beforeend",e[1]??Tv()),Hf++,()=>{Hf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Hf--}},[])}function Tv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ur=function(){return Ur=Object.assign||function(t){for(var n,i=1,o=arguments.length;i<o;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},Ur.apply(this,arguments)};function aw(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n}function yR(e,t,n){if(n||arguments.length===2)for(var i=0,o=t.length,l;i<o;i++)(l||!(i in t))&&(l||(l=Array.prototype.slice.call(t,0,i)),l[i]=t[i]);return e.concat(l||Array.prototype.slice.call(t))}var Fc="right-scroll-bar-position",zc="width-before-scroll-bar",vR="with-scroll-bars-hidden",xR="--removed-body-scroll-bar-size";function Qf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function bR(e,t){var n=y.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(i){var o=n.value;o!==i&&(n.value=i,n.callback(i,o))}}}})[0];return n.callback=t,n.facade}var wR=typeof window<"u"?y.useLayoutEffect:y.useEffect,Av=new WeakMap;function SR(e,t){var n=bR(null,function(i){return e.forEach(function(o){return Qf(o,i)})});return wR(function(){var i=Av.get(n);if(i){var o=new Set(i),l=new Set(e),d=n.current;o.forEach(function(f){l.has(f)||Qf(f,null)}),l.forEach(function(f){o.has(f)||Qf(f,d)})}Av.set(n,e)},[e]),n}function NR(e){return e}function kR(e,t){t===void 0&&(t=NR);var n=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var d=t(l,i);return n.push(d),function(){n=n.filter(function(f){return f!==d})}},assignSyncMedium:function(l){for(i=!0;n.length;){var d=n;n=[],d.forEach(l)}n={push:function(f){return l(f)},filter:function(){return n}}},assignMedium:function(l){i=!0;var d=[];if(n.length){var f=n;n=[],f.forEach(l),d=n}var m=function(){var h=d;d=[],h.forEach(l)},g=function(){return Promise.resolve().then(m)};g(),n={push:function(h){d.push(h),g()},filter:function(h){return d=d.filter(h),n}}}};return o}function CR(e){e===void 0&&(e={});var t=kR(null);return t.options=Ur({async:!0,ssr:!1},e),t}var lw=function(e){var t=e.sideCar,n=aw(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return y.createElement(i,Ur({},n))};lw.isSideCarExport=!0;function jR(e,t){return e.useMedium(t),lw}var cw=CR(),Kf=function(){},Lu=y.forwardRef(function(e,t){var n=y.useRef(null),i=y.useState({onScrollCapture:Kf,onWheelCapture:Kf,onTouchMoveCapture:Kf}),o=i[0],l=i[1],d=e.forwardProps,f=e.children,m=e.className,g=e.removeScrollBar,h=e.enabled,x=e.shards,b=e.sideCar,k=e.noIsolation,C=e.inert,w=e.allowPinchZoom,N=e.as,j=N===void 0?"div":N,P=e.gapMode,A=aw(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=b,F=SR([n,t]),H=Ur(Ur({},A),o);return y.createElement(y.Fragment,null,h&&y.createElement(L,{sideCar:cw,removeScrollBar:g,shards:x,noIsolation:k,inert:C,setCallbacks:l,allowPinchZoom:!!w,lockRef:n,gapMode:P}),d?y.cloneElement(y.Children.only(f),Ur(Ur({},H),{ref:F})):y.createElement(j,Ur({},H,{className:m,ref:F}),f))});Lu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lu.classNames={fullWidth:zc,zeroRight:Fc};var _R=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ER(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=_R();return t&&e.setAttribute("nonce",t),e}function PR(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function TR(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var AR=function(){var e=0,t=null;return{add:function(n){e==0&&(t=ER())&&(PR(t,n),TR(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},RR=function(){var e=AR();return function(t,n){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},uw=function(){var e=RR(),t=function(n){var i=n.styles,o=n.dynamic;return e(i,o),null};return t},IR={left:0,top:0,right:0,gap:0},Zf=function(e){return parseInt(e||"",10)||0},LR=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[Zf(n),Zf(i),Zf(o)]},OR=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return IR;var t=LR(e),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-n+t[2]-t[0])}},MR=uw(),jo="data-scroll-locked",DR=function(e,t,n,i){var o=e.left,l=e.top,d=e.right,f=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(vR,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(f,"px ").concat(i,`;
  }
  body[`).concat(jo,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(f,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fc,` {
    right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(zc,` {
    margin-right: `).concat(f,"px ").concat(i,`;
  }
  
  .`).concat(Fc," .").concat(Fc,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(zc," .").concat(zc,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(jo,`] {
    `).concat(xR,": ").concat(f,`px;
  }
`)},Rv=function(){var e=parseInt(document.body.getAttribute(jo)||"0",10);return isFinite(e)?e:0},FR=function(){y.useEffect(function(){return document.body.setAttribute(jo,(Rv()+1).toString()),function(){var e=Rv()-1;e<=0?document.body.removeAttribute(jo):document.body.setAttribute(jo,e.toString())}},[])},zR=function(e){var t=e.noRelative,n=e.noImportant,i=e.gapMode,o=i===void 0?"margin":i;FR();var l=y.useMemo(function(){return OR(o)},[o]);return y.createElement(MR,{styles:DR(l,!t,o,n?"":"!important")})},_p=!1;if(typeof window<"u")try{var _c=Object.defineProperty({},"passive",{get:function(){return _p=!0,!0}});window.addEventListener("test",_c,_c),window.removeEventListener("test",_c,_c)}catch{_p=!1}var ao=_p?{passive:!1}:!1,$R=function(e){return e.tagName==="TEXTAREA"},dw=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!$R(e)&&n[t]==="visible")},BR=function(e){return dw(e,"overflowY")},VR=function(e){return dw(e,"overflowX")},Iv=function(e,t){var n=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=fw(e,i);if(o){var l=pw(e,i),d=l[1],f=l[2];if(d>f)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},UR=function(e){var t=e.scrollTop,n=e.scrollHeight,i=e.clientHeight;return[t,n,i]},WR=function(e){var t=e.scrollLeft,n=e.scrollWidth,i=e.clientWidth;return[t,n,i]},fw=function(e,t){return e==="v"?BR(t):VR(t)},pw=function(e,t){return e==="v"?UR(t):WR(t)},qR=function(e,t){return e==="h"&&t==="rtl"?-1:1},HR=function(e,t,n,i,o){var l=qR(e,window.getComputedStyle(t).direction),d=l*i,f=n.target,m=t.contains(f),g=!1,h=d>0,x=0,b=0;do{var k=pw(e,f),C=k[0],w=k[1],N=k[2],j=w-N-l*C;(C||j)&&fw(e,f)&&(x+=j,b+=C),f instanceof ShadowRoot?f=f.host:f=f.parentNode}while(!m&&f!==document.body||m&&(t.contains(f)||t===f));return(h&&Math.abs(x)<1||!h&&Math.abs(b)<1)&&(g=!0),g},Ec=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Lv=function(e){return[e.deltaX,e.deltaY]},Ov=function(e){return e&&"current"in e?e.current:e},QR=function(e,t){return e[0]===t[0]&&e[1]===t[1]},KR=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},ZR=0,lo=[];function GR(e){var t=y.useRef([]),n=y.useRef([0,0]),i=y.useRef(),o=y.useState(ZR++)[0],l=y.useState(uw)[0],d=y.useRef(e);y.useEffect(function(){d.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var w=yR([e.lockRef.current],(e.shards||[]).map(Ov),!0).filter(Boolean);return w.forEach(function(N){return N.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),w.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var f=y.useCallback(function(w,N){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!d.current.allowPinchZoom;var j=Ec(w),P=n.current,A="deltaX"in w?w.deltaX:P[0]-j[0],L="deltaY"in w?w.deltaY:P[1]-j[1],F,H=w.target,I=Math.abs(A)>Math.abs(L)?"h":"v";if("touches"in w&&I==="h"&&H.type==="range")return!1;var J=Iv(I,H);if(!J)return!0;if(J?F=I:(F=I==="v"?"h":"v",J=Iv(I,H)),!J)return!1;if(!i.current&&"changedTouches"in w&&(A||L)&&(i.current=F),!F)return!0;var se=i.current||F;return HR(se,N,w,se==="h"?A:L)},[]),m=y.useCallback(function(w){var N=w;if(!(!lo.length||lo[lo.length-1]!==l)){var j="deltaY"in N?Lv(N):Ec(N),P=t.current.filter(function(F){return F.name===N.type&&(F.target===N.target||N.target===F.shadowParent)&&QR(F.delta,j)})[0];if(P&&P.should){N.cancelable&&N.preventDefault();return}if(!P){var A=(d.current.shards||[]).map(Ov).filter(Boolean).filter(function(F){return F.contains(N.target)}),L=A.length>0?f(N,A[0]):!d.current.noIsolation;L&&N.cancelable&&N.preventDefault()}}},[]),g=y.useCallback(function(w,N,j,P){var A={name:w,delta:N,target:j,should:P,shadowParent:YR(j)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(L){return L!==A})},1)},[]),h=y.useCallback(function(w){n.current=Ec(w),i.current=void 0},[]),x=y.useCallback(function(w){g(w.type,Lv(w),w.target,f(w,e.lockRef.current))},[]),b=y.useCallback(function(w){g(w.type,Ec(w),w.target,f(w,e.lockRef.current))},[]);y.useEffect(function(){return lo.push(l),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:b}),document.addEventListener("wheel",m,ao),document.addEventListener("touchmove",m,ao),document.addEventListener("touchstart",h,ao),function(){lo=lo.filter(function(w){return w!==l}),document.removeEventListener("wheel",m,ao),document.removeEventListener("touchmove",m,ao),document.removeEventListener("touchstart",h,ao)}},[]);var k=e.removeScrollBar,C=e.inert;return y.createElement(y.Fragment,null,C?y.createElement(l,{styles:KR(o)}):null,k?y.createElement(zR,{gapMode:e.gapMode}):null)}function YR(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const XR=jR(cw,GR);var vm=y.forwardRef(function(e,t){return y.createElement(Lu,Ur({},e,{ref:t,sideCar:XR}))});vm.classNames=Lu.classNames;var JR=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},co=new WeakMap,Pc=new WeakMap,Tc={},Gf=0,mw=function(e){return e&&(e.host||mw(e.parentNode))},eI=function(e,t){return t.map(function(n){if(e.contains(n))return n;var i=mw(n);return i&&e.contains(i)?i:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},tI=function(e,t,n,i){var o=eI(t,Array.isArray(e)?e:[e]);Tc[n]||(Tc[n]=new WeakMap);var l=Tc[n],d=[],f=new Set,m=new Set(o),g=function(x){!x||f.has(x)||(f.add(x),g(x.parentNode))};o.forEach(g);var h=function(x){!x||m.has(x)||Array.prototype.forEach.call(x.children,function(b){if(f.has(b))h(b);else try{var k=b.getAttribute(i),C=k!==null&&k!=="false",w=(co.get(b)||0)+1,N=(l.get(b)||0)+1;co.set(b,w),l.set(b,N),d.push(b),w===1&&C&&Pc.set(b,!0),N===1&&b.setAttribute(n,"true"),C||b.setAttribute(i,"true")}catch(j){console.error("aria-hidden: cannot operate on ",b,j)}})};return h(t),f.clear(),Gf++,function(){d.forEach(function(x){var b=co.get(x)-1,k=l.get(x)-1;co.set(x,b),l.set(x,k),b||(Pc.has(x)||x.removeAttribute(i),Pc.delete(x)),k||x.removeAttribute(n)}),Gf--,Gf||(co=new WeakMap,co=new WeakMap,Pc=new WeakMap,Tc={})}},hw=function(e,t,n){n===void 0&&(n="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),o=JR(e);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live]"))),tI(i,o,n,"aria-hidden")):function(){return null}},xm="Dialog",[gw]=Zr(xm),[nI,Or]=gw(xm),yw=e=>{const{__scopeDialog:t,children:n,open:i,defaultOpen:o,onOpenChange:l,modal:d=!0}=e,f=y.useRef(null),m=y.useRef(null),[g=!1,h]=$o({prop:i,defaultProp:o,onChange:l});return c.jsx(nI,{scope:t,triggerRef:f,contentRef:m,contentId:xo(),titleId:xo(),descriptionId:xo(),open:g,onOpenChange:h,onOpenToggle:y.useCallback(()=>h(x=>!x),[h]),modal:d,children:n})};yw.displayName=xm;var vw="DialogTrigger",rI=y.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,o=Or(vw,n),l=_t(t,o.triggerRef);return c.jsx(ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Sm(o.open),...i,ref:l,onClick:Qe(e.onClick,o.onOpenToggle)})});rI.displayName=vw;var bm="DialogPortal",[sI,xw]=gw(bm,{forceMount:void 0}),bw=e=>{const{__scopeDialog:t,forceMount:n,children:i,container:o}=e,l=Or(bm,t);return c.jsx(sI,{scope:t,forceMount:n,children:y.Children.map(i,d=>c.jsx(Un,{present:n||l.open,children:c.jsx(hu,{asChild:!0,container:o,children:d})}))})};bw.displayName=bm;var au="DialogOverlay",ww=y.forwardRef((e,t)=>{const n=xw(au,e.__scopeDialog),{forceMount:i=n.forceMount,...o}=e,l=Or(au,e.__scopeDialog);return l.modal?c.jsx(Un,{present:i||l.open,children:c.jsx(oI,{...o,ref:t})}):null});ww.displayName=au;var iI=_o("DialogOverlay.RemoveScroll"),oI=y.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,o=Or(au,n);return c.jsx(vm,{as:iI,allowPinchZoom:!0,shards:[o.contentRef],children:c.jsx(ct.div,{"data-state":Sm(o.open),...i,ref:t,style:{pointerEvents:"auto",...i.style}})})}),Li="DialogContent",Sw=y.forwardRef((e,t)=>{const n=xw(Li,e.__scopeDialog),{forceMount:i=n.forceMount,...o}=e,l=Or(Li,e.__scopeDialog);return c.jsx(Un,{present:i||l.open,children:l.modal?c.jsx(aI,{...o,ref:t}):c.jsx(lI,{...o,ref:t})})});Sw.displayName=Li;var aI=y.forwardRef((e,t)=>{const n=Or(Li,e.__scopeDialog),i=y.useRef(null),o=_t(t,n.contentRef,i);return y.useEffect(()=>{const l=i.current;if(l)return hw(l)},[]),c.jsx(Nw,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Qe(e.onCloseAutoFocus,l=>{l.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Qe(e.onPointerDownOutside,l=>{const d=l.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0;(d.button===2||f)&&l.preventDefault()}),onFocusOutside:Qe(e.onFocusOutside,l=>l.preventDefault())})}),lI=y.forwardRef((e,t)=>{const n=Or(Li,e.__scopeDialog),i=y.useRef(!1),o=y.useRef(!1);return c.jsx(Nw,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(i.current||n.triggerRef.current?.focus(),l.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(i.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const d=l.target;n.triggerRef.current?.contains(d)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),Nw=y.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:l,...d}=e,f=Or(Li,n),m=y.useRef(null),g=_t(t,m);return ow(),c.jsxs(c.Fragment,{children:[c.jsx(ym,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:l,children:c.jsx(ll,{role:"dialog",id:f.contentId,"aria-describedby":f.descriptionId,"aria-labelledby":f.titleId,"data-state":Sm(f.open),...d,ref:g,onDismiss:()=>f.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(cI,{titleId:f.titleId}),c.jsx(dI,{contentRef:m,descriptionId:f.descriptionId})]})]})}),wm="DialogTitle",kw=y.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,o=Or(wm,n);return c.jsx(ct.h2,{id:o.titleId,...i,ref:t})});kw.displayName=wm;var Cw="DialogDescription",jw=y.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,o=Or(Cw,n);return c.jsx(ct.p,{id:o.descriptionId,...i,ref:t})});jw.displayName=Cw;var _w="DialogClose",Ew=y.forwardRef((e,t)=>{const{__scopeDialog:n,...i}=e,o=Or(_w,n);return c.jsx(ct.button,{type:"button",...i,ref:t,onClick:Qe(e.onClick,()=>o.onOpenChange(!1))})});Ew.displayName=_w;function Sm(e){return e?"open":"closed"}var Pw="DialogTitleWarning",[XO,Tw]=Dk(Pw,{contentName:Li,titleName:wm,docsSlug:"dialog"}),cI=({titleId:e})=>{const t=Tw(Pw),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},uI="DialogDescriptionWarning",dI=({contentRef:e,descriptionId:t})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Tw(uI).contentName}}.`;return y.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null},fI=yw,pI=bw,Aw=ww,Rw=Sw,Iw=kw,Lw=jw,mI=Ew;const Ow=fI,hI=pI,Mw=y.forwardRef(({className:e,...t},n)=>c.jsx(Aw,{ref:n,className:Ce("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Mw.displayName=Aw.displayName;const Nm=y.forwardRef(({className:e,children:t,...n},i)=>c.jsxs(hI,{children:[c.jsx(Mw,{}),c.jsxs(Rw,{ref:i,className:Ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,c.jsxs(mI,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(xu,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Nm.displayName=Rw.displayName;const km=({className:e,...t})=>c.jsx("div",{className:Ce("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});km.displayName="DialogHeader";const Cm=({className:e,...t})=>c.jsx("div",{className:Ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Cm.displayName="DialogFooter";const jm=y.forwardRef(({className:e,...t},n)=>c.jsx(Iw,{ref:n,className:Ce("text-lg font-semibold leading-none tracking-tight",e),...t}));jm.displayName=Iw.displayName;const ho=y.forwardRef(({className:e,...t},n)=>c.jsx(Lw,{ref:n,className:Ce("text-sm text-muted-foreground",e),...t}));ho.displayName=Lw.displayName;const gI=Bp("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function Ot({className:e,variant:t,...n}){return c.jsx("div",{className:Ce(gI({variant:t}),e),...n})}const yI=e=>{const t=String(e||"").toLowerCase();return t.includes("code")?c.jsx(Ei,{className:"w-3 h-3"}):t.includes("config")?c.jsx(Ei,{className:"w-3 h-3"}):t.includes("backtest")?c.jsx(Up,{className:"w-3 h-3"}):t.includes("diagnostic")?c.jsx(Vp,{className:"w-3 h-3"}):c.jsx(KC,{className:"w-3 h-3"})},vI=e=>{if(!e)return"";const t=typeof e=="string"?new Date(e):e;return Number.isNaN(t.getTime())?"":t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};function xI({actions:e,variant:t="full"}){if(!Array.isArray(e)||e.length===0)return null;const n=e.slice(0,t==="compact"?6:20);return c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(AC,{className:"w-3 h-3 text-muted-foreground"}),c.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"AI Actions"})]}),c.jsx("div",{className:Ce("space-y-2",t==="compact"&&"text-xs"),children:n.map(i=>c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx("div",{className:"mt-0.5 text-primary",children:yI(i.actionType)}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"text-xs font-medium text-foreground",children:i.description||i.actionType||"AI action"}),c.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-muted-foreground",children:[i.actionType&&c.jsx(Ot,{variant:"outline",children:i.actionType}),c.jsx("span",{children:vI(i.createdAt)})]})]})]},String(i.id)))}),t==="compact"&&e.length>n.length&&c.jsxs("div",{className:"text-[10px] text-muted-foreground",children:["Showing latest ",n.length," actions"]})]})}var _m="Popover",[Dw]=Zr(_m,[Nu]),pl=Nu(),[bI,ni]=Dw(_m),Fw=e=>{const{__scopePopover:t,children:n,open:i,defaultOpen:o,onOpenChange:l,modal:d=!1}=e,f=pl(t),m=y.useRef(null),[g,h]=y.useState(!1),[x=!1,b]=$o({prop:i,defaultProp:o,onChange:l});return c.jsx(F_,{...f,children:c.jsx(bI,{scope:t,contentId:xo(),triggerRef:m,open:x,onOpenChange:b,onOpenToggle:y.useCallback(()=>b(k=>!k),[b]),hasCustomAnchor:g,onCustomAnchorAdd:y.useCallback(()=>h(!0),[]),onCustomAnchorRemove:y.useCallback(()=>h(!1),[]),modal:d,children:n})})};Fw.displayName=_m;var zw="PopoverAnchor",wI=y.forwardRef((e,t)=>{const{__scopePopover:n,...i}=e,o=ni(zw,n),l=pl(n),{onCustomAnchorAdd:d,onCustomAnchorRemove:f}=o;return y.useEffect(()=>(d(),()=>f()),[d,f]),c.jsx(nm,{...l,...i,ref:t})});wI.displayName=zw;var $w="PopoverTrigger",Bw=y.forwardRef((e,t)=>{const{__scopePopover:n,...i}=e,o=ni($w,n),l=pl(n),d=_t(t,o.triggerRef),f=c.jsx(ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Hw(o.open),...i,ref:d,onClick:Qe(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?f:c.jsx(nm,{asChild:!0,...l,children:f})});Bw.displayName=$w;var Em="PopoverPortal",[SI,NI]=Dw(Em,{forceMount:void 0}),Vw=e=>{const{__scopePopover:t,forceMount:n,children:i,container:o}=e,l=ni(Em,t);return c.jsx(SI,{scope:t,forceMount:n,children:c.jsx(Un,{present:n||l.open,children:c.jsx(hu,{asChild:!0,container:o,children:i})})})};Vw.displayName=Em;var Mo="PopoverContent",Uw=y.forwardRef((e,t)=>{const n=NI(Mo,e.__scopePopover),{forceMount:i=n.forceMount,...o}=e,l=ni(Mo,e.__scopePopover);return c.jsx(Un,{present:i||l.open,children:l.modal?c.jsx(CI,{...o,ref:t}):c.jsx(jI,{...o,ref:t})})});Uw.displayName=Mo;var kI=_o("PopoverContent.RemoveScroll"),CI=y.forwardRef((e,t)=>{const n=ni(Mo,e.__scopePopover),i=y.useRef(null),o=_t(t,i),l=y.useRef(!1);return y.useEffect(()=>{const d=i.current;if(d)return hw(d)},[]),c.jsx(vm,{as:kI,allowPinchZoom:!0,children:c.jsx(Ww,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Qe(e.onCloseAutoFocus,d=>{d.preventDefault(),l.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Qe(e.onPointerDownOutside,d=>{const f=d.detail.originalEvent,m=f.button===0&&f.ctrlKey===!0,g=f.button===2||m;l.current=g},{checkForDefaultPrevented:!1}),onFocusOutside:Qe(e.onFocusOutside,d=>d.preventDefault(),{checkForDefaultPrevented:!1})})})}),jI=y.forwardRef((e,t)=>{const n=ni(Mo,e.__scopePopover),i=y.useRef(!1),o=y.useRef(!1);return c.jsx(Ww,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(i.current||n.triggerRef.current?.focus(),l.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(i.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const d=l.target;n.triggerRef.current?.contains(d)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),Ww=y.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:d,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:g,onInteractOutside:h,...x}=e,b=ni(Mo,n),k=pl(n);return ow(),c.jsx(ym,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:l,children:c.jsx(ll,{asChild:!0,disableOutsidePointerEvents:d,onInteractOutside:h,onEscapeKeyDown:f,onPointerDownOutside:m,onFocusOutside:g,onDismiss:()=>b.onOpenChange(!1),children:c.jsx(L0,{"data-state":Hw(b.open),role:"dialog",id:b.contentId,...k,...x,ref:t,style:{...x.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),qw="PopoverClose",_I=y.forwardRef((e,t)=>{const{__scopePopover:n,...i}=e,o=ni(qw,n);return c.jsx(ct.button,{type:"button",...i,ref:t,onClick:Qe(e.onClick,()=>o.onOpenChange(!1))})});_I.displayName=qw;var EI="PopoverArrow",PI=y.forwardRef((e,t)=>{const{__scopePopover:n,...i}=e,o=pl(n);return c.jsx(O0,{...o,...i,ref:t})});PI.displayName=EI;function Hw(e){return e?"open":"closed"}var TI=Fw,AI=Bw,RI=Vw,Qw=Uw;const Kw=TI,Zw=AI,Pm=y.forwardRef(({className:e,align:t="center",sideOffset:n=4,...i},o)=>c.jsx(RI,{children:c.jsx(Qw,{ref:o,align:t,sideOffset:n,className:Ce("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...i})}));Pm.displayName=Qw.displayName;function II(e){if(e instanceof Error)return e.message||String(e);if(typeof e=="string")return e;try{return JSON.stringify(e)}catch{return String(e)}}const Mv=new Set;function Ep(e,t,n){const i=II(t),o=typeof n?.description=="string"&&n.description.trim()?n.description:i;console.error(e,t),n?.showToast!==!1&&kx({variant:"destructive",title:e,description:o})}function Qt(e,t,n,i){const o=String(e||"").trim();if(o&&Mv.has(o)){console.error(t,n);return}o&&Mv.add(o),Ep(t,n,i)}function LI({isOpen:e,onClose:t,items:n,onSelect:i,position:o}){const[l,d]=y.useState(0),f=y.useRef(null);if(y.useEffect(()=>{e&&d(0)},[e]),y.useEffect(()=>{const h=x=>{if(e)switch(x.key){case"ArrowDown":x.preventDefault(),d(b=>(b+1)%n.length);break;case"ArrowUp":x.preventDefault(),d(b=>(b-1+n.length)%n.length);break;case"Enter":x.preventDefault(),i(n[l]);break;case"Escape":t();break}};return window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[e,n,l,i,t]),y.useEffect(()=>{const h=x=>{f.current&&!f.current.contains(x.target)&&t()};return e&&window.addEventListener("mousedown",h),()=>window.removeEventListener("mousedown",h)},[e,t]),!e||n.length===0)return null;const g=o||{top:-280,left:0};return c.jsxs("div",{ref:f,className:Ce("absolute z-50 w-64 rounded-lg border border-border/50","bg-background/95 backdrop-blur-xl shadow-xl","overflow-hidden animate-in fade-in zoom-in-95 duration-150"),style:{top:g.top,left:g.left},children:[c.jsx("div",{className:"px-3 py-2 border-b border-border/30 bg-muted/30",children:c.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Mention"})}),c.jsx("div",{className:"py-1",children:n.map((h,x)=>c.jsxs("button",{onClick:()=>i(h),className:Ce("w-full flex items-center gap-3 px-3 py-2.5 text-left","transition-colors duration-75","hover:bg-primary/10",x===l&&"bg-primary/10"),children:[c.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-md bg-primary/10 flex items-center justify-center text-primary",children:h.icon}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-sm font-medium truncate",children:h.label}),h.description&&c.jsx("div",{className:"text-xs text-muted-foreground truncate",children:h.description})]})]},h.id))})]})}const OI=e=>[{id:"web",label:"Web",icon:c.jsx(DC,{className:"w-3.5 h-3.5"}),description:"Search the web for information",action:e.onWebSearch||(()=>{})},...e.fileName||e.backtestResults?[{id:"context",label:"Context",icon:c.jsx(pp,{className:"w-3.5 h-3.5"}),description:e.fileName&&e.backtestResults?"Include file + backtest results":e.fileName?"Include current file":"Include backtest results",action:e.onIncludeContext||(()=>{})}]:[],...e.selectedCode?[{id:"code",label:"Selected Code",icon:c.jsx(Ei,{className:"w-3.5 h-3.5"}),description:"Include selected code snippet",action:e.onIncludeCode||(()=>{})}]:[],{id:"ai",label:"AI Agent",icon:c.jsx(Ma,{className:"w-3.5 h-3.5"}),description:"Use AI agent for complex tasks",action:()=>{}}];function cs(){try{const e=globalThis?.crypto;if(e?.randomUUID)return e.randomUUID();if(e?.getRandomValues){const t=new Uint8Array(16);e.getRandomValues(t),t[6]=t[6]&15|64,t[8]=t[8]&63|128;const n=Array.from(t,i=>i.toString(16).padStart(2,"0"));return`${n.slice(0,4).join("")}-${n.slice(4,6).join("")}-${n.slice(6,8).join("")}-${n.slice(8,10).join("")}-${n.slice(10,16).join("")}`}}catch(e){console.error("createMessageId failed:",e)}return`${Date.now().toString(16)}-${Math.random().toString(16).slice(2)}-${Math.random().toString(16).slice(2)}`}const MI=e=>{const t=String(e.lang||"").trim().toLowerCase();if(t!=="action"&&t!=="actions"&&t!=="tool"&&t!=="run"||!e.code||!String(e.code).trim())return null;try{const n=JSON.parse(e.code);if(!n||typeof n!="object"||Array.isArray(n))return null;const i=typeof n.action=="string"?String(n.action):"";if(!i)return null;const o=n.payload,l=typeof n.label=="string"?String(n.label):void 0;return{action:i,payload:o,label:l}}catch(n){return Qt("chat:parseActionBlock","Failed to parse action block",n,{showToast:!1}),null}},Dv=e=>{const t=/```\s*([a-zA-Z0-9_-]*)\n([\s\S]*?)```/g,n=[];let i;for(;(i=t.exec(e))!==null;)n.push({lang:String(i[1]||"").trim().toLowerCase(),code:i[2]});return n},Fv=e=>{const t=String(e||""),n=t.toLowerCase().indexOf("choices:");if(n===-1)return[];const o=t.slice(n+8).split(/\r?\n/).map(d=>d.trim()).filter(Boolean),l=[];for(const d of o){const f=d.match(/^(\d+)\)\s+(.*)$/);if(!f){if(l.length>0)break;continue}const m=f[1],g=String(f[2]||"").trim();if(g&&(l.push({label:m,value:g}),l.length>=4))break}return l.length>=2?l:[]},DI=e=>{const t=String(e.lang||"").toLowerCase();if(t!=="python"&&t!=="py")return!1;const n=String(e.code||""),i=n.split(/\r?\n/).filter(l=>l.trim().length>0);if(i.length===0)return!1;const o=i.filter(l=>!l.trim().startsWith("#"));return o.length===0?!1:!!(/\bdef\s+[A-Za-z_][A-Za-z0-9_]*\s*\(/.test(n)||/\bclass\s+[A-Za-z_][A-Za-z0-9_]*\b/.test(n)||o.length>=6)},FI=e=>{const t=new Set(["strategy","timeframe","stake_amount","max_open_trades","tradable_balance_ratio","trailing_stop","trailing_stop_positive","trailing_stop_positive_offset","trailing_only_offset_is_reached","minimal_roi","stoploss","backtest_date_from","backtest_date_to","pairs"]);if(!e.code||!String(e.code).trim())return null;const n=e.lang==="json"||e.lang==="config"||e.lang==="configjson"||e.lang==="config.json";try{const i=JSON.parse(e.code);if(!i||typeof i!="object"||Array.isArray(i))return null;const o={};for(const[l,d]of Object.entries(i))t.has(l)&&(o[l]=d);return Object.keys(o).length>0?o:n?{}:null}catch{return n?{}:null}},sl=e=>{const t=String(e||"").match(/\bdef\s+([A-Za-z_][A-Za-z0-9_]*)\s*\(/m);return t&&t[1]?String(t[1]):null},zv=e=>{const t=String(e||"");return/\bclass\s+[A-Za-z_][A-Za-z0-9_]*\b/.test(t)||(t.match(/\bdef\s+[A-Za-z_][A-Za-z0-9_]*\s*\(/g)||[]).length!==1?null:sl(t)},Ar=e=>String(e||"").match(/^\s*/)?.[0]?.length??0,ki=e=>String(e||"").match(/^[\t ]*/)?.[0]??"",Gw=e=>{const t=String(e||"").replace(/\r\n/g,`
`),n=t.split(`
`);let i=1/0;for(const o of n){if(!String(o).trim())continue;const l=ki(o).length;l<i&&(i=l)}return!Number.isFinite(i)||i<=0?t:n.map(o=>String(o).trim()?o.slice(i):o).join(`
`)},Ac=(e,t)=>{const n=Gw(e);return String(n||"").replace(/\r\n/g,`
`).split(`
`).map(o=>String(o).trim()?`${t}${o}`:o).join(`
`)},zI=e=>{const t=typeof e=="string"?e:"";if(!t)return"    ";const n=t.split(/\r?\n/);for(const i of n)if(/^\s*def\s+populate_indicators\s*\(/.test(i))return ki(i);for(let i=0;i<n.length;i++){const o=n[i]??"";if(!/^\s*class\s+[A-Za-z_][A-Za-z0-9_]*\s*[(:]/.test(o))continue;const l=ki(o);for(let d=i+1;d<n.length;d++){const f=n[d]??"";if(!String(f).trim())continue;const m=ki(f);if(m.length<=l.length)break;if(/^\s*def\s+[A-Za-z_][A-Za-z0-9_]*\s*\(/.test(f))return m}}return"    "},il=e=>/^\s*def\s+[A-Za-z_][A-Za-z0-9_]*\s*\(/.test(String(e||"")),Do=e=>/^\s*@/.test(String(e||"")),Tm=e=>/^\s*class\s+[A-Za-z_][A-Za-z0-9_]*\s*[(:]/.test(String(e||"")),$I=(e,t)=>{const n=typeof e=="string"?e:"",i=typeof t=="string"?t:"";if(!n.trim()||!i.trim())return null;const o=n.indexOf(i);if(o<0||n.indexOf(i,o+Math.max(1,i.length))>=0)return null;const d=o>0?n[o-1]:"",f=o+i.length,m=f<n.length?n[f]:"",g=i.endsWith(`
`)||i.endsWith(`\r
`),h=o===0||d===`
`,x=f===n.length||m===`
`||g;if(!h||!x)return null;const k=n.slice(0,o).split(/\r?\n/).length,w=i.split(/\r?\n/).length-(g?1:0),N=Math.max(k,k+Math.max(1,w)-1);return{startLine:k,endLine:N,before:i}},$v=(e,t)=>{if(!e)return null;const n=String(e).split(/\r?\n/),i=n.length;if(!i)return null;const o=Math.min(Math.max(1,Number(t||1)),i);let l=o;for(;l>=1;){let d=-1;for(let h=l;h>=1;h--){const x=n[h-1]??"";if(il(x)){d=h;break}}if(d===-1)return null;const f=Ar(n[d-1]??"");let m=d;for(;m>1;){const h=n[m-2]??"";if(!Do(h)||Ar(h)!==f)break;m--}let g=i;for(let h=d+1;h<=i;h++){const x=n[h-1]??"";if(!String(x).trim())continue;const b=Ar(x);if(b<f){g=h-1;break}if(b===f&&(il(x)||Do(x)||Tm(x))){g=h-1;break}}if(o>=m&&o<=g)return sl(n[d-1]??"");l=d-1}return null},BI=(e,t)=>{if(!e)return null;const n=String(e).split(/\r?\n/),i=n.length;if(!i)return null;const o=Math.min(Math.max(1,Number(t||1)),i);let l=o;for(;l>=1;){let d=-1;for(let h=l;h>=1;h--){const x=n[h-1]??"";if(il(x)){d=h;break}}if(d===-1)return null;const f=Ar(n[d-1]??"");let m=d;for(;m>1;){const h=n[m-2]??"";if(!Do(h)||Ar(h)!==f)break;m--}let g=i;for(let h=d+1;h<=i;h++){const x=n[h-1]??"";if(!String(x).trim())continue;const b=Ar(x);if(b<f){g=h-1;break}if(b===f&&(il(x)||Do(x)||Tm(x))){g=h-1;break}}if(o>=m&&o<=g){const h=n.slice(m-1,g).join(`
`);return{name:sl(n[d-1]??""),startLine:m,endLine:g,code:h}}l=d-1}return null},Bv=(e,t)=>{const n=String(t||"").trim();if(!e||!n)return null;const i=String(e).split(/\r?\n/),o=i.length;if(!o)return null;const l=h=>new RegExp(`^\\s*def\\s+${n.replace(/[.*+?^${}()|[\\]\\\\]/g,"\\$&")}\\s*\\(`).test(h);let d=-1;for(let h=1;h<=o;h++)if(l(i[h-1]??"")){d=h;break}if(d===-1)return null;const f=Ar(i[d-1]??"");let m=d;for(;m>1;){const h=i[m-2]??"";if(!Do(h)||Ar(h)!==f)break;m--}let g=o;for(let h=d+1;h<=o;h++){const x=i[h-1]??"";if(!String(x).trim())continue;const b=Ar(x);if(b<f){g=h-1;break}if(b===f&&(il(x)||Do(x)||Tm(x))){g=h-1;break}}return{name:n,startLine:m,endLine:g,code:i.slice(m-1,g).join(`
`)}},Yf=(e,t,n=6)=>{if(!e)return"";const i=String(e).split(/\r?\n/),o=i.length;if(!o)return"";const l=Math.min(Math.max(1,Number(t||1)),o),d=Math.max(1,l-n),f=Math.min(o,l+n);return i.slice(d-1,f).join(`
`)},VI=(e,t,n)=>{if(n.lang!=="python"&&n.lang!=="py")return null;const i=typeof e=="string"?e:"",l=(i.trim()?sl(i):null)||t,d=sl(n.code);return!l||!d||l===d?null:`Cursor/selection appears inside '${l}', but the AI snippet defines '${d}'. Apply anyway?`};function UI({isOpen:e,onToggle:t,context:n,onApplyCode:i,onApplyConfig:o,onApplyAndSaveCode:l,onPreviewValidatedEdit:d}){const[f,m]=y.useState([]),[g,h]=y.useState(""),[x,b]=y.useState(null),[k,C]=y.useState(!1),[w,N]=y.useState(!1),[j,P]=y.useState(""),[A,L]=y.useState(()=>{try{const U=localStorage.getItem("chat:autoContext");return U==null?!0:U==="true"}catch(U){return Qt("chat:autoContext:load","Failed to load chat auto-context preference",U,{showToast:!1}),!0}}),[F,H]=y.useState(null),[I,J]=y.useState(null),[se,ae]=y.useState(!1),[K,ee]=y.useState(),[de,le]=y.useState(""),ue=y.useRef(null),[q,Q]=y.useState({hasContext:!1}),$=async U=>{try{const oe=Oo(lt.backtests.get.path,{id:U}),pe=await fetch(oe,{credentials:"include"});if(!pe.ok)throw new Error("Failed to fetch backtest");return pe.json()}catch(oe){return Qt("chat:fetchBacktest","Failed to fetch full backtest data",oe,{showToast:!1}),null}},ne=cR(),G=sw(U=>U.setSelectedModel),T=gm(),_=T.data??[],O=Oi(),X=y.useRef(null),D=y.useRef(null),M=y.useRef(!1),B=y.useRef(null),re=y.useRef(new Set),fe=!!(n.selectedCode&&String(n.selectedCode).trim().length>0),ye=y.useMemo(()=>{const U=n.fileName?String(n.fileName):"global",oe=n.lastBacktest?.id!=null?String(n.lastBacktest.id):"none";return`${U}::${oe}`},[n.fileName,n.lastBacktest?.id]),ze=y.useMemo(()=>BI(n.fileContent,n.lineNumber),[n.fileContent,n.lineNumber]),Ye=y.useMemo(()=>typeof n.cursorFunctionName=="string"&&n.cursorFunctionName.trim()?n.cursorFunctionName.trim():ze?.name??$v(n.fileContent,n.lineNumber),[n.cursorFunctionName,n.fileContent,n.lineNumber,ze?.name]),Me=!!n.fileName&&String(n.fileName).startsWith("user_data/strategies/")&&String(n.fileName).endsWith(".py"),{data:gt}=ti({queryKey:["/api/ai-actions",x],enabled:!!x,queryFn:async()=>{const U=await fetch(`/api/ai-actions?sessionId=${x}`);return U.ok?U.json():[]}}),pt=(U,oe)=>{m(pe=>[...pe,{id:cs(),role:U,content:oe,timestamp:new Date}])},vn=async U=>{if(x)try{await fetch(`/api/chat/sessions/${x}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)})}catch(oe){Qt("/api/chat/sessions/:sessionId/messages","Failed to persist message",oe,{showToast:!1})}},ce=async U=>{try{await fetch("/api/ai-actions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:x??void 0,...U})})}catch(oe){Qt("chat:ai-actions","Failed to persist AI action",oe,{showToast:!1})}},Z=(U,oe)=>{const pe=(()=>{if(oe==="selection")return n.selectedCode;if(oe==="enclosingFunction")return ze?.code??null;if(oe==="namedFunction"){const _e=zv(U);return Bv(n.fileContent,_e)?.code??null}return null})();ce({actionType:"code_change",description:`Applied AI code suggestion (${oe}).`,beforeState:{mode:oe,selection:pe||""},afterState:{mode:oe,code:U}})},V=async U=>{const oe=cs(),pe=!!d&&!!Me&&typeof n.fileName=="string",_e=Array.isArray(U.edits)&&U.edits.length>0,we=pe&&_e,Le=pe&&!_e?"Cannot build a validated edit for this change. Select whole lines, or apply a single function snippet so it can be replaced safely.":null;if(J({id:oe,title:U.title,mode:U.mode,currentLabel:U.currentLabel,current:U.current,proposed:U.proposed,mismatchWarning:U.mismatchWarning,edits:U.edits,diff:null,error:Le,isValidating:we}),!!we)try{const Ke=await d({strategyPath:String(n.fileName),edits:U.edits,dryRun:!0}),Nt=typeof Ke?.diff=="string"?String(Ke.diff):null;J(yt=>yt&&yt.id===oe?{...yt,diff:Nt,error:null,isValidating:!1}:yt)}catch(Ke){const Nt=String(Ke?.message||Ke||"Validation failed");J(yt=>yt&&yt.id===oe?{...yt,error:Nt,isValidating:!1}:yt)}},xe=U=>{ce({actionType:"config_change",description:"Applied AI config patch.",afterState:{patch:U}})},ke=U=>{const oe=typeof U=="number"?U:typeof U=="string"?parseFloat(U):NaN;return Number.isFinite(oe)?oe:NaN},Ne=U=>{const oe=ke(U);return Number.isFinite(oe)?Math.abs(oe)>1.5?oe/100:oe:null},Ie=U=>{const oe=Math.max(0,Math.floor(U/1e3)),pe=Math.floor(oe/60),_e=oe%60;return`${pe}m ${_e}s`},Xe=U=>{if(!U||!U.ids.length)return null;const oe=U.completedIds.length,pe=U.ids.length-oe;if(pe<=0)return 0;if(oe<=0)return null;const we=(Date.now()-U.startedAt)/oe;if(!Number.isFinite(we)||we<=0)return null;const Le=Math.max(0,Math.round(we*pe));return Number.isFinite(Le)?Le:null},at=U=>{const oe=Number(U?.id);if(!Number.isFinite(oe))return null;const pe=U?.results;return{id:oe,profitTotal:Ne(pe?.profit_total),winRate:Ne(pe?.win_rate),maxDrawdown:Ne(pe?.max_drawdown),totalTrades:Number.isFinite(ke(pe?.total_trades))?ke(pe?.total_trades):null}},Tt=U=>{const oe=U.totalTrades??0,pe=U.profitTotal,_e=U.winRate,we=U.maxDrawdown;return oe>0&&oe<30?"Focus next: increase sample size (longer timerange / more pairs) before making aggressive logic changes.":pe!=null&&pe<0?_e!=null&&_e>.55?"Focus next: expectancy (winners too small vs losers). Tighten stoploss or improve exits to cut large losers.":"Focus next: improve edge (entries / filters) and reduce drawdown. Add regime filters or reduce noise trades.":we!=null&&we>=.2?"Focus next: risk management. Drawdown is high; consider tighter stoploss, fewer open trades, or a trend filter.":pe!=null&&pe>0&&_e!=null&&_e<.35?"Focus next: stability. Profit relies on a few big winners; consider reducing losing streaks with better filters.":"Focus next: validate robustness (different timeranges) and then tune parameters carefully (small steps)."},Et=async U=>{const oe=Oo(lt.backtests.get.path,{id:U}),pe=await fetch(oe,{credentials:"include"});if(!pe.ok)throw new Error("Failed to fetch backtest status");return pe.json()},Wt=()=>{D.current!=null&&(window.clearInterval(D.current),D.current=null),M.current=!1},qn=(U,oe,pe)=>{Wt();const _e={type:pe,stage:"running",startedAt:Date.now(),updatedAt:Date.now(),strategyName:U,ids:oe,completedIds:[],lastLogLine:null,summaries:[]};re.current=new Set,B.current=_e,H(_e);const we=async()=>{if(!M.current){M.current=!0;try{const Le=B.current,Ke=Le?.ids?.length?Le:{ids:oe,completedIds:[],summaries:[],lastLogLine:null},Nt=new Set(Ke.completedIds||[]),yt=(Ke.ids||oe).filter(Te=>!Nt.has(Te));if(yt.length===0){M.current=!1;return}const qt=await Promise.all(yt.map(async Te=>{try{return await Et(Te)}catch{return null}})),rr=[],tn=[],wn=[];let et=Ke.lastLogLine||null;for(const Te of qt){if(!Te)continue;const $t=Array.isArray(Te?.logs)?Te.logs:[],Bt=$t.length?String($t[$t.length-1]??"").trim():"";Bt&&(et=Bt.length>220?Bt.slice(-220):Bt);const At=Number(Te?.id),Sn=String(Te?.status||""),an=!!Te?.results;if(Number.isFinite(At)&&Sn==="failed"&&(rr.push(At),wn.push(At)),Number.isFinite(At)&&Sn==="completed"&&an){rr.push(At);const Mr=at(Te);Mr&&tn.push(Mr)}}if(wn.length)for(const Te of wn)re.current.has(Te)||(re.current.add(Te),pt("assistant",`Backtest ${Te} failed. Check the log output above and the Backtests panel for details.`));if(rr.length){H(Te=>{if(!Te)return Te;const $t=new Set(Te.completedIds),Bt=[...Te.completedIds];for(const an of rr)$t.has(an)||Bt.push(an);const At=new Map(Te.summaries.map(an=>[an.id,an]));for(const an of tn)At.set(an.id,an);const Sn={...Te,updatedAt:Date.now(),completedIds:Bt,lastLogLine:et,summaries:Array.from(At.values())};return B.current=Sn,Sn});for(const Te of tn){if(re.current.has(Te.id))continue;re.current.add(Te.id);const $t=Te.profitTotal==null?"N/A":`${(Te.profitTotal*100).toFixed(2)}%`,Bt=Te.winRate==null?"N/A":`${(Te.winRate*100).toFixed(1)}%`,At=Te.maxDrawdown==null?"N/A":`${(Te.maxDrawdown*100).toFixed(2)}%`,Sn=Te.totalTrades==null?"N/A":String(Te.totalTrades);pt("assistant",[`Backtest ${Te.id} finished.`,`- Profit: ${$t}`,`- Win Rate: ${Bt}`,`- Max Drawdown: ${At}`,`- Trades: ${Sn}`,Tt(Te)].join(`
`))}}let Zt=!1;if(H(Te=>{if(!Te)return Te;const $t=wn.length?"failed":Te.stage;if(!(Te.ids.length>0&&Te.completedIds.length>=Te.ids.length)){const Sn={...Te,stage:$t,updatedAt:Date.now(),lastLogLine:et};return B.current=Sn,Sn}Zt=!0;const At={...Te,stage:$t==="failed"?"failed":"completed",updatedAt:Date.now(),lastLogLine:et};return B.current=At,At}),Zt){Wt();const Te=B.current;if(Te&&A){const $t=Te.summaries[0]?.id||n.lastBacktest?.id;$t&&Number.isFinite($t)&&(async()=>{const Bt=await $($t);Bt&&(Q({hasContext:!0,fileName:n.fileName,fileContent:n.fileContent,backtestData:Bt.results,backtestId:$t,config:Bt.config}),pt("assistant","[Context auto-loaded: File and backtest data are now available for this session]"))})()}}}finally{M.current=!1}}};D.current=window.setInterval(()=>{we().catch(Le=>{Qt("chat:refinementPoll","Refinement polling failed",Le,{showToast:!1})})},1500),we().catch(Le=>{Qt("chat:refinementPoll","Refinement polling failed",Le,{showToast:!1})})},Dt=U=>{if(!U||typeof U!="object")return"";const oe=U.timeframe?String(U.timeframe):"",pe=Array.isArray(U.pairs)?U.pairs:null,_e=U.backtest_date_from?String(U.backtest_date_from):"",we=U.backtest_date_to?String(U.backtest_date_to):"",Le=U.timerange?String(U.timerange):"",Ke=[];return oe&&Ke.push(`timeframe=${oe}`),Le&&Ke.push(`timerange=${Le}`),(_e||we)&&Ke.push(`range=${_e||"?"}  ${we||"?"}`),pe&&pe.length&&Ke.push(`pairs=${pe.length}`),Ke.length?Ke.join(", "):""},xn=async U=>{const oe=String(U?.strategyName||""),pe=Dt(U?.config);pt("assistant",[`Refinement: starting a backtest for '${oe}'.`,pe?`Config: ${pe}`:"","Status: preparing run. Estimated time: typically 26 minutes depending on timerange/pairs."].filter(Boolean).join(`
`)),H({type:"single",stage:"starting",startedAt:Date.now(),updatedAt:Date.now(),strategyName:oe,ids:[],completedIds:[],lastLogLine:null,summaries:[]});try{const _e=await Rn.mutateAsync(U),we=Number(_e?.id);if(!Number.isFinite(we)){pt("assistant","Backtest started, but no backtest ID was returned."),H(null);return}pt("assistant",`Backtest started (ID ${we}). Status: running`),ce({actionType:"backtest_run",description:`Backtest started (ID ${we})`,backtestId:we,results:{strategyName:oe,config:U?.config}}),qn(oe,[we],"single")}catch(_e){pt("assistant",`Error running backtest: ${_e?.message||"Failed to run backtest"}`),H(we=>we&&{...we,stage:"failed",updatedAt:Date.now()}),Wt()}},xs=async U=>{const oe=String(U?.strategyName||""),pe=Dt(U?.baseConfig),_e=Array.isArray(U?.ranges)?U.ranges.length:U?.rolling?.count??4;pt("assistant",[`Refinement: starting a batch backtest for '${oe}' (${_e} runs).`,pe?`Base config: ${pe}`:"","Status: preparing batch. Estimated time: roughly 26 minutes per run."].filter(Boolean).join(`
`)),H({type:"batch",stage:"starting",startedAt:Date.now(),updatedAt:Date.now(),strategyName:oe,ids:[],completedIds:[],lastLogLine:null,summaries:[]});try{const we=await Xr.mutateAsync(U),Le=Array.isArray(we?.backtests)?we.backtests.map(Ke=>Number(Ke?.id)).filter(Ke=>Number.isFinite(Ke)):[];if(!Le.length){pt("assistant","Batch started, but no backtest IDs were returned."),H(null);return}pt("assistant",`Batch started (${we?.batchId??"?"}). Tracking ${Le.length} runs: ${Le.join(", ")}`),ce({actionType:"backtest_run",description:`Batch backtest started (${we?.batchId??"?"})`,results:{strategyName:oe,baseConfig:U?.baseConfig,ids:Le,batchId:we?.batchId}}),qn(oe,Le,"batch")}catch(we){pt("assistant",`Error running batch: ${we?.message||"Failed to run batch"}`),H(Le=>Le&&{...Le,stage:"failed",updatedAt:Date.now()}),Wt()}},bn=xi({mutationFn:async U=>{const oe=typeof n.cursorFunctionName=="string"&&n.cursorFunctionName.trim()?n.cursorFunctionName.trim():$v(n.fileContent,n.lineNumber)||void 0,pe={fileName:n.fileName,fileContent:typeof n.fileContent=="string"?n.fileContent.slice(0,22e3):n.fileContent,selectedCode:typeof n.selectedCode=="string"?n.selectedCode.slice(0,6e3):n.selectedCode,lineNumber:n.lineNumber,cursorFunctionName:oe,lastBacktest:n.lastBacktest,backtestResults:n.backtestResults};return q.hasContext&&(pe.sessionContext={fileName:q.fileName,fileContent:q.fileContent?.slice(0,3e4),backtestData:q.backtestData,backtestId:q.backtestId,config:q.config}),(await Sc("POST","/api/ai/chat",{message:U,model:ne,context:pe})).json()},onSuccess:U=>{const oe=typeof U?.response=="string"?U.response.trim():"";if(!oe){m(pe=>[...pe,{id:cs(),role:"assistant",content:"Error: AI returned an empty response.",timestamp:new Date}]);return}m(pe=>[...pe,{id:cs(),role:"assistant",content:oe,timestamp:new Date}]),vn({role:"assistant",content:oe,model:ne,response:{content:oe}})},onError:U=>{m(oe=>[...oe,{id:cs(),role:"assistant",content:`Error: ${U.message||"Failed to get AI response."}`,timestamp:new Date}])}}),Rn=xi({mutationFn:async U=>(await Sc("POST",lt.backtests.run.path,U)).json(),onSuccess:U=>{O.invalidateQueries({queryKey:[lt.backtests.list.path]}).catch(oe=>{Qt("chat:backtests:invalidate","Failed to refresh backtests list",oe,{showToast:!0})})},onError:U=>{m(oe=>[...oe,{id:cs(),role:"assistant",content:`Error running backtest: ${U?.message||"Failed to run backtest"}`,timestamp:new Date}])}});y.useEffect(()=>{if(!e)return;let U=!1;return(async()=>{C(!1);try{const _e=await(await fetch(`/api/chat/sessions?sessionKey=${encodeURIComponent(ye)}`)).json();let we=Array.isArray(_e)?_e[0]:null;if(we||(we=await(await fetch("/api/chat/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionKey:ye,strategyPath:n.fileName,backtestId:n.lastBacktest?.id})})).json()),U)return;if(b(we?.id??null),we?.id){const Ke=await(await fetch(`/api/chat/sessions/${we.id}/messages?limit=50`)).json();if(U)return;const Nt=Array.isArray(Ke)?Ke.map(yt=>({id:String(yt.id),role:yt.role==="assistant"?"assistant":"user",content:String(yt.content||""),timestamp:yt.createdAt?new Date(yt.createdAt):new Date})):[];m(Nt)}}catch(pe){Qt("chat:session:load","Failed to load chat session",pe,{showToast:!0})}finally{U||C(!0)}})().catch(pe=>{Qt("chat:session:load","Failed to load chat session",pe,{showToast:!0}),C(!0)}),()=>{U=!0}},[e,ye,n.fileName,n.lastBacktest?.id]);const Xr=xi({mutationFn:async U=>(await Sc("POST",lt.backtests.batchRun.path,U)).json(),onSuccess:U=>{O.invalidateQueries({queryKey:[lt.backtests.list.path]}).catch(oe=>{Qt("chat:backtests:invalidate","Failed to refresh backtests list",oe,{showToast:!0})})},onError:U=>{m(oe=>[...oe,{id:cs(),role:"assistant",content:`Error running batch: ${U?.message||"Failed to run batch"}`,timestamp:new Date}])}}),mr=xi({mutationFn:async U=>(await Sc("POST","/api/diagnostic/analyze",U)).json(),onError:U=>{m(oe=>[...oe,{id:cs(),role:"assistant",content:`Error running diagnostic: ${U?.message||"Failed to run diagnostic"}`,timestamp:new Date}])}});y.useEffect(()=>{Q({hasContext:!1})},[n.fileName,n.lastBacktest?.id]),y.useEffect(()=>{const U=oe=>{h(pe=>pe+(pe?`

`:"")+oe.detail)};return window.addEventListener("attach-backtest-results",U),window.addEventListener("attach-diagnostic-summary",U),()=>{window.removeEventListener("attach-backtest-results",U),window.removeEventListener("attach-diagnostic-summary",U)}},[]),y.useEffect(()=>()=>{Wt()},[]),y.useEffect(()=>{B.current=F},[F]),y.useEffect(()=>{try{localStorage.setItem("chat:autoContext",String(A))}catch(U){Qt("chat:autoContext:save","Failed to save chat auto-context preference",U,{showToast:!1})}},[A]),y.useEffect(()=>{X.current&&(X.current.scrollTop=X.current.scrollHeight)},[f]);const Jr=()=>{if(!g.trim()||bn.isPending)return;const U={id:cs(),role:"user",content:g.trim(),timestamp:new Date};m(oe=>[...oe,U]),vn({role:"user",content:g.trim(),model:ne,request:{context:{fileName:n.fileName,lineNumber:n.lineNumber,lastBacktest:n.lastBacktest}}}),bn.mutate(g.trim()),h(""),ae(!1)},bs=U=>{const oe=U.target.value,pe=U.target.selectionStart;h(oe);const _e=oe.slice(0,pe),we=_e.lastIndexOf("@");if(we===-1){ae(!1);return}const Le=_e.slice(we+1);if(Le.includes(" ")||Le.includes(`
`)){ae(!1);return}if(le(Le.toLowerCase()),ae(!0),ue.current){ue.current;const Ke=_e.slice(0,we).split(`
`);Ke.length;const Nt=8,yt=Ke[Ke.length-1]?.length||0;ee({top:-280,left:Math.min(yt*Nt,200)})}},ri=U=>{const oe=ue.current?.selectionStart||0,_e=g.slice(0,oe).lastIndexOf("@");if(_e!==-1){const we=g.slice(0,_e),Le=g.slice(oe),Ke=we+`@${U.id} `+Le;h(Ke),U.action()}ae(!1),ue.current?.focus()},ws=y.useMemo(()=>OI({backtestResults:n.backtestResults,fileName:n.fileName,selectedCode:n.selectedCode,onWebSearch:()=>{h(U=>U+"[Web search enabled - AI can search the internet] ")},onIncludeContext:async()=>{h(pe=>pe+"[Loading context...] ");const U=n.lastBacktest?.id;let oe=null;U&&Number.isFinite(U)&&(oe=await $(U)),Q({hasContext:!0,fileName:n.fileName,fileContent:n.fileContent,backtestData:oe?.results||n.backtestResults,backtestId:U,config:oe?.config||n.lastBacktest?.config}),h(pe=>pe.replace("[Loading context...] ","[Context loaded - AI has access to file and backtest data] "))},onIncludeCode:()=>{n.selectedCode&&h(U=>U+`

Selected Code:
\`\`\`python
${n.selectedCode}
\`\`\``)}}).filter(U=>U.label.toLowerCase().includes(de)),[n,de]),en=U=>{if(se){if(U.key==="Escape"){U.preventDefault(),ae(!1);return}if(U.key==="ArrowDown"||U.key==="ArrowUp"||U.key==="Enter")return}U.key==="Enter"&&!U.shiftKey&&(U.preventDefault(),Jr())},In=y.useMemo(()=>{const U=j.trim().toLowerCase(),oe=Array.isArray(_)?_:[];return U?oe.filter(pe=>{const _e=String(pe?.id??"").toLowerCase(),we=String(pe?.name??"").toLowerCase(),Le=String(pe?.description??"").toLowerCase();return _e.includes(U)||we.includes(U)||Le.includes(U)}):oe},[_,j]);return c.jsxs("div",{"data-testid":"panel-chat",className:Ce("h-full w-full border-l border-border/50 flex flex-col overflow-hidden relative","bg-gradient-to-b from-background via-background to-primary/5","transition-opacity duration-200",!e&&"pointer-events-none opacity-0"),children:[c.jsxs("div",{className:"absolute inset-0 pointer-events-none opacity-70 [mask-image:radial-gradient(70%_60%_at_70%_0%,black,transparent)]",children:[c.jsx("div",{className:"absolute -top-24 -right-24 h-64 w-64 rounded-full bg-primary/20 blur-3xl"}),c.jsx("div",{className:"absolute -bottom-28 -left-24 h-72 w-72 rounded-full bg-primary/10 blur-3xl"})]}),c.jsx("div",{className:Ce("relative z-10 flex items-center justify-between gap-2 px-3 py-3","border-b border-border/40","bg-background/55 backdrop-blur","shadow-[0_1px_0_0_rgba(255,255,255,0.04)]"),children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("div",{className:"h-8 w-8 rounded-lg border border-border/50 bg-primary/10 flex items-center justify-center shadow-sm",children:c.jsx(Ma,{className:"w-4 h-4 text-primary"})}),c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"font-semibold text-sm truncate",children:"AI Assistant"}),ne?c.jsxs(Kw,{open:w,onOpenChange:N,children:[c.jsx(Zw,{asChild:!0,children:c.jsxs("button",{type:"button",className:Ce("inline-flex items-center gap-1.5","text-[10px] px-1.5 py-0.5 rounded","border border-primary/20","bg-primary/10","text-primary/90","font-mono tracking-tight","truncate","hover:bg-primary/15 hover:border-primary/30","focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring"),title:"Click to switch models (free only)",children:[c.jsx("span",{className:"truncate",children:ne}),c.jsx(e0,{className:"w-3 h-3 opacity-70 shrink-0"})]})}),c.jsxs(Pm,{align:"start",sideOffset:8,className:Ce("w-[360px] p-2","border border-border/50","bg-background/70 backdrop-blur-xl","shadow-lg"),children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 px-1 pb-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-xs font-semibold truncate",children:"Free OpenRouter models"}),c.jsx("div",{className:"text-[10px] text-muted-foreground truncate",children:"Sorted by most recently updated (when available)"})]}),c.jsx(Ge,{size:"icon",variant:"ghost",className:"h-7 w-7 rounded-lg border border-border/40 bg-background/40",title:"Refresh list",onClick:()=>T.refetch().catch(U=>{Qt("chat:models:refetch","Failed to refresh AI models",U,{showToast:!1})}),children:c.jsx(UC,{className:Ce("w-3.5 h-3.5",T.isFetching&&"animate-spin")})})]}),c.jsx("div",{className:"px-1 pb-2",children:c.jsx(fs,{value:j,onChange:U=>P(U.target.value),placeholder:"Search models...",className:Ce("h-8 text-xs","rounded-xl","bg-background/50","border-border/40")})}),c.jsx("div",{className:"px-1",children:c.jsx(qs,{className:"h-[260px]",children:c.jsx("div",{className:"space-y-1 pr-2",children:T.isLoading?c.jsx("div",{className:"text-xs text-muted-foreground px-2 py-2",children:"Loading models..."}):In.length===0?c.jsx("div",{className:"text-xs text-muted-foreground px-2 py-2",children:"No matches."}):In.map(U=>{const oe=String(U?.id??""),pe=String(U?.name??oe),_e=U?.description?String(U.description):"",we=oe===ne;return c.jsxs("button",{type:"button",className:Ce("w-full text-left rounded-xl px-2 py-2","border border-border/40","bg-background/35 backdrop-blur","hover:bg-primary/10 hover:border-primary/25","transition-colors",we&&"border-primary/30 bg-primary/10"),onClick:()=>{oe&&(G(oe),N(!1))},children:[c.jsxs("div",{className:"flex items-start justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-xs font-semibold truncate",children:pe}),c.jsx("div",{className:"text-[10px] text-muted-foreground font-mono truncate",children:oe})]}),c.jsx("div",{className:"shrink-0 pt-0.5",children:we?c.jsx(Vc,{className:"w-4 h-4 text-primary"}):null})]}),_e?c.jsx("div",{className:"mt-1 text-[10px] text-muted-foreground line-clamp-2",children:_e}):null]},oe)})})})})]})]}):null]}),c.jsxs("div",{className:"text-[10px] text-muted-foreground truncate",children:[x?`Session #${x}`:"Ready",q.hasContext&&c.jsxs("span",{className:"ml-2 inline-flex items-center gap-1 text-primary",children:[c.jsx(pp,{className:"w-3 h-3"}),"Context loaded"]})]})]})]})}),(n.fileName||n.backtestResults)&&c.jsx("div",{className:"relative z-10 px-3 py-2 border-b border-border/30 bg-background/40 backdrop-blur",children:c.jsxs("div",{className:"flex flex-col gap-2",children:[n.fileName&&c.jsx("div",{className:"flex items-start justify-between gap-2",children:c.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground min-w-0",children:[c.jsx(Ei,{className:"w-3 h-3 text-primary shrink-0"}),c.jsx("span",{className:"truncate font-medium",children:n.fileName.split("/").pop()}),n.lineNumber&&c.jsxs("span",{className:"text-[10px] bg-secondary/40 px-1.5 py-0.5 rounded-md border border-border/30 shrink-0",children:["L",n.lineNumber]}),n.selectedCode&&c.jsxs("span",{className:"text-[10px] bg-primary/10 text-primary px-1.5 py-0.5 rounded-md border border-primary/20 shrink-0",children:[n.selectedCode.split(`
`).length,"L selected"]})]})}),c.jsx("div",{className:"flex flex-wrap items-center gap-1.5",children:c.jsxs(Ge,{variant:"ghost",size:"sm",className:Ce("h-7 px-2.5 text-[10px] rounded-lg",A?"bg-primary/10 text-primary hover:bg-primary/15":"hover:bg-primary/10 hover:text-primary"),title:"When enabled, context (file + backtest data) is automatically loaded for all messages. When disabled, use @context to load manually.",onClick:()=>L(U=>!U),children:[c.jsx(pp,{className:"w-3 h-3"}),"Context: ",A?"Auto":"Manual"]})})]})}),Array.isArray(gt)&&gt.length>0&&c.jsx("div",{className:"relative z-10 px-3 py-2 border-b border-border/30 bg-background/40 backdrop-blur",children:c.jsx(xI,{actions:gt,variant:"compact"})}),F&&F.stage!=="idle"&&c.jsx("div",{className:"relative z-10 px-3 py-2 border-b border-border/30 bg-background/40 backdrop-blur",children:c.jsxs("div",{className:"rounded-xl border border-border/40 bg-muted/20 px-3 py-2 shadow-sm",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-xs font-medium",children:[F.stage==="running"||F.stage==="starting"?c.jsx(Er,{className:"w-3 h-3 animate-spin"}):null,c.jsxs("span",{children:["Refinement: ",F.stage,F.type==="batch"?` (${F.completedIds.length}/${F.ids.length})`:""]})]}),c.jsx("div",{className:"text-[10px] text-muted-foreground",children:(()=>{const U=Date.now()-F.startedAt,oe=Xe(F),pe=oe==null?"":oe===0?"  Remaining: 0m 0s":`  Remaining: ~${Ie(oe)}`;return`Elapsed: ${Ie(U)}${pe}`})()})]}),F.lastLogLine&&c.jsx("div",{className:"mt-1 text-[10px] text-muted-foreground whitespace-pre-wrap break-words",children:F.lastLogLine})]})}),c.jsx(qs,{ref:X,className:"relative z-10 flex-1 px-3 py-4",children:c.jsxs("div",{className:"space-y-4",children:[!k&&c.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading chat history..."}),f.length===0&&c.jsxs("div",{className:"text-center text-muted-foreground text-sm py-8 space-y-4",children:[c.jsx("div",{className:"mx-auto h-12 w-12 rounded-2xl border border-border/50 bg-primary/10 flex items-center justify-center shadow-sm",children:c.jsx($C,{className:"w-6 h-6 text-primary/80"})}),n.selectedCode&&c.jsxs("div",{className:"mt-2 p-3 bg-primary/5 border border-primary/20 rounded-xl text-[10px] text-primary max-w-[520px] mx-auto text-left",children:[c.jsxs("div",{className:"flex items-center gap-1 mb-1 font-semibold uppercase",children:[c.jsx(Dy,{className:"w-2.5 h-2.5"}),"Context: Selected Snippet"]}),c.jsxs("pre",{className:"truncate opacity-70 italic",children:['"',n.selectedCode.substring(0,100),'..."']})]})]}),f.map(U=>c.jsxs("div",{"data-testid":`message-${U.role}-${U.id}`,className:Ce("flex gap-3",U.role==="user"?"justify-end":"justify-start"),children:[U.role==="assistant"&&c.jsx("div",{className:"w-8 h-8 rounded-xl border border-border/40 bg-primary/10 flex items-center justify-center flex-shrink-0 shadow-sm",children:c.jsx(Ma,{className:"w-4 h-4 text-primary"})}),c.jsxs("div",{className:"flex flex-col gap-2 max-w-[86%]",children:[c.jsx("div",{className:Ce("rounded-2xl px-3 py-2 text-sm border shadow-sm",U.role==="user"?"bg-primary text-primary-foreground border-primary/30":"bg-background/60 backdrop-blur border-border/40"),children:c.jsx("div",{className:"whitespace-pre-wrap leading-relaxed",children:U.content.split(/(```[\s\S]*?```)/).map((oe,pe)=>{if(oe.startsWith("```")){const _e=oe.replace(/```[a-z]*\n|```/g,"");return c.jsx("code",{className:Ce("block p-3 rounded-xl my-2 overflow-x-auto","bg-black/30 border border-border/30","text-[12px] font-mono"),children:_e},pe)}return c.jsx("span",{children:oe},pe)})})}),U.role==="assistant"&&Fv(U.content).length>0&&c.jsx("div",{className:"flex flex-wrap gap-2",children:Fv(U.content).map(oe=>c.jsxs(Ge,{size:"sm",variant:"outline",className:"h-8 text-[10px] gap-1.5 rounded-xl bg-background/60 backdrop-blur hover-elevate",onClick:()=>{h(pe=>pe+(pe?`
`:"")+oe.value)},title:oe.value,children:[oe.label,") ",oe.value.length>42?`${oe.value.slice(0,42)}`:oe.value]},oe.label))}),U.role==="assistant"&&(i||o)&&Dv(U.content).length>0&&c.jsx("div",{className:"flex flex-wrap gap-2",children:Dv(U.content).map((oe,pe)=>{const _e=o?FI(oe):null,we=MI(oe),Le=_e!=null&&Object.keys(_e).length>0,Ke=we!=null,Nt=!!i&&!Le&&!Ke&&DI(oe),yt=VI(n.selectedCode,Ye,oe),qt=zv(oe.code),rr=!fe&&!!Ye&&!!qt&&Ye===qt,tn=qt?Bv(n.fileContent,qt):null,wn=!fe&&!!qt&&!!tn?.code,et=fe?"selection":rr?"enclosingFunction":wn?"namedFunction":"cursor",Zt=et==="namedFunction"?null:yt,Te=(()=>{const bt=String(oe.code||"");if(et==="selection"){const gr=String(n.selectedCode||"").split(/\r?\n/).find(wt=>String(wt).trim())||"";return Ac(bt,ki(gr))}if(et==="enclosingFunction"){const gr=String(ze?.code||"").split(/\r?\n/).find(wt=>String(wt).trim())||"";return Ac(bt,ki(gr))}if(et==="namedFunction"){const gr=String(tn?.code||"").split(/\r?\n/).find(wt=>String(wt).trim())||"";return Ac(bt,ki(gr))}const Hn=bt.split(/\r?\n/).find(gr=>String(gr).trim().length>0)||"",Ln=Ar(Hn),hr=/^\s*class\s+/.test(Hn)||/^\s*def\s+/.test(Hn);if(Ln>0&&hr){const gr=zI(n.fileContent);return Ac(bt,gr)}return Gw(bt)})(),$t=et==="selection"?"Selected":et==="enclosingFunction"?`Function '${Ye??""}'`:et==="namedFunction"?`Function '${qt??""}'`:"Cursor Context",Bt=et==="selection"?String(n.selectedCode||""):et==="enclosingFunction"?ze?.code??Yf(n.fileContent,n.lineNumber):et==="namedFunction"?tn?.code??Yf(n.fileContent,n.lineNumber):Yf(n.fileContent,n.lineNumber),At=et==="selection"?"Preview: Replace Selection":et==="enclosingFunction"?"Preview: Replace Current Function":et==="namedFunction"?"Preview: Replace Function by Name":"Preview: Insert",Sn=(()=>{if(!Me)return null;if(et==="selection"){const bt=$I(n.fileContent,n.selectedCode);return bt?[{kind:"replace",target:{kind:"range",startLine:bt.startLine,endLine:bt.endLine},before:bt.before,after:Te}]:null}if(et==="enclosingFunction"&&Ye&&ze?.code)return[{kind:"replace",target:{kind:"function",name:Ye},before:ze.code,after:Te}];if(et==="namedFunction"&&qt&&tn?.code)return[{kind:"replace",target:{kind:"function",name:qt},before:tn.code,after:Te}];if(et==="cursor"){const bt=String(oe.code||"").split(/\r?\n/).find(sr=>String(sr).trim().length>0)||"",Hn=Ar(bt),Ln=/^\s*class\s+/.test(bt)||/^\s*def\s+/.test(bt);return[{kind:"insert",anchor:Hn>0&&Ln?{kind:"heuristic_indicators"}:{kind:"module_end"},content:Te}]}return null})(),an=()=>{V({title:At,mode:et,currentLabel:$t,current:Bt,proposed:Te,mismatchWarning:Zt,edits:Sn})},Mr="h-8 text-[10px] gap-1.5 rounded-xl bg-background/60 backdrop-blur hover-elevate";return c.jsxs("div",{className:"flex gap-2",children:[we&&c.jsxs(Ge,{size:"sm",variant:"outline",className:Mr,disabled:Rn.isPending||Xr.isPending||mr.isPending,onClick:()=>{if(we.action==="run_backtest"){const bt=n.lastBacktest&&n.lastBacktest.config?n.lastBacktest.config:{},Hn=we.payload&&we.payload.strategyName||n.lastBacktest&&n.lastBacktest.strategyName||"",Ln=we.payload&&we.payload.config?we.payload.config:{},hr={strategyName:Hn,config:{...bt,...Ln}};if(!confirm("Run this backtest now?"))return;xn(hr);return}if(we.action==="run_batch_backtest"){const bt=n.lastBacktest&&n.lastBacktest.config?n.lastBacktest.config:{},Ln={strategyName:we.payload&&we.payload.strategyName||n.lastBacktest&&n.lastBacktest.strategyName||"",baseConfig:{...bt,...we.payload?.baseConfig||{}},ranges:we.payload?.ranges,rolling:we.payload?.rolling,batchId:we.payload?.batchId},hr=Array.isArray(Ln.ranges)?Ln.ranges.length:Ln.rolling?.count??4;if(!confirm(`Run batch backtest now? (about ${hr} runs)`))return;xs(Ln);return}if(we.action==="run_diagnostic"){const bt=Number(we.payload?.backtestId??n.lastBacktest?.id??NaN);if(!Number.isFinite(bt)){pt("assistant","Diagnostic action is missing backtestId.");return}const Hn=String(we.payload?.strategyPath||n.lastBacktest?.strategyName||n.fileName||"").trim();if(!confirm(`Queue diagnostics for backtest ${bt}?`))return;mr.mutate({backtestId:bt,strategyPath:Hn||void 0},{onSuccess:hr=>{const sr=String(hr?.jobId||"");pt("assistant",sr?`Diagnostics queued. Job ID: ${sr}. Open the Diagnostics tab to track progress.`:"Diagnostics queued. Open the Diagnostics tab to track progress."),ce({actionType:"diagnostic_run",description:sr?`Diagnostics queued (job ${sr})`:"Diagnostics queued",backtestId:bt,results:{jobId:sr}})}});return}alert(`Unknown action: ${String(we.action)}`)},children:[c.jsx(Up,{className:"w-3.5 h-3.5"}),typeof we.label=="string"&&we.label.trim()?we.label.trim():"Run"]}),Nt&&c.jsxs(Ge,{size:"sm",variant:"outline",className:Mr,onClick:an,children:[c.jsx(t0,{className:"w-3.5 h-3.5"}),"Preview"]}),Nt&&c.jsxs(Ge,{size:"sm",variant:"outline",className:Mr,onClick:an,children:[c.jsx(Dy,{className:"w-3.5 h-3.5"}),fe?"Replace Selection":rr?"Replace Current Function":wn?`Replace Function '${qt}'`:"Insert"]}),Nt&&Me&&!!l&&c.jsxs(Ge,{size:"sm",variant:"outline",className:Mr,onClick:an,children:[c.jsx(Wp,{className:"w-3.5 h-3.5"}),"Apply & Save"]}),Le&&c.jsxs(Ge,{size:"sm",variant:"outline",className:Mr,onClick:()=>{o?.(_e),xe(_e)},children:[c.jsx(Ei,{className:"w-3.5 h-3.5"}),"Apply Config"]})]},pe)})})]}),U.role==="user"&&c.jsx("div",{className:"w-8 h-8 rounded-xl border border-border/40 bg-secondary/60 backdrop-blur flex items-center justify-center flex-shrink-0 shadow-sm",children:c.jsx(qC,{className:"w-4 h-4"})})]},U.id)),bn.isPending&&c.jsxs("div",{className:"flex gap-3 justify-start animate-in fade-in slide-in-from-left-2 duration-300",children:[c.jsx("div",{className:"w-8 h-8 rounded-xl border border-border/40 bg-primary/10 flex items-center justify-center flex-shrink-0 shadow-sm",children:c.jsx(Ma,{className:"w-4 h-4 text-primary"})}),c.jsxs("div",{className:"rounded-2xl px-3 py-2 text-sm border border-border/40 bg-background/60 backdrop-blur flex items-center gap-2 shadow-sm",children:[c.jsx(Er,{className:"w-3.5 h-3.5 animate-spin"}),c.jsx("span",{className:"text-xs text-muted-foreground",children:"Thinking..."})]})]})]})}),c.jsx(Ow,{open:!!I,onOpenChange:U=>U?void 0:J(null),children:c.jsxs(Nm,{className:"max-w-5xl",children:[c.jsxs(km,{children:[c.jsx(jm,{children:I?.title??"Preview"}),I?.error?c.jsx(ho,{className:"text-destructive",children:I.error}):I?.mismatchWarning?c.jsx(ho,{className:"text-destructive",children:I.mismatchWarning}):I?.isValidating?c.jsx(ho,{children:"Validating change..."}):c.jsx(ho,{children:"Review the change below before applying."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[c.jsxs("div",{className:"border border-border/40 rounded-md overflow-hidden",children:[c.jsx("div",{className:"px-3 py-2 text-xs font-medium bg-muted/50 border-b border-border/40",children:I?.currentLabel??"Current"}),c.jsx("pre",{className:"p-3 text-xs font-mono whitespace-pre overflow-auto max-h-[55vh] bg-black/20",children:I?.current||""})]}),c.jsxs("div",{className:"border border-border/40 rounded-md overflow-hidden",children:[c.jsx("div",{className:"px-3 py-2 text-xs font-medium bg-muted/50 border-b border-border/40",children:"AI Proposed"}),c.jsx("pre",{className:"p-3 text-xs font-mono whitespace-pre overflow-auto max-h-[55vh] bg-black/20",children:I?.proposed||""})]})]}),(I?.diff||I?.isValidating||I?.error)&&c.jsxs("div",{className:"mt-3 border border-border/40 rounded-md overflow-hidden",children:[c.jsx("div",{className:"px-3 py-2 text-xs font-medium bg-muted/50 border-b border-border/40",children:"Validated Diff"}),c.jsx("pre",{className:"p-3 text-xs font-mono whitespace-pre overflow-auto max-h-[35vh] bg-black/20",children:I?.diff||(I?.isValidating?"Validating...":I?.error?"Validation failed":"")})]}),c.jsxs(Cm,{children:[c.jsx(Ge,{variant:"outline",onClick:()=>J(null),children:"Cancel"}),c.jsx(Ge,{variant:"outline",onClick:()=>{I&&(i?.(I.proposed,I.mode),Z(I.proposed,I.mode),J(null))},disabled:!i||!!I?.isValidating,children:"Apply"}),c.jsx(Ge,{variant:"outline",onClick:async()=>{if(I&&!(I.mismatchWarning&&!confirm(I.mismatchWarning))&&!(I.isValidating||I.error)){if(Me&&d&&typeof n.fileName=="string"&&Array.isArray(I.edits)&&I.edits.length>0){J(U=>U&&{...U,isValidating:!0});try{await d({strategyPath:String(n.fileName),edits:I.edits,dryRun:!1}),Z(I.proposed,I.mode),J(null)}catch(U){const oe=String(U?.message||U||"Apply failed");J(pe=>pe&&{...pe,error:oe,isValidating:!1})}return}l?.(I.proposed,I.mode),Z(I.proposed,I.mode),J(null)}},disabled:!Me||!l&&!d||!!I?.isValidating||!!I?.error,children:"Apply & Save"})]})]})}),c.jsxs("div",{className:"p-3 border-t border-border/50 bg-background relative",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(hb,{ref:ue,"data-testid":"textarea-chat-input",value:g,onChange:bs,onKeyDown:en,placeholder:"",className:Ce("min-h-[60px] resize-none text-sm","rounded-2xl border-border/40 bg-background/60 backdrop-blur shadow-sm","focus-visible:ring-primary/30")}),c.jsx(LI,{isOpen:se&&ws.length>0,onClose:()=>ae(!1),items:ws,onSelect:ri,position:K})]}),c.jsx(Ge,{"data-testid":"button-send-message",size:"icon",onClick:Jr,disabled:!g.trim()||bn.isPending,className:Ce("h-[60px] w-12 flex-shrink-0 rounded-2xl","bg-primary text-primary-foreground","shadow-sm hover:shadow-md","disabled:opacity-60"),children:c.jsx(WC,{className:"w-4 h-4"})})]}),n.lineNumber&&c.jsx("div",{className:"mt-2 text-xs text-muted-foreground flex items-center gap-1",children:c.jsxs("span",{children:["Line ",n.lineNumber]})})]})]})}function Vv({label:e,status:t}){const n=t==="connected",i=t==="checking";return c.jsxs("div",{className:Ce("flex items-center gap-1.5 rounded-full border px-2 py-0.5 text-[10px] font-semibold uppercase tracking-wider",i?"border-purple-500/30 bg-purple-500/10 text-purple-200":n?"border-emerald-500/30 bg-emerald-500/10 text-emerald-400":"border-red-500/30 bg-red-500/10 text-red-400"),children:[n?c.jsx(QC,{className:"w-3 h-3"}):c.jsx(HC,{className:"w-3 h-3"}),c.jsx("span",{children:e})]})}function WI({activeFilePath:e,isDirty:t,isSaving:n,isStrategyFile:i,isRunningBacktest:o,aiStatus:l,cliStatus:d,onNavigateBack:f,onSave:m,onRunBacktest:g,onValidate:h,inlineEditsEnabled:x,onToggleInlineEdits:b}){return c.jsxs("div",{className:"h-12 border-b border-white/10 bg-black/30 backdrop-blur flex items-center justify-between px-3",children:[c.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[c.jsxs(Ge,{variant:"ghost",size:"sm",className:"h-8 px-2 text-xs gap-2 text-slate-200 hover:text-white hover:bg-white/5",onClick:f,children:[c.jsx(TC,{className:"w-4 h-4"}),"IDE"]}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("div",{className:"w-7 h-7 rounded-md bg-gradient-to-br from-purple-600/70 to-red-600/70 ring-1 ring-white/10 flex items-center justify-center",children:c.jsx(Ma,{className:"w-4 h-4"})}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-xs font-bold tracking-[0.18em] uppercase text-purple-200",children:"Workspace"}),c.jsx("div",{className:"text-[10px] text-slate-400 truncate",children:e?e.split("/").pop():"No strategy selected"})]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Vv,{label:"AI",status:l}),c.jsx(Vv,{label:"CLI",status:d}),c.jsxs(Ge,{variant:"outline",size:"sm",className:"h-8 px-3 text-xs gap-2 bg-white/5 border-white/10 hover:bg-white/10 hover:text-white",onClick:m,disabled:!e||!t||n,children:[n?c.jsx(Er,{className:"w-3.5 h-3.5 animate-spin"}):c.jsx(Wp,{className:"w-3.5 h-3.5"}),"Save"]}),h&&c.jsxs(Ge,{variant:"outline",size:"sm",className:"h-8 px-3 text-xs gap-2 bg-white/5 border-purple-500/30 text-purple-400 hover:bg-purple-500/10 hover:text-purple-300",onClick:h,disabled:!i,children:[c.jsx(qp,{className:"w-3.5 h-3.5"}),"Validate"]}),b&&c.jsxs(Ge,{variant:"outline",size:"sm",className:"h-8 px-3 text-xs gap-2 bg-white/5 border-white/10 hover:bg-white/10 hover:text-white",onClick:b,disabled:!i,children:[x?c.jsx(IC,{className:"w-3.5 h-3.5"}):c.jsx(t0,{className:"w-3.5 h-3.5"}),x?"Hide edits":"Show edits"]}),c.jsxs(Ge,{size:"sm",className:"h-8 px-3 text-xs gap-2 bg-gradient-to-r from-purple-600 to-red-600 hover:from-purple-500 hover:to-red-500",onClick:g,disabled:!i||o,children:[o?c.jsx(Er,{className:"w-3.5 h-3.5 animate-spin"}):c.jsx(n0,{className:"w-3.5 h-3.5"}),"Run"]})]})]})}function qI(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Am="Checkbox",[HI]=Zr(Am),[QI,KI]=HI(Am),Yw=y.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:i,checked:o,defaultChecked:l,required:d,disabled:f,value:m="on",onCheckedChange:g,form:h,...x}=e,[b,k]=y.useState(null),C=_t(t,L=>k(L)),w=y.useRef(!1),N=b?h||!!b.closest("form"):!0,[j=!1,P]=$o({prop:o,defaultProp:l,onChange:g}),A=y.useRef(j);return y.useEffect(()=>{const L=b?.form;if(L){const F=()=>P(A.current);return L.addEventListener("reset",F),()=>L.removeEventListener("reset",F)}},[b,P]),c.jsxs(QI,{scope:n,state:j,disabled:f,children:[c.jsx(ct.button,{type:"button",role:"checkbox","aria-checked":Hs(j)?"mixed":j,"aria-required":d,"data-state":e1(j),"data-disabled":f?"":void 0,disabled:f,value:m,...x,ref:C,onKeyDown:Qe(e.onKeyDown,L=>{L.key==="Enter"&&L.preventDefault()}),onClick:Qe(e.onClick,L=>{P(F=>Hs(F)?!0:!F),N&&(w.current=L.isPropagationStopped(),w.current||L.stopPropagation())})}),N&&c.jsx(ZI,{control:b,bubbles:!w.current,name:i,value:m,checked:j,required:d,disabled:f,form:h,style:{transform:"translateX(-100%)"},defaultChecked:Hs(l)?!1:l})]})});Yw.displayName=Am;var Xw="CheckboxIndicator",Jw=y.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:i,...o}=e,l=KI(Xw,n);return c.jsx(Un,{present:i||Hs(l.state)||l.state===!0,children:c.jsx(ct.span,{"data-state":e1(l.state),"data-disabled":l.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});Jw.displayName=Xw;var ZI=e=>{const{control:t,checked:n,bubbles:i=!0,defaultChecked:o,...l}=e,d=y.useRef(null),f=qI(n),m=k0(t);y.useEffect(()=>{const h=d.current,x=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(x,"checked").set;if(f!==n&&k){const C=new Event("click",{bubbles:i});h.indeterminate=Hs(n),k.call(h,Hs(n)?!1:n),h.dispatchEvent(C)}},[f,n,i]);const g=y.useRef(Hs(n)?!1:n);return c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o??g.current,...l,tabIndex:-1,ref:d,style:{...e.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Hs(e){return e==="indeterminate"}function e1(e){return Hs(e)?"indeterminate":e?"checked":"unchecked"}var t1=Yw,GI=Jw;const n1=y.forwardRef(({className:e,...t},n)=>c.jsx(t1,{ref:n,className:Ce("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:c.jsx(GI,{className:Ce("flex items-center justify-center text-current"),children:c.jsx(Vc,{className:"h-4 w-4"})})}));n1.displayName=t1.displayName;function YI({filesLoading:e,strategies:t,activeFileId:n,search:i,setSearch:o,onSelectFile:l,quickTimeframe:d,setQuickTimeframe:f,quickTimerangePreset:m,setQuickTimerangePreset:g,quickTimerange:h,setQuickTimerange:x,quickSelectedPairs:b,setQuickSelectedPairs:k,pairsOpen:C,setPairsOpen:w,pairsQuery:N,setPairsQuery:j,quickStake:P,setQuickStake:A,quickMaxOpenTrades:L,setQuickMaxOpenTrades:F,maxTradesMode:H,setMaxTradesMode:I,maxTradesUserSet:J,setMaxTradesUserSet:se,availablePairs:ae,filteredPairs:K,downloadStatus:ee,downloadLog:de,onClearDownloadLog:le,lastBacktestId:ue,isDownloading:q,toggleQuickPair:Q,selectAllQuickPairs:$,clearQuickPairs:ne,handleTimerangePresetChange:G,handleDownloadData:T,setQuickConfigTouched:_}){const[O,X]=y.useState(()=>{try{return localStorage.getItem("workspace:downloadLogDocked")==="1"}catch{return!1}}),[D,M]=y.useState(!0);return y.useEffect(()=>{try{localStorage.setItem("workspace:downloadLogDocked",O?"1":"0")}catch{}},[O]),c.jsxs("div",{className:"h-full flex flex-col relative",children:[c.jsxs("div",{className:"p-3 border-b border-white/10",children:[c.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest text-purple-200",children:"Strategies"}),c.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(zy,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-500"}),c.jsx(fs,{value:i,onChange:B=>o(B.target.value),placeholder:"Search...",className:"h-8 pl-8 text-xs bg-black/30 border-white/10 text-slate-200 placeholder:text-slate-500"})]}),c.jsx(Ot,{variant:"outline",className:"h-8 px-2 text-[10px] border-white/10 bg-black/30 text-slate-300",children:t.length})]})]}),c.jsx(qs,{className:"flex-1",children:c.jsx("div",{className:"p-2 space-y-1",children:e?c.jsx("div",{className:"p-3 text-xs text-slate-400",children:"Loading..."}):t.length===0?c.jsx("div",{className:"p-3 text-xs text-slate-400",children:"No strategies found."}):t.map(B=>{const re=n!=null&&Number(B.id)===n;return c.jsx("button",{type:"button",onClick:()=>l(Number(B.id)),className:Ce("w-full text-left px-2 py-2 rounded-md border transition-colors",re?"border-purple-500/40 bg-purple-500/10":"border-white/5 hover:border-white/10 hover:bg-white/5"),children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx(Ei,{className:Ce("w-4 h-4 shrink-0",re?"text-purple-200":"text-slate-400")}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("div",{className:Ce("text-xs font-medium truncate",re?"text-white":"text-slate-200"),children:String(B.path).split("/").pop()}),c.jsx("div",{className:"text-[10px] text-slate-500 truncate",children:String(B.path)})]})]})},B.id)})})}),c.jsxs("div",{className:"p-3 border-t border-white/10 bg-black/20",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-[10px] font-bold uppercase tracking-widest text-red-400",children:"Quick Backtest"}),ue!=null?c.jsxs(Ot,{variant:"outline",className:"text-[10px] border-white/10 bg-black/30 text-slate-300",children:["#",ue]}):null]}),c.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] text-slate-400 mb-1",children:"Timeframe"}),c.jsx("select",{value:d,onChange:B=>{_(!0),f(B.target.value)},className:"w-full h-8 rounded-md bg-black/30 border border-white/10 px-2 text-xs text-slate-200 outline-none",children:ou.map(B=>c.jsx("option",{value:B,children:B},B))})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] text-slate-400 mb-1",children:"Stake"}),c.jsx(fs,{value:String(P),onChange:B=>{_(!0),A(Number(B.target.value))},className:"h-8 text-xs bg-black/30 border-white/10 text-slate-200",inputMode:"decimal"})]}),c.jsxs("div",{className:"col-span-2",children:[c.jsx("div",{className:"text-[10px] text-slate-400 mb-1",children:"Pairs"}),c.jsxs(Kw,{open:C,onOpenChange:w,children:[c.jsx(Zw,{asChild:!0,children:c.jsxs(Ge,{type:"button",variant:"outline",className:"w-full h-8 justify-between bg-black/30 border-white/10 text-slate-200 hover:bg-white/5",onClick:()=>_(!0),children:[c.jsx("span",{className:"text-xs truncate",children:b.length>0?`${b.length} selected`:"Select pairs"}),c.jsx(e0,{className:"w-4 h-4 text-slate-400"})]})}),c.jsxs(Pm,{align:"start",className:"w-[340px] p-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(zy,{className:"w-4 h-4 text-muted-foreground"}),c.jsx(fs,{value:N,onChange:B=>j(B.target.value),placeholder:"Search pairs...",className:"h-8 text-xs"})]}),c.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[c.jsx(Ge,{type:"button",variant:"ghost",size:"sm",className:"h-7 px-2 text-[10px]",onClick:()=>{_(!0),$()},children:"Select All"}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(fs,{type:"number",min:1,max:ae.length,defaultValue:10,id:"random-pair-count",className:"h-7 w-12 px-1 text-center text-[10px] bg-black/30 border-white/10",onClick:B=>B.stopPropagation()}),c.jsx(Ge,{type:"button",variant:"ghost",size:"sm",className:"h-7 px-2 text-[10px] text-purple-400 hover:text-purple-300 hover:bg-purple-500/10",onClick:()=>{_(!0);const B=document.getElementById("random-pair-count"),re=Math.min(parseInt(B?.value||"10",10),ae.length),ye=[...ae].sort(()=>.5-Math.random()).slice(0,re);k(ye)},title:"Select random pairs",children:"Random"})]}),c.jsx(Ge,{type:"button",variant:"ghost",size:"sm",className:"h-7 px-2 text-[10px]",onClick:()=>{_(!0),ne()},children:"Clear"})]}),c.jsx("div",{className:"mt-2 max-h-[240px] overflow-auto rounded-md border border-border/50",children:K.map(B=>{const re=b.includes(B);return c.jsxs("div",{role:"button",tabIndex:0,className:Ce("w-full flex items-center gap-2 px-2 py-2 text-left text-xs hover:bg-accent",re&&"bg-accent/40"),onClick:()=>{_(!0),Q(B)},children:[c.jsx(n1,{checked:re,onCheckedChange:()=>{}}),c.jsx("span",{className:"flex-1 truncate",children:B}),re?c.jsx(Vc,{className:"w-3.5 h-3.5 text-primary"}):null]},B)})})]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] text-slate-400 mb-1",children:"Range"}),c.jsxs("select",{value:m,onChange:B=>{_(!0),G(B.target.value)},className:"w-full h-8 rounded-md bg-black/30 border border-white/10 px-2 text-xs text-slate-200 outline-none",children:[c.jsx("option",{value:"30d",children:"30d"}),c.jsx("option",{value:"60d",children:"60d"}),c.jsx("option",{value:"90d",children:"90d"}),c.jsx("option",{value:"180d",children:"180d"}),c.jsx("option",{value:"365d",children:"1y"}),c.jsx("option",{value:"ytd",children:"YTD"}),c.jsx("option",{value:"custom",children:"Custom"})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] text-slate-400 mb-1",children:"Max Open Trades"}),c.jsxs("select",{value:H==="custom"?"custom":String(L),onChange:B=>{_(!0),se(!0);const re=B.target.value;if(re==="custom"){I("custom");return}const fe=Number(re);Number.isFinite(fe)&&(I("preset"),F(fe))},className:"w-full h-8 rounded-md bg-black/30 border border-white/10 px-2 text-xs text-slate-200 outline-none",children:[[1,2,3,5,10,15,20,30].map(B=>c.jsx("option",{value:String(B),children:B},B)),c.jsx("option",{value:"custom",children:"Custom"})]}),H==="custom"?c.jsx(fs,{value:String(L),onChange:B=>{_(!0),se(!0),F(Number(B.target.value))},className:"mt-2 h-8 text-xs bg-black/30 border-white/10 text-slate-200",inputMode:"numeric"}):null]}),c.jsxs("div",{className:"col-span-2 grid grid-cols-2 gap-2",children:[c.jsx(fs,{value:h,onChange:B=>{_(!0),g("custom"),x(B.target.value)},placeholder:"YYYYMMDD-YYYYMMDD",className:"h-8 text-xs bg-black/30 border-white/10 text-slate-200 placeholder:text-slate-500"}),c.jsxs(Ge,{variant:"ghost",size:"sm",className:"h-8 w-full px-2 text-xs gap-1",onClick:T,disabled:q||!b.length,children:[q?c.jsx(Er,{className:"h-3 w-3 animate-spin"}):c.jsx(RC,{className:"h-3 w-3"}),"Download"]})]}),ee.status!=="idle"&&c.jsxs("div",{className:Ce("col-span-2 flex items-center gap-2 text-[10px] px-2 py-1 rounded border",ee.status==="downloading"&&"border-purple-500/30 bg-purple-500/10 text-purple-200",ee.status==="success"&&"border-emerald-500/30 bg-emerald-500/10 text-emerald-400",ee.status==="error"&&"border-red-500/30 bg-red-500/10 text-red-400"),children:[ee.status==="downloading"&&c.jsx(Er,{className:"h-3 w-3 animate-spin"}),ee.status==="success"&&c.jsx(Vc,{className:"h-3 w-3"}),ee.status==="error"&&c.jsx(yi,{className:"h-3 w-3"}),c.jsx("span",{className:"truncate",children:ee.message})]}),Array.isArray(de)&&de.length>0&&!O&&c.jsxs("div",{className:"col-span-2 rounded-md border border-white/10 bg-black/30 p-2",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 mb-1",children:[c.jsx("div",{className:"text-[10px] text-slate-400",children:"Download log"}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Ge,{type:"button",variant:"ghost",size:"sm",className:"h-6 px-2 text-[10px]",onClick:()=>X(!0),title:"Dock",children:c.jsx(VC,{className:"h-3 w-3"})}),le&&c.jsx(Ge,{type:"button",variant:"ghost",size:"sm",className:"h-6 px-2 text-[10px]",onClick:le,title:"Clear",children:c.jsx($y,{className:"h-3 w-3"})})]})]}),c.jsx("div",{className:"max-h-[96px] overflow-auto text-[10px] leading-relaxed text-slate-200 font-mono whitespace-pre-wrap",children:de.slice(-20).join(`
`)})]})]})]}),Array.isArray(de)&&de.length>0&&O&&c.jsxs("div",{className:"absolute left-3 right-3 bottom-3 z-30 rounded-md border border-white/10 bg-black/70 backdrop-blur p-2",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("div",{className:"text-[10px] text-slate-300",children:"Download log"}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Ge,{type:"button",variant:"ghost",size:"sm",className:"h-6 px-2 text-[10px]",onClick:()=>M(B=>!B),title:D?"Collapse":"Expand",children:c.jsx(xu,{className:Ce("h-3 w-3",D?"rotate-45":"rotate-0")})}),c.jsx(Ge,{type:"button",variant:"ghost",size:"sm",className:"h-6 px-2 text-[10px]",onClick:()=>X(!1),title:"Undock",children:c.jsx(BC,{className:"h-3 w-3"})}),le&&c.jsx(Ge,{type:"button",variant:"ghost",size:"sm",className:"h-6 px-2 text-[10px]",onClick:le,title:"Clear",children:c.jsx($y,{className:"h-3 w-3"})})]})]}),D&&c.jsx("div",{className:"mt-1 max-h-[140px] overflow-auto text-[10px] leading-relaxed text-slate-100 font-mono whitespace-pre-wrap",children:de.slice(-40).join(`
`)})]})]})}function Uv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function XI(e){if(Array.isArray(e))return e}function JI(e,t,n){return(t=oL(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eL(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i,o,l,d,f=[],m=!0,g=!1;try{if(l=(n=n.call(e)).next,t!==0)for(;!(m=(i=l.call(n)).done)&&(f.push(i.value),f.length!==t);m=!0);}catch(h){g=!0,o=h}finally{try{if(!m&&n.return!=null&&(d=n.return(),Object(d)!==d))return}finally{if(g)throw o}}return f}}function tL(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function qv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wv(Object(n),!0).forEach(function(i){JI(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wv(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function nL(e,t){if(e==null)return{};var n,i,o=rL(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)n=l[i],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function rL(e,t){if(e==null)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;n[i]=e[i]}return n}function sL(e,t){return XI(e)||eL(e,t)||aL(e,t)||tL()}function iL(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oL(e){var t=iL(e,"string");return typeof t=="symbol"?t:t+""}function aL(e,t){if(e){if(typeof e=="string")return Uv(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Uv(e,t):void 0}}function lL(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function Qv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hv(Object(n),!0).forEach(function(i){lL(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hv(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function cL(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){return t.reduceRight(function(o,l){return l(o)},i)}}function Ra(e){return function t(){for(var n=this,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return o.length>=e.length?e.apply(this,o):function(){for(var d=arguments.length,f=new Array(d),m=0;m<d;m++)f[m]=arguments[m];return t.apply(n,[].concat(o,f))}}}function lu(e){return{}.toString.call(e).includes("Object")}function uL(e){return!Object.keys(e).length}function ol(e){return typeof e=="function"}function dL(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function fL(e,t){return lu(t)||Qs("changeType"),Object.keys(t).some(function(n){return!dL(e,n)})&&Qs("changeField"),t}function pL(e){ol(e)||Qs("selectorType")}function mL(e){ol(e)||lu(e)||Qs("handlerType"),lu(e)&&Object.values(e).some(function(t){return!ol(t)})&&Qs("handlersType")}function hL(e){e||Qs("initialIsRequired"),lu(e)||Qs("initialType"),uL(e)&&Qs("initialContent")}function gL(e,t){throw new Error(e[t]||e.default)}var yL={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Qs=Ra(gL)(yL),Rc={changes:fL,selector:pL,handler:mL,initial:hL};function vL(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Rc.initial(e),Rc.handler(t);var n={current:e},i=Ra(wL)(n,t),o=Ra(bL)(n),l=Ra(Rc.changes)(e),d=Ra(xL)(n);function f(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(h){return h};return Rc.selector(g),g(n.current)}function m(g){cL(i,o,l,d)(g)}return[f,m]}function xL(e,t){return ol(t)?t(e.current):t}function bL(e,t){return e.current=Qv(Qv({},e.current),t),t}function wL(e,t,n){return ol(t)?t(e.current):Object.keys(n).forEach(function(i){var o;return(o=t[i])===null||o===void 0?void 0:o.call(t,e.current[i])}),n}var SL={create:vL},NL={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function kL(e){return function t(){for(var n=this,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return o.length>=e.length?e.apply(this,o):function(){for(var d=arguments.length,f=new Array(d),m=0;m<d;m++)f[m]=arguments[m];return t.apply(n,[].concat(o,f))}}}function CL(e){return{}.toString.call(e).includes("Object")}function jL(e){return e||Kv("configIsRequired"),CL(e)||Kv("configType"),e.urls?(_L(),{paths:{vs:e.urls.monacoBase}}):e}function _L(){console.warn(r1.deprecation)}function EL(e,t){throw new Error(e[t]||e.default)}var r1={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Kv=kL(EL)(r1),PL={config:jL},TL=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return function(o){return n.reduceRight(function(l,d){return d(l)},o)}};function s1(e,t){return Object.keys(t).forEach(function(n){t[n]instanceof Object&&e[n]&&Object.assign(t[n],s1(e[n],t[n]))}),qv(qv({},e),t)}var AL={type:"cancelation",msg:"operation is manually canceled"};function Xf(e){var t=!1,n=new Promise(function(i,o){e.then(function(l){return t?o(AL):i(l)}),e.catch(o)});return n.cancel=function(){return t=!0},n}var RL=["monaco"],IL=SL.create({config:NL,isInitialized:!1,resolve:null,reject:null,monaco:null}),i1=sL(IL,2),ml=i1[0],Ou=i1[1];function LL(e){var t=PL.config(e),n=t.monaco,i=nL(t,RL);Ou(function(o){return{config:s1(o.config,i),monaco:n}})}function OL(){var e=ml(function(t){var n=t.monaco,i=t.isInitialized,o=t.resolve;return{monaco:n,isInitialized:i,resolve:o}});if(!e.isInitialized){if(Ou({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Xf(Jf);if(window.monaco&&window.monaco.editor)return o1(window.monaco),e.resolve(window.monaco),Xf(Jf);TL(ML,FL)(zL)}return Xf(Jf)}function ML(e){return document.body.appendChild(e)}function DL(e){var t=document.createElement("script");return e&&(t.src=e),t}function FL(e){var t=ml(function(i){var o=i.config,l=i.reject;return{config:o,reject:l}}),n=DL("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function zL(){var e=ml(function(n){var i=n.config,o=n.resolve,l=n.reject;return{config:i,resolve:o,reject:l}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(n){var i=n.m||n;o1(i),e.resolve(i)},function(n){e.reject(n)})}function o1(e){ml().monaco||Ou({monaco:e})}function $L(){return ml(function(e){var t=e.monaco;return t})}var Jf=new Promise(function(e,t){return Ou({resolve:e,reject:t})}),a1={config:LL,init:OL,__getMonacoInstance:$L},BL={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},ep=BL,VL={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},UL=VL;function WL({children:e}){return Pn.createElement("div",{style:UL.container},e)}var qL=WL,HL=qL;function QL({width:e,height:t,isEditorReady:n,loading:i,_ref:o,className:l,wrapperProps:d}){return Pn.createElement("section",{style:{...ep.wrapper,width:e,height:t},...d},!n&&Pn.createElement(HL,null,i),Pn.createElement("div",{ref:o,style:{...ep.fullWidth,...!n&&ep.hide},className:l}))}var KL=QL,l1=y.memo(KL);function ZL(e){y.useEffect(e,[])}var c1=ZL;function GL(e,t,n=!0){let i=y.useRef(!0);y.useEffect(i.current||!n?()=>{i.current=!1}:e,t)}var Xn=GL;function Da(){}function go(e,t,n,i){return YL(e,i)||XL(e,t,n,i)}function YL(e,t){return e.editor.getModel(u1(e,t))}function XL(e,t,n,i){return e.editor.createModel(t,n,i?u1(e,i):void 0)}function u1(e,t){return e.Uri.parse(t)}function JL({original:e,modified:t,language:n,originalLanguage:i,modifiedLanguage:o,originalModelPath:l,modifiedModelPath:d,keepCurrentOriginalModel:f=!1,keepCurrentModifiedModel:m=!1,theme:g="light",loading:h="Loading...",options:x={},height:b="100%",width:k="100%",className:C,wrapperProps:w={},beforeMount:N=Da,onMount:j=Da}){let[P,A]=y.useState(!1),[L,F]=y.useState(!0),H=y.useRef(null),I=y.useRef(null),J=y.useRef(null),se=y.useRef(j),ae=y.useRef(N),K=y.useRef(!1);c1(()=>{let ue=a1.init();return ue.then(q=>(I.current=q)&&F(!1)).catch(q=>q?.type!=="cancelation"&&console.error("Monaco initialization: error:",q)),()=>H.current?le():ue.cancel()}),Xn(()=>{if(H.current&&I.current){let ue=H.current.getOriginalEditor(),q=go(I.current,e||"",i||n||"text",l||"");q!==ue.getModel()&&ue.setModel(q)}},[l],P),Xn(()=>{if(H.current&&I.current){let ue=H.current.getModifiedEditor(),q=go(I.current,t||"",o||n||"text",d||"");q!==ue.getModel()&&ue.setModel(q)}},[d],P),Xn(()=>{let ue=H.current.getModifiedEditor();ue.getOption(I.current.editor.EditorOption.readOnly)?ue.setValue(t||""):t!==ue.getValue()&&(ue.executeEdits("",[{range:ue.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),ue.pushUndoStop())},[t],P),Xn(()=>{H.current?.getModel()?.original.setValue(e||"")},[e],P),Xn(()=>{let{original:ue,modified:q}=H.current.getModel();I.current.editor.setModelLanguage(ue,i||n||"text"),I.current.editor.setModelLanguage(q,o||n||"text")},[n,i,o],P),Xn(()=>{I.current?.editor.setTheme(g)},[g],P),Xn(()=>{H.current?.updateOptions(x)},[x],P);let ee=y.useCallback(()=>{if(!I.current)return;ae.current(I.current);let ue=go(I.current,e||"",i||n||"text",l||""),q=go(I.current,t||"",o||n||"text",d||"");H.current?.setModel({original:ue,modified:q})},[n,t,o,e,i,l,d]),de=y.useCallback(()=>{!K.current&&J.current&&(H.current=I.current.editor.createDiffEditor(J.current,{automaticLayout:!0,...x}),ee(),I.current?.editor.setTheme(g),A(!0),K.current=!0)},[x,g,ee]);y.useEffect(()=>{P&&se.current(H.current,I.current)},[P]),y.useEffect(()=>{!L&&!P&&de()},[L,P,de]);function le(){let ue=H.current?.getModel();f||ue?.original?.dispose(),m||ue?.modified?.dispose(),H.current?.dispose()}return Pn.createElement(l1,{width:k,height:b,isEditorReady:P,loading:h,_ref:J,className:C,wrapperProps:w})}var eO=JL,d1=y.memo(eO);function tO(e){let t=y.useRef();return y.useEffect(()=>{t.current=e},[e]),t.current}var nO=tO,Ic=new Map;function rO({defaultValue:e,defaultLanguage:t,defaultPath:n,value:i,language:o,path:l,theme:d="light",line:f,loading:m="Loading...",options:g={},overrideServices:h={},saveViewState:x=!0,keepCurrentModel:b=!1,width:k="100%",height:C="100%",className:w,wrapperProps:N={},beforeMount:j=Da,onMount:P=Da,onChange:A,onValidate:L=Da}){let[F,H]=y.useState(!1),[I,J]=y.useState(!0),se=y.useRef(null),ae=y.useRef(null),K=y.useRef(null),ee=y.useRef(P),de=y.useRef(j),le=y.useRef(),ue=y.useRef(i),q=nO(l),Q=y.useRef(!1),$=y.useRef(!1);c1(()=>{let T=a1.init();return T.then(_=>(se.current=_)&&J(!1)).catch(_=>_?.type!=="cancelation"&&console.error("Monaco initialization: error:",_)),()=>ae.current?G():T.cancel()}),Xn(()=>{let T=go(se.current,e||i||"",t||o||"",l||n||"");T!==ae.current?.getModel()&&(x&&Ic.set(q,ae.current?.saveViewState()),ae.current?.setModel(T),x&&ae.current?.restoreViewState(Ic.get(l)))},[l],F),Xn(()=>{ae.current?.updateOptions(g)},[g],F),Xn(()=>{!ae.current||i===void 0||(ae.current.getOption(se.current.editor.EditorOption.readOnly)?ae.current.setValue(i):i!==ae.current.getValue()&&($.current=!0,ae.current.executeEdits("",[{range:ae.current.getModel().getFullModelRange(),text:i,forceMoveMarkers:!0}]),ae.current.pushUndoStop(),$.current=!1))},[i],F),Xn(()=>{let T=ae.current?.getModel();T&&o&&se.current?.editor.setModelLanguage(T,o)},[o],F),Xn(()=>{f!==void 0&&ae.current?.revealLine(f)},[f],F),Xn(()=>{se.current?.editor.setTheme(d)},[d],F);let ne=y.useCallback(()=>{if(!(!K.current||!se.current)&&!Q.current){de.current(se.current);let T=l||n,_=go(se.current,i||e||"",t||o||"",T||"");ae.current=se.current?.editor.create(K.current,{model:_,automaticLayout:!0,...g},h),x&&ae.current.restoreViewState(Ic.get(T)),se.current.editor.setTheme(d),f!==void 0&&ae.current.revealLine(f),H(!0),Q.current=!0}},[e,t,n,i,o,l,g,h,x,d,f]);y.useEffect(()=>{F&&ee.current(ae.current,se.current)},[F]),y.useEffect(()=>{!I&&!F&&ne()},[I,F,ne]),ue.current=i,y.useEffect(()=>{F&&A&&(le.current?.dispose(),le.current=ae.current?.onDidChangeModelContent(T=>{$.current||A(ae.current.getValue(),T)}))},[F,A]),y.useEffect(()=>{if(F){let T=se.current.editor.onDidChangeMarkers(_=>{let O=ae.current.getModel()?.uri;if(O&&_.find(X=>X.path===O.path)){let X=se.current.editor.getModelMarkers({resource:O});L?.(X)}});return()=>{T?.dispose()}}return()=>{}},[F,L]);function G(){le.current?.dispose(),b?x&&Ic.set(l,ae.current.saveViewState()):ae.current.getModel()?.dispose(),ae.current.dispose()}return Pn.createElement(l1,{width:k,height:C,isEditorReady:F,loading:m,_ref:K,className:w,wrapperProps:N})}var sO=rO,iO=y.memo(sO),oO=iO;const Ci=e=>String(e||"").match(/^\s*/)?.[0]?.length??0,Pp=e=>/^\s*def\s+[A-Za-z_][A-Za-z0-9_]*\s*\(/.test(String(e||"")),cu=e=>/^\s*@/.test(String(e||"")),f1=e=>/^\s*class\s+[A-Za-z_][A-Za-z0-9_]*\s*[(:]/.test(String(e||"")),aO=(e,t)=>{const n=String(t||"").trim();return n?new RegExp(`^\\s*def\\s+${n.replace(/[.*+?^${}()|[\\]\\\\]/g,"\\$&")}\\s*\\(`).test(String(e||"")):!1},lO=(e,t)=>{const n=e.getLineCount(),i=Math.min(Math.max(1,t||1),n);let o=i;for(;o>=1;){let l=-1;for(let g=o;g>=1;g--){const h=e.getLineContent(g);if(Pp(h)){l=g;break}}if(l===-1)return null;const d=Ci(e.getLineContent(l));let f=l;for(;f>1;){const g=e.getLineContent(f-1);if(!cu(g)||Ci(g)!==d)break;f--}let m=n;for(let g=l+1;g<=n;g++){const h=e.getLineContent(g);if(!String(h).trim())continue;const x=Ci(h);if(x<d){m=g-1;break}if(x===d&&(Pp(h)||cu(h)||f1(h))){m=g-1;break}}if(i>=f&&i<=m)return{startLineNumber:f,startColumn:1,endLineNumber:Math.max(f,m),endColumn:e.getLineMaxColumn(Math.max(f,m))};o=l-1}return null},cO=(e,t)=>{const n=e.getLineCount(),i=String(t||"").trim();if(!i)return null;let o=-1;for(let m=1;m<=n;m++){const g=e.getLineContent(m);if(aO(g,i)){o=m;break}}if(o===-1)return null;const l=Ci(e.getLineContent(o));let d=o;for(;d>1;){const m=e.getLineContent(d-1);if(!cu(m)||Ci(m)!==l)break;d--}let f=n;for(let m=o+1;m<=n;m++){const g=e.getLineContent(m);if(!String(g).trim())continue;const h=Ci(g);if(h<l){f=m-1;break}if(h===l&&(Pp(g)||cu(g)||f1(g))){f=m-1;break}}return{startLineNumber:d,startColumn:1,endLineNumber:Math.max(d,f),endColumn:e.getLineMaxColumn(Math.max(d,f))}},uO=y.forwardRef(({language:e,value:t,onChange:n,onSave:i,onEditorStateChange:o,readOnly:l=!1,onToggleChat:d,isChatOpen:f,quickParams:m},g)=>{const h=y.useRef(null),x=y.useRef(null),[b,k]=y.useState(!1),[C,w]=y.useState(!1),{toast:N}=pu(),j=y.useRef({ids:[]}),P=y.useRef({ids:[],widgets:[]}),A=y.useRef(0),L=y.useRef(null),F=y.useRef({timeframe:"both"}),H=y.useRef(void 0);y.useEffect(()=>{k(!1)},[t]);const I=q=>{k(q!==t),n?.(q)},J=y.useCallback((q,Q,$)=>{const ne=q.getLineCount(),G=new RegExp(`^\\s*${Q.replace(/[.*+?^${}()|[\\]\\\\]/g,"\\$&")}\\s*=\\s*(.+?)\\s*$`);for(let T=1;T<=ne;T++){const _=q.getLineContent(T);if(!_.match(G))continue;const X=_.indexOf("=");if(X<0)continue;const D=X+2,M=q.getLineMaxColumn(T);return q.pushEditOperations([],[{range:{startLineNumber:T,startColumn:D,endLineNumber:T,endColumn:M},text:$}],()=>null),!0}return!1},[]),se=y.useCallback((q,Q,$)=>{const ne=q.getLineCount(),G=new RegExp(`^\\s*${Q.replace(/[.*+?^${}()|[\\]\\\\]/g,"\\$&")}\\s*=`);for(let T=1;T<=ne;T++){const _=q.getLineContent(T);if(!G.test(_))continue;const O=_.indexOf("=");if(O<0)continue;let X=0,D=!1,M=T,B=q.getLineMaxColumn(T);for(let fe=T;fe<=ne;fe++){const ye=q.getLineContent(fe),ze=fe===T?O+1:0;for(let Ye=ze;Ye<ye.length;Ye++){const Me=ye[Ye];if(Me==="{")X++,D=!0;else if(Me==="}"&&(X--,D=!0,D&&X===0)){M=fe,B=Ye+2,fe=ne+1;break}}if(D&&X===0)break}const re=O+2;return q.pushEditOperations([],[{range:{startLineNumber:T,startColumn:re,endLineNumber:M,endColumn:B},text:$}],()=>null),!0}return!1},[]),ae=y.useCallback((q,Q,$)=>{const ne=q.getLineCount(),G=/^\s*class\s+[A-Za-z_][A-Za-z0-9_]*\s*\(.*\)\s*:/;for(let T=1;T<=ne;T++){const _=q.getLineContent(T);if(!G.test(_))continue;const O=Ci(_),X=Math.min(ne+1,T+1),M=`${" ".repeat(O+4)}${Q} = ${$}
`;return q.pushEditOperations([],[{range:{startLineNumber:X,startColumn:1,endLineNumber:X,endColumn:1},text:M}],()=>null),!0}return!1},[]),K=y.useCallback(q=>{const Q=h.current,$=Q?.getModel(),ne=x.current;if(!Q||!$||!ne||e!=="python"||!q?.enabled)return;const G=()=>{j.current.ids.length&&(Q.changeViewZones(Z=>{for(const V of j.current.ids)try{Z.removeZone(V)}catch{}}),j.current.ids=[])},T=()=>{if(P.current.widgets.length){for(const Z of P.current.widgets)try{Q.removeContentWidget(Z)}catch{}P.current.widgets=[],P.current.ids=[]}};G(),T();const _=$.getLineCount(),O=[],X=Z=>{Z.stopPropagation()},D=Z=>{const V=String(Z||"").trim();if(!V)return{ok:!1,error:"Value is empty"};if(!V.startsWith("{")||!V.endsWith("}"))return{ok:!1,error:"Must start with '{' and end with '}'"};let xe=0;for(const Et of V)if(Et==="{"?xe++:Et==="}"&&xe--,xe<0)return{ok:!1,error:"Unbalanced braces"};if(xe!==0)return{ok:!1,error:"Unbalanced braces"};const ke=V.slice(1,-1),Ne=[],Ie=/"(\d+)"\s*:\s*(-?\d+(?:\.\d+)?)/g;let Xe;for(;(Xe=Ie.exec(ke))!==null;)Ne.push({k:Xe[1],v:Xe[2]});return ke.replace(Ie,"").replace(/[\s,]/g,"").trim()?{ok:!1,error:'Entries must look like: "0": 0.10'}:Ne.length===0?ke.trim()?{ok:!1,error:"No valid ROI entries found"}:{ok:!0,normalized:"{}"}:{ok:!0,normalized:`{ ${Ne.map(Et=>`"${Et.k}": ${Et.v}`).join(", ")} }`}},M=Z=>{const V=$.getLineContent(Z),xe=V.indexOf("=");if(xe<0)return null;const ke=V.slice(xe+1);if(ke.indexOf("{")<0)return ke.trim();let Ie=0,Xe=!1;const at=[];for(let Tt=Z;Tt<=_;Tt++){const Et=$.getLineContent(Tt),Wt=Tt===Z?xe+1:0,qn=Et.slice(Wt);at.push(qn);for(const Dt of qn)if(Dt==="{")Ie++,Xe=!0;else if(Dt==="}"&&(Ie--,Xe=!0,Xe&&Ie===0))return at.join(`
`).trim()}return at.join(`
`).trim()},B=()=>{const Z=document.createElement("div");return Z.style.display="flex",Z.style.alignItems="center",Z.style.flexWrap="wrap",Z.style.gap="8px",Z.style.rowGap="6px",Z.style.padding="6px 8px",Z.style.marginTop="2px",Z.style.boxSizing="border-box",Z.style.width="100%",Z.style.maxWidth="calc(100% - 12px)",Z.style.minHeight="56px",Z.style.pointerEvents="auto",Z.style.border="1px solid rgba(168,85,247,0.22)",Z.style.borderRadius="10px",Z.style.background="rgba(10,10,15,0.65)",Z.style.backdropFilter="blur(6px)",Z.style.fontSize="11px",Z.style.color="#e2e8f0",Z.addEventListener("mousedown",X),Z.addEventListener("click",X),Z.addEventListener("dblclick",X),Z.addEventListener("wheel",X),Z},re=Z=>{const V=document.createElement("div");return V.textContent=Z,V.style.fontSize="10px",V.style.textTransform="uppercase",V.style.letterSpacing="0.12em",V.style.color="#c4b5fd",V},fe=(Z,V)=>{const xe=document.createElement("select");xe.style.height="24px",xe.style.padding="0 6px",xe.style.minWidth="90px",xe.style.borderRadius="8px",xe.style.border="1px solid rgba(255,255,255,0.12)",xe.style.background="rgba(0,0,0,0.45)",xe.style.color="#e2e8f0",xe.style.fontSize="11px",xe.style.pointerEvents="auto",xe.addEventListener("mousedown",X),xe.addEventListener("click",X);for(const ke of Z){const Ne=document.createElement("option");Ne.value=ke,Ne.textContent=ke,xe.appendChild(Ne)}return xe.value=V,xe},ye=Z=>{const V=document.createElement("input");return V.type="number",V.step="0.001",V.style.height="24px",V.style.width="90px",V.style.padding="0 6px",V.style.minWidth="90px",V.style.borderRadius="8px",V.style.border="1px solid rgba(255,255,255,0.12)",V.style.background="rgba(0,0,0,0.45)",V.style.color="#e2e8f0",V.style.fontSize="11px",V.style.pointerEvents="auto",V.addEventListener("mousedown",X),V.addEventListener("click",X),V.value=Z,V},ze=Z=>{const V=document.createElement("input");return V.type="text",V.style.height="24px",V.style.width="160px",V.style.padding="0 6px",V.style.minWidth="160px",V.style.borderRadius="8px",V.style.border="1px solid rgba(255,255,255,0.12)",V.style.background="rgba(0,0,0,0.45)",V.style.color="#e2e8f0",V.style.fontSize="11px",V.style.pointerEvents="auto",V.addEventListener("mousedown",X),V.addEventListener("click",X),V.value=Z,V},Ye=Z=>{const V=document.createElement("textarea");return V.style.height="72px",V.style.width="340px",V.style.padding="6px",V.style.minWidth="220px",V.style.borderRadius="8px",V.style.border="1px solid rgba(255,255,255,0.12)",V.style.background="rgba(0,0,0,0.45)",V.style.color="#e2e8f0",V.style.fontSize="11px",V.style.fontFamily="ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace",V.style.lineHeight="1.35",V.style.resize="vertical",V.style.pointerEvents="auto",V.addEventListener("mousedown",X),V.addEventListener("click",X),V.addEventListener("wheel",X),V.value=Z,V},Me=Z=>{const V=document.createElement("button");return V.type="button",V.textContent=Z,V.style.height="24px",V.style.padding="0 8px",V.style.whiteSpace="nowrap",V.style.borderRadius="8px",V.style.border="1px solid rgba(168,85,247,0.40)",V.style.background="rgba(168,85,247,0.14)",V.style.color="#ddd6fe",V.style.fontSize="11px",V.style.cursor="pointer",V.style.pointerEvents="auto",V.addEventListener("mousedown",X),V.addEventListener("click",X),V},gt=(Z,V)=>{const xe=document.createElement("div");xe.style.pointerEvents="none",xe.style.width="100%",Q.changeViewZones(Ie=>{const Xe=Ie.addZone({afterLineNumber:Z,heightInPx:108,domNode:xe});O.push(Xe)}),V.style.boxSizing="border-box",V.style.maxWidth="100%",V.style.pointerEvents="auto";try{const Ie=Q.getLayoutInfo();V.style.marginLeft=`${Ie.contentLeft}px`,V.style.width=`${Ie.contentWidth}px`}catch{}const ke=`quick-param-${A.current++}`,Ne={getId:()=>ke,getDomNode:()=>V,getPosition:()=>({position:{lineNumber:Z,column:1},preference:[ne.editor.ContentWidgetPositionPreference.BELOW]})};P.current.ids.push(ke),P.current.widgets.push(Ne),Q.addContentWidget(Ne);try{Q.layoutContentWidget(Ne)}catch{}},pt=Z=>{const V=new RegExp(`^\\s*${Z.replace(/[.*+?^${}()|[\\]\\\\]/g,"\\$&")}\\s*=`);for(let xe=1;xe<=_;xe++)if(V.test($.getLineContent(xe)))return xe;return null},vn=()=>{const Z=/^\s*class\s+[A-Za-z_][A-Za-z0-9_]*\s*\(.*\)\s*:/;for(let V=1;V<=_;V++)if(Z.test($.getLineContent(V)))return V;return null},ce=vn();if(ce!=null&&(q.timerange||q.stake||q.maxOpenTrades)){const Z=B();if(Z.appendChild(re("Backtest Config")),q.timerange){const V=ze(q.timerange.value);V.placeholder="YYYYMMDD-YYYYMMDD";const xe=Me("Set range");xe.addEventListener("click",()=>{const ke=String(V.value||"").trim();ke&&q.timerange?.onChangeBacktest?.(ke)}),Z.appendChild(V),Z.appendChild(xe)}if(q.stake){const V=ye(String(q.stake.value??0));V.step="0.01",V.style.width="110px";const xe=Me("Set stake");xe.addEventListener("click",()=>{const ke=Number(V.value);!Number.isFinite(ke)||ke<=0||q.stake?.onChangeBacktest?.(ke)}),Z.appendChild(V),Z.appendChild(xe)}if(q.maxOpenTrades){const V=ye(String(q.maxOpenTrades.value??1));V.step="1",V.style.width="90px";const xe=Me("Set max");xe.addEventListener("click",()=>{const ke=Number(V.value);!Number.isFinite(ke)||ke<0||q.maxOpenTrades?.onChangeBacktest?.(Math.floor(ke))}),Z.appendChild(V),Z.appendChild(xe)}gt(ce,Z)}if(q.timeframe){const Z=pt("timeframe")??vn();if(Z!=null){const V=B();V.appendChild(re("Timeframe"));const xe=fe(["backtest","strategy","both"],F.current.timeframe);xe.addEventListener("change",()=>{const Ne=String(xe.value||"both");F.current.timeframe=Ne});const ke=fe(q.timeframe.options,q.timeframe.value);ke.addEventListener("change",()=>{const Ne=String(ke.value||"").trim(),Ie=F.current.timeframe;Ne&&((Ie==="backtest"||Ie==="both")&&q.timeframe?.onChangeBacktest?.(Ne),(Ie==="strategy"||Ie==="both")&&(J($,"timeframe",JSON.stringify(Ne))||ae($,"timeframe",JSON.stringify(Ne))))}),V.appendChild(xe),V.appendChild(ke),gt(Z,V)}}{const Z=pt("stoploss");if(Z!=null){const V=B();V.appendChild(re("Stoploss"));const Ne=$.getLineContent(Z).match(/^\s*stoploss\s*=\s*([-0-9.]+)/)?.[1]??"",Ie=ye(Ne),Xe=Me("Apply");Xe.addEventListener("click",()=>{const at=String(Ie.value||"").trim();at&&J($,"stoploss",at)}),V.appendChild(Ie),V.appendChild(Xe),gt(Z,V)}}{const Z=pt("trailing_stop");if(Z!=null){const V=B();V.appendChild(re("Trailing"));const Ne=$.getLineContent(Z).match(/^\s*trailing_stop\s*=\s*(True|False)/)?.[1]??"False",Ie=fe(["False","True"],Ne);Ie.addEventListener("change",()=>{const Xe=String(Ie.value||"False");J($,"trailing_stop",Xe)}),V.appendChild(Ie),gt(Z,V)}}{const Z=pt("trailing_stop_positive");if(Z!=null){const V=B();V.appendChild(re("Trail +"));const ke=$.getLineContent(Z).match(/^\s*trailing_stop_positive\s*=\s*([^#]+?)\s*(#.*)?$/),Ne=String(ke?.[1]??"None").trim(),Ie=ye(Ne==="None"?"":Ne);Ie.step="0.001",Ie.style.width="110px",Ie.placeholder="None";const Xe=Me("Apply");Xe.addEventListener("click",()=>{const at=String(Ie.value||"").trim();J($,"trailing_stop_positive",at||"None")}),V.appendChild(Ie),V.appendChild(Xe),gt(Z,V)}}{const Z=pt("trailing_stop_positive_offset");if(Z!=null){const V=B();V.appendChild(re("Trail offset"));const ke=$.getLineContent(Z).match(/^\s*trailing_stop_positive_offset\s*=\s*([^#]+?)\s*(#.*)?$/),Ne=String(ke?.[1]??"None").trim(),Ie=ye(Ne==="None"?"":Ne);Ie.step="0.001",Ie.style.width="110px",Ie.placeholder="None";const Xe=Me("Apply");Xe.addEventListener("click",()=>{const at=String(Ie.value||"").trim();J($,"trailing_stop_positive_offset",at||"None")}),V.appendChild(Ie),V.appendChild(Xe),gt(Z,V)}}{const Z=pt("trailing_only_offset_is_reached");if(Z!=null){const V=B();V.appendChild(re("Trail only after"));const Ne=$.getLineContent(Z).match(/^\s*trailing_only_offset_is_reached\s*=\s*(True|False)/)?.[1]??"False",Ie=fe(["False","True"],Ne);Ie.addEventListener("change",()=>{const Xe=String(Ie.value||"False");J($,"trailing_only_offset_is_reached",Xe)}),V.appendChild(Ie),gt(Z,V)}}{const Z=pt("minimal_roi");if(Z!=null){const V=B();V.appendChild(re("Minimal ROI"));const xe=M(Z)??"{}",ke=D(xe),Ne=ke.ok?ke.normalized:xe,Ie=Ye(Ne),Xe=Me("Apply");Xe.addEventListener("click",()=>{const at=String(Ie.value||"").trim();if(!at)return;const Tt=D(at);if(!Tt.ok){N({title:"Invalid minimal_roi",description:Tt.error,variant:"destructive"});return}se($,"minimal_roi",Tt.normalized)||J($,"minimal_roi",Tt.normalized)}),V.appendChild(Ie),V.appendChild(Xe),gt(Z,V)}}j.current.ids=O},[ae,e,J]);y.useEffect(()=>()=>{L.current?.dispose?.(),L.current=null;const q=h.current;if(q&&j.current.ids.length&&q.changeViewZones(Q=>{for(const $ of j.current.ids)try{Q.removeZone($)}catch{}}),q&&P.current.widgets.length)for(const Q of P.current.widgets)try{q.removeContentWidget(Q)}catch{}j.current.ids=[],P.current.widgets=[],P.current.ids=[]},[]),y.useEffect(()=>{const q=h.current;if(q&&H.current!==m)if(H.current=m,m?.enabled)K(m);else{if(j.current.ids.length&&q.changeViewZones(Q=>{for(const $ of j.current.ids)try{Q.removeZone($)}catch{}}),j.current.ids=[],P.current.widgets.length)for(const Q of P.current.widgets)try{q.removeContentWidget(Q)}catch{}P.current.widgets=[],P.current.ids=[]}},[K,m]);const ee=async()=>{if(!(!h.current||!i||!b)){w(!0);try{const q=h.current.getValue();await i(q),k(!1),N({title:"Success",description:"File saved successfully"})}catch{N({title:"Error",description:"Failed to save file",variant:"destructive"})}finally{w(!0),setTimeout(()=>w(!1),1e3)}}},de=q=>{if(!h.current)return;const Q=h.current.getSelection();if(Q)h.current.executeEdits("ai-suggestion",[{range:Q,text:q,forceMoveMarkers:!0}]),k(!0),N({title:"AI Suggestion Applied",description:"Code has been inserted into the editor."});else{const $=h.current.getPosition();$&&(h.current.executeEdits("ai-suggestion",[{range:{startLineNumber:$.lineNumber,startColumn:$.column,endLineNumber:$.lineNumber,endColumn:$.column},text:q,forceMoveMarkers:!0}]),k(!0),N({title:"AI Suggestion Applied",description:"Code has been inserted at cursor position."}))}},le=q=>{if(!h.current)return!1;const Q=h.current.getModel();if(!Q)return!1;const $=h.current.getPosition();if(!$)return!1;const ne=lO(Q,$.lineNumber);return ne?(h.current.executeEdits("ai-suggestion",[{range:ne,text:q,forceMoveMarkers:!0}]),k(!0),N({title:"AI Suggestion Applied",description:"Function was replaced at the current cursor position."}),!0):!1};y.useImperativeHandle(g,()=>({applyCode:de,getValue:()=>h.current?.getValue()??t,replaceEnclosingFunction:le,replaceFunctionByName:(q,Q)=>{if(!h.current)return!1;const $=h.current.getModel();if(!$)return!1;const ne=cO($,q);return ne?(h.current.executeEdits("ai-suggestion",[{range:ne,text:Q,forceMoveMarkers:!0}]),k(!0),N({title:"AI Suggestion Applied",description:`Replaced function '${q}'.`}),!0):!1}})),y.useCallback((q,Q)=>{h.current=q,Q.editor.defineTheme("custom-dark",{base:"vs-dark",inherit:!0,rules:[],colors:{"editor.lineHighlightBackground":"#00ffff10","editor.lineHighlightBorder":"#00ffff30"}}),Q.editor.setTheme("custom-dark"),q.onDidChangeCursorPosition($=>{const ne=q.getSelection();let G="";ne&&!ne.isEmpty()&&(G=q.getModel()?.getValueInRange(ne)||""),o?.({selectedCode:G,lineNumber:$.position.lineNumber,columnNumber:$.position.column})}),q.addCommand(Q.KeyMod.CtrlCmd|Q.KeyCode.KeyS,()=>{ee()}),q.addCommand(Q.KeyMod.CtrlCmd|Q.KeyCode.KeyI,()=>{d?.()}),q.onDidChangeCursorSelection($=>{const ne=$.selection;let G="";ne&&!ne.isEmpty()&&(G=q.getModel()?.getValueInRange(ne)||"");const T=q.getPosition();o?.({selectedCode:G,lineNumber:T?.lineNumber||1,columnNumber:T?.column||1})})},[o,ee,d]);const ue=(q,Q,$)=>{h.current=q,x.current=Q,Q.editor.defineTheme("custom-dark",{base:"vs-dark",inherit:!0,rules:[],colors:{"editor.background":"#0b0714","editorGutter.background":"#0b0714","editorLineNumber.foreground":"#475569","editorLineNumber.activeForeground":"#c4b5fd","editor.lineHighlightBackground":"#a855f71a","editor.lineHighlightBorder":"#a855f733","editor.selectionBackground":"#7c3aed33","editor.inactiveSelectionBackground":"#7c3aed22"}}),Q.editor.setTheme("custom-dark"),$?.enabled&&K($);const ne=q.getModel();if(L.current?.dispose?.(),L.current=null,ne){const G=ne.onDidChangeContent(()=>{$?.enabled&&K($)});L.current=G}};return c.jsx("div",{className:"flex flex-col h-full w-full overflow-hidden rounded-md border border-border/50 shadow-inner bg-[#1e1e1e]",children:c.jsx("div",{className:"flex-1 min-h-0",children:c.jsx(oO,{height:"100%",language:e,value:t,theme:"custom-dark",onChange:I,onMount:(q,Q)=>ue(q,Q,m),options:{minimap:{enabled:!1},fontSize:14,fontFamily:"'JetBrains Mono', monospace",lineNumbers:"on",readOnly:l,scrollBeyondLastLine:!1,automaticLayout:!0,padding:{top:16,bottom:16},smoothScrolling:!0,cursorBlinking:"smooth",cursorSmoothCaretAnimation:"on",renderLineHighlight:"all",tabSize:4,insertSpaces:!0,scrollbar:{vertical:"visible",horizontal:"visible",useShadows:!1,verticalHasArrows:!1,horizontalHasArrows:!1,verticalScrollbarSize:10,horizontalScrollbarSize:10}},loading:c.jsxs("div",{className:"h-full w-full flex items-center justify-center bg-background text-muted-foreground gap-2",children:[c.jsx(Er,{className:"w-5 h-5 animate-spin"}),c.jsx("span",{children:"Initializing Editor..."})]})})})})}),Cn=y.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Ce("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...t}));Cn.displayName="Card";const jn=y.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Ce("flex flex-col space-y-1.5 p-6",e),...t}));jn.displayName="CardHeader";const _n=y.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Ce("text-2xl font-semibold leading-none tracking-tight",e),...t}));_n.displayName="CardTitle";const dr=y.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Ce("text-sm text-muted-foreground",e),...t}));dr.displayName="CardDescription";const En=y.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Ce("p-6 pt-0",e),...t}));En.displayName="CardContent";const dO=y.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Ce("flex items-center p-6 pt-0",e),...t}));dO.displayName="CardFooter";function fO(e){return{"Confirm the timerange includes market conditions where your strategy should trade.":"    (timerange)        .","Loosen entry filters or reduce confirmations to allow some trades.":"        .","Ensure data for the configured pairs/timeframe is downloaded (missing data can also result in no trades).":"       (timeframe)        .","Re-run the backtest export to regenerate the JSON results file.":"         JSON.","Ensure the backtest results JSON file is not manually edited or truncated.":"     JSON      /.","Verify your system time/timezone settings are stable and the export format is consistent.":"    /     .","Confirm whether your strategy is expected to be inactive during that period (this can be normal).":"            (   ).","Verify your timerange is continuous and matches available data.":"   timerange       .","Re-download OHLCV data for the exact pairs and timeframe used in the backtest, then rerun.":"   OHLCV          .","Check for timeframe mismatch (e.g., data downloaded for 1h but backtest runs on 4h).":"      (:  1h      4h).","Re-download data and rerun the backtest.":"      .","Verify timerange and pair/timeframe configuration.":"    timerange  .","Remove any usage of future candles (e.g., shift(-1), negative shifts, or indexing that peeks ahead).":"     ( shift(-1)        ).","Ensure signals are computed only from current/past rows.":"       /.","Use adequate startup candles so indicators are stable before generating signals.":"  startup_candle_count       .","Ensure the strategyPath you selected exists in the Files table and can be read.":"   strategyPath       .","Open the strategy file in the app and confirm it has the expected code.":"          .","Re-sync filesystem to DB if needed, then re-run analysis.":"            .","Implement populate_entry_trend (or populate_buy_trend for older style).":"  populate_entry_trend ( populate_buy_trend  ).","Set enter_long/buy (and enter_short if applicable) when conditions are met.":"  enter_long/buy ( enter_short    )   .","Inside populate_entry_trend, set dataframe.loc[conditions, 'enter_long'] = 1 (or 'buy' for older style).":" populate_entry_trend   dataframe.loc[conditions, 'enter_long'] = 1 ( 'buy'  ).","Verify your conditions actually become true for some candles.":"       .","Set stoploss to a negative number (example: -0.10 for -10%).":" stoploss   (: -0.10  -10%).","Confirm stoploss is defined consistently in both config.json and the strategy.":"  stoploss     config.json   .","Implement populate_exit_trend (or populate_sell_trend).":"  populate_exit_trend ( populate_sell_trend).","Define minimal_roi and stoploss (and trailing if needed).":" minimal_roi  stoploss ( trailing  ).","Verify exits trigger in backtests (check exit_reason distribution).":"      (  exit_reason).","If you want shorts, set can_short = True and ensure exchange/market supports it.":"     can_short = True   /  .","If you do not want shorts, remove enter_short logic.":"      enter_short.","Ensure the file defines a class that inherits IStrategy.":"    class   IStrategy.","Verify the strategy file content matches Freqtrade conventions.":"     / Freqtrade.","Simplify entry/exit conditions and validate each piece triggers as expected.":"  /         .","Run a smaller backtest and inspect whether signals appear on the dataframe.":"        dataframe.","Review the rule and remove contradictory thresholds.":"    .","Log indicator values around expected entry points to confirm realistic ranges.":"           .","Extend the timerange and/or add more pairs.":"    (timerange) /   .","Verify data is downloaded for the pairs/timeframe.":"     .","Tighten stoploss or add earlier invalidation exits.":"         .","Add trailing stop or improve exit logic to protect winners.":" trailing stop       .","Reduce position size to control drawdown impact.":"      (drawdown).","Add trend/regime filters to avoid choppy markets.":"  /    .","Require stronger confirmations (but avoid over-filtering).":"   (    ).","Reduce trade frequency by adding cooldown or higher timeframe signals.":"    cooldown     .","Rework entries: focus on fewer, higher-quality signals.":"  :       .","Improve exits and risk controls (stoploss, trailing, ROI structure).":"    (stoploss, trailing,  ROI).","Test on different regimes/timeframes to find where the strategy has an edge.":"   /      .","Extend the timerange.":"   (timerange).","Add more pairs (carefully).":"   ().","Slightly loosen filters to get enough samples, then re-evaluate quality.":"          .","Add a trend filter (e.g., only trade with higher-timeframe trend).":"   (:      ).","Add cooldown or minimum candle spacing between entries.":" cooldown        .","Increase timeframe or require stronger confirmations.":"     .","Reduce stake amount or use fractional position sizing.":" stake_amount        .","Limit max_open_trades.":" max_open_trades.","Diversify across pairs only if the strategy edge is robust.":"         .","Review entry/exit logic and risk controls.":"  /  .","Rerun backtest after adjusting one variable at a time.":"         .","Reduce position size and/or lower max_open_trades.":"   /  max_open_trades.","Avoid illiquid pairs and consider volatility filters.":"       .","Improve exits (ROI/trailing/invalidations) to stop bleeding.":"  (ROI/trailing/invalidations)  .","Add regime filters to avoid conditions where the strategy underperforms.":"           .","Reduce exposure until the edge is confirmed.":"      .","Reduce position sizing and limit concurrent trades.":"      .","Validate the strategy on different timeranges and regimes.":"        .","Improve risk controls and exits.":"   .","Add trend/range regime detection and trade only the profitable regime.":"    (/)     .","Reduce trade frequency (cooldown / stronger filters).":"   (cooldown /  ).","Re-check signal logic for noise sensitivity.":"        .","Reduce stake size per trade.":"   stake  .","Tighten stoploss and ensure it is actually applied.":"      .","Avoid highly volatile pairs or add volatility filters.":"       .","Use smaller stake_amount or fractional sizing.":" stake_amount    .","Lower max_open_trades.":" max_open_trades.","Add exposure limits per pair.":"    .","Define stoploss explicitly in the strategy or config.":" stoploss      .","Ensure the exported results include the relevant config fields.":"        .","Re-check data continuity and avoid illiquid markets.":"       .","Consider tighter stops or earlier exits.":"      .","Reduce position size to limit tail-risk.":"      (tail-risk).","Run more conservative assumptions (fees/slippage stress testing).":"    (  /).","Prefer high-liquidity pairs.":"   .","Avoid overly tight targets that are sensitive to execution costs.":"      .","Reduce exposure and improve exits.":"   .","Validate across multiple timeranges and market regimes.":"      ."}[e]??e}function us({items:e}){return e.length?c.jsxs("div",{className:"mt-4 p-3 bg-muted/20 rounded-md border border-border/50 space-y-3",children:[c.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2",children:[c.jsx(Xt,{className:"w-4 h-4"}),"Meaning & How To Fix"]}),c.jsx("div",{className:"space-y-3",children:e.map((t,n)=>c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-xs font-semibold",children:t.title}),c.jsxs("div",{className:"text-xs text-muted-foreground leading-relaxed",children:[c.jsx("span",{className:"font-semibold text-foreground",children:"Meaning (EN):"})," ",t.meaningEn]}),c.jsxs("div",{dir:"rtl",className:"text-xs text-muted-foreground leading-relaxed",children:[c.jsx("span",{className:"font-semibold text-foreground",children:" (AR):"})," ",t.meaningAr]}),c.jsxs("div",{className:"text-xs text-muted-foreground leading-relaxed",children:[c.jsx("span",{className:"font-semibold text-foreground",children:"How to fix (EN):"}),c.jsx("ul",{className:"mt-1 text-xs list-disc list-inside space-y-1",children:t.fixEn.map((i,o)=>c.jsx("li",{children:i},o))})]}),c.jsxs("div",{dir:"rtl",className:"text-xs text-muted-foreground leading-relaxed",children:[c.jsx("span",{className:"font-semibold text-foreground",children:"  (AR):"}),c.jsx("ul",{className:"mt-1 text-xs list-disc list-inside space-y-1",children:(t.fixAr??t.fixEn.map(fO)).map((i,o)=>c.jsx("li",{children:i},o))})]})]},`${t.title}-${n}`))})]}):null}function pO({report:e}){if(!e)return null;const{metadata:t,phase1:n,phase2:i,phase3:o,phase4:l,phase5:d,phase6:f,phase7:m,phase8:g,phase9:h,phase11:x,summary:b}=e,{structuralIntegrity:k}=n,C=i?.performance,w=o?.drawdownRisk,N=l?.entryQuality,j=d?.exitLogic,P=f?.regimeAnalysis,A=m?.costAnalysis,L=g?.logicIntegrity,F=h?.statistics,H=x?.failureSignals,I=_=>{const O=Number(_);return Number.isFinite(O)?`${(O*100).toFixed(2)}%`:"-"},J=(_,O=2)=>{const X=Number(_);return Number.isFinite(X)?X.toFixed(O):"-"},se=(_,O=2)=>_==null?"-":J(_,O),ae=_=>_==null?"-":I(_),K=_=>{const O=String(_||"").toUpperCase();return O==="PASS"?"outline":O==="WARN"?"secondary":"destructive"},ee=_=>{const O=String(_||"").toUpperCase();return O==="PASS"?c.jsx(fp,{className:"w-4 h-4 text-green-500"}):O==="WARN"?c.jsx(Xt,{className:"w-4 h-4 text-yellow-500"}):c.jsx(Xt,{className:"w-4 h-4 text-red-500"})},de=(()=>{const _=[],O=k?.dataContinuity,X=k?.lookAheadBias,D=k?.logicFeasibility;if(O?.verdict==="FAIL"||O?.verdict==="WARN"){const M=String(O?.details||"");M.toLowerCase().includes("no trades found")?_.push({title:"Phase 1.1: Data Continuity (No trades)",meaningEn:"No trades exist in the exported results, so the app cannot validate time continuity. This usually means the strategy never entered trades in this timerange.",meaningAr:"             .           .",fixEn:["Confirm the timerange includes market conditions where your strategy should trade.","Loosen entry filters or reduce confirmations to allow some trades.","Ensure data for the configured pairs/timeframe is downloaded (missing data can also result in no trades)."]}):M.toLowerCase().includes("not monotonic")||M.toLowerCase().includes("missing/invalid")?_.push({title:"Phase 1.1: Data Continuity (Invalid timestamps)",meaningEn:"Some trade timestamps are missing/invalid or out of order. This can invalidate analysis and suggests corrupt export or parsing issues.",meaningAr:"    /     .          .",fixEn:["Re-run the backtest export to regenerate the JSON results file.","Ensure the backtest results JSON file is not manually edited or truncated.","Verify your system time/timezone settings are stable and the export format is consistent."]}):Number(O?.gapCount)>0?_.push({title:`Phase 1.1: Data Continuity (Large gaps${String(O?.verdict||"").toUpperCase()==="WARN"?" - warning":""})`,meaningEn:`The app detected unusually large time gaps between trades (count: ${Number(O?.gapCount)}, largest: ${Number(O?.largestGapMinutes).toFixed(0)} min). This can indicate missing market data/timerange gaps, or simply a strategy that does not trade for long periods. If OHLCV continuity is verified and no files are missing, this is usually just strategy inactivity.`,meaningAr:`         (: ${Number(O?.gapCount)}  : ${Number(O?.largestGapMinutes).toFixed(0)} ).       /         .    OHLCV           .`,fixEn:["Confirm whether your strategy is expected to be inactive during that period (this can be normal).","Verify your timerange is continuous and matches available data.","Re-download OHLCV data for the exact pairs and timeframe used in the backtest, then rerun."]}):_.push({title:"Phase 1.1: Data Continuity (Issue)",meaningEn:M||"Data continuity checks failed.",meaningAr:"   .",fixEn:["Re-download data and rerun the backtest.","Verify timerange and pair/timeframe configuration."]})}if(X?.verdict==="FAIL"){const M=Array.isArray(X?.suspiciousConditions)?X.suspiciousConditions.join(", "):"";_.push({title:"Phase 1.2: Look-ahead Bias",meaningEn:`The strategy code shows patterns that may use future data (look-ahead bias). This can make backtests unrealistically good and invalid for live trading. ${M?`Suspicious: ${M}`:""}`,meaningAr:`           (  ).             . ${M?`: ${M}`:""}`,fixEn:["Remove any usage of future candles (e.g., shift(-1), negative shifts, or indexing that peeks ahead).","Ensure signals are computed only from current/past rows.","Use adequate startup candles so indicators are stable before generating signals."]})}if(D?.verdict==="FAIL"){const M=Array.isArray(D?.conflictingRules)?D.conflictingRules:[],B=Array.isArray(D?.mutuallyExclusiveConditions)?D.mutuallyExclusiveConditions:[],re=(fe,ye,ze,Ye)=>{_.push({title:fe,meaningEn:ye,meaningAr:ze,fixEn:Ye})};for(const fe of M){const ye=String(fe||"");if(ye.toLowerCase().includes("strategy source is empty")){re("Phase 1.3: Logic Feasibility (Missing strategy source)","The strategy file could not be loaded or is empty, so feasibility analysis cannot be trusted.","              .",["Ensure the strategyPath you selected exists in the Files table and can be read.","Open the strategy file in the app and confirm it has the expected code.","Re-sync filesystem to DB if needed, then re-run analysis."]);continue}if(ye.toLowerCase().includes("missing entry function")){re("Phase 1.3: Logic Feasibility (Missing entry function)","The strategy does not define an entry function, so it cannot generate buy/enter signals.","      (Entry)      /.",["Implement populate_entry_trend (or populate_buy_trend for older style).","Set enter_long/buy (and enter_short if applicable) when conditions are met."]);continue}if(ye.toLowerCase().includes("entry function exists")&&ye.toLowerCase().includes("no entry signal")){re("Phase 1.3: Logic Feasibility (No entry signals set)","The entry function exists but it does not set any entry signal columns, so no trades can open.","              .",["Inside populate_entry_trend, set dataframe.loc[conditions, 'enter_long'] = 1 (or 'buy' for older style).","Verify your conditions actually become true for some candles."]);continue}if(ye.toLowerCase().startsWith("stoploss is set to")){re("Phase 1.3: Logic Feasibility (Stoploss sign)","Stoploss in Freqtrade is typically negative (e.g., -0.10). A non-negative stoploss can break risk logic.","    Freqtrade    ( -0.10).           .",["Set stoploss to a negative number (example: -0.10 for -10%).","Confirm stoploss is defined consistently in both config.json and the strategy."]);continue}if(ye.toLowerCase().includes("no exit mechanism")){re("Phase 1.3: Logic Feasibility (Missing exits)","No clear exit mechanism detected. Trades may stay open too long or behave unpredictably.","     .           .",["Implement populate_exit_trend (or populate_sell_trend).","Define minimal_roi and stoploss (and trailing if needed).","Verify exits trigger in backtests (check exit_reason distribution)."]);continue}if(ye.toLowerCase().includes("can_short")&&ye.toLowerCase().includes("enter_short")){re("Phase 1.3: Logic Feasibility (Short settings mismatch)","Short entries are present, but can_short is disabled. This mismatch can cause unexpected behavior.","    /  can_short .       .",["If you want shorts, set can_short = True and ensure exchange/market supports it.","If you do not want shorts, remove enter_short logic."]);continue}if(ye.toLowerCase().includes("no obvious strategy class")){re("Phase 1.3: Logic Feasibility (Strategy class not detected)","The analyzer could not detect a valid strategy class. This can happen if the file is not a standard Freqtrade strategy.","       .          Freqtrade .",["Ensure the file defines a class that inherits IStrategy.","Verify the strategy file content matches Freqtrade conventions."]);continue}re("Phase 1.3: Logic Feasibility (Conflict)",ye,"     .",["Simplify entry/exit conditions and validate each piece triggers as expected.","Run a smaller backtest and inspect whether signals appear on the dataframe."])}for(const fe of B)_.push({title:"Phase 1.3: Logic Feasibility (Mutually exclusive condition)",meaningEn:String(fe||"A potentially impossible condition was detected."),meaningAr:"    (  )   .",fixEn:["Review the rule and remove contradictory thresholds.","Log indicator values around expected entry points to confirm realistic ranges."]})}return _})(),le=(()=>{const _=[],O=Array.isArray(F?.redFlags)?F.redFlags:[],X=String(F?.sampleAdequacy?.verdict||""),D=String(F?.sampleAdequacy?.justification||"");X==="FAIL"&&((D.toLowerCase().includes("sample size")||O.some(M=>String(M).toLowerCase().includes("low sample")))&&_.push({title:"Phase 9: Sample size too small",meaningEn:D||"Trade count is too low to make reliable statistical conclusions.",meaningAr:"       .",fixEn:["Extend the timerange.","Add more pairs (carefully).","Slightly loosen filters to get enough samples, then re-evaluate quality."]}),(D.toLowerCase().includes("crosses 0")||O.some(M=>String(M).toLowerCase().includes("crosses")))&&_.push({title:"Phase 9: Edge not statistically significant",meaningEn:D||"The 95% confidence interval crosses 0. The apparent edge may be noise.",meaningAr:"  95%            .",fixEn:["Validate the strategy on different timeranges and regimes.","Rerun backtest after adjusting one variable at a time.","Reduce trade frequency (cooldown / stronger filters)."]})),(O.some(M=>String(M).toLowerCase().includes("expectancy ci below zero"))||D.toLowerCase().includes("below 0"))&&_.push({title:"Phase 9: Edge is statistically negative",meaningEn:D||"The 95% confidence interval is below 0. The strategy is likely unprofitable.",meaningAr:"  95%           .",fixEn:["Improve expectancy: increase win rate (signal quality) or improve payoff ratio (cut losses / let winners run).","Add regime filters to avoid conditions where the strategy underperforms.","Run more conservative assumptions (fees/slippage stress testing)."]}),O.some(M=>String(M).toLowerCase().includes("variance"))&&_.push({title:"Phase 9: High variance / unstable edge",meaningEn:"Per-trade returns vary widely. Even if the average looks OK, high variance makes results unreliable and increases drawdown risk.",meaningAr:"   .               .",fixEn:["Improve risk controls and exits.","Reduce position sizing and limit concurrent trades.","Validate the strategy on different timeranges and regimes."]});for(const M of O){const B=String(M||"").trim();if(!B)continue;const re=B.toLowerCase();re.includes("low sample")||re.includes("crosses")||re.includes("expectancy ci below zero")||re.includes("variance")||_.push({title:"Phase 9: Statistics note",meaningEn:B,meaningAr:"   .",fixEn:["Validate the strategy on different timeranges and regimes.","Extend the timerange."]})}return _})(),ue=(()=>{const _=[],O=Array.isArray(L?.redFlags)?L.redFlags:[],X=String(L?.overfitting?.overfittingRisk||""),D=Number(L?.overfitting?.complexityScore),M=Number(L?.overfitting?.indicatorCount);(X.toLowerCase()==="high"||X.toLowerCase()==="medium")&&_.push({title:"Phase 8: Overfitting / complexity risk",meaningEn:`The strategy appears complex (risk: ${X||"-"}, complexity: ${Number.isFinite(D)?D:"-"}/100, indicators: ${Number.isFinite(M)?M:"-"}). Complex rules and many parameters can overfit backtests and fail live.`,meaningAr:`   (: ${X||"-"} : ${Number.isFinite(D)?D:"-"}/100  : ${Number.isFinite(M)?M:"-"}).      overfitting    .`,fixEn:["Simplify entry/exit conditions and validate each piece triggers as expected.","Rerun backtest after adjusting one variable at a time.","Validate the strategy on different timeranges and regimes."]}),(O.some(ye=>String(ye).toLowerCase().includes("look-ahead"))||O.some(ye=>String(ye).toLowerCase().includes("shift(-)")))&&_.push({title:"Phase 8: Potential look-ahead bias",meaningEn:"Strategy logic may reference future data (e.g., negative shift). This invalidates backtests and can create unrealistically good results.",meaningAr:"      ( shift(-)).         .",fixEn:["Remove any usage of future candles (e.g., shift(-1), negative shifts, or indexing that peeks ahead).","Ensure signals are computed only from current/past rows.","Use adequate startup candles so indicators are stable before generating signals."]});const fe=Array.isArray(L?.signalConflicts?.logicErrors)?L.signalConflicts.logicErrors:[];for(const ye of fe){const ze=String(ye||"").trim();if(ze){if(ze.toLowerCase().includes("missing populate_entry")){_.push({title:"Phase 8: Entry function missing",meaningEn:ze,meaningAr:"     .",fixEn:["Implement populate_entry_trend (or populate_buy_trend for older style).","Inside populate_entry_trend, set dataframe.loc[conditions, 'enter_long'] = 1 (or 'buy' for older style)."]});continue}if(ze.toLowerCase().includes("no clear exit")){_.push({title:"Phase 8: Exit mechanism missing",meaningEn:ze,meaningAr:"     (ROI/Stoploss/Exit signal).",fixEn:["Implement populate_exit_trend (or populate_sell_trend).","Define minimal_roi and stoploss (and trailing if needed).","Verify exits trigger in backtests (check exit_reason distribution)."]});continue}_.push({title:"Phase 8: Logic integrity note",meaningEn:ze,meaningAr:"    .",fixEn:["Simplify entry/exit conditions and validate each piece triggers as expected.","Run a smaller backtest and inspect whether signals appear on the dataframe."]})}}return _})(),q=(()=>{const _=[],O=Array.isArray(A?.redFlags)?A.redFlags:[],X=String(A?.costSensitivity?.verdict||""),D=String(A?.liquidity?.liquidityRisk||"");(O.some(re=>String(re).toLowerCase().includes("edge too thin"))||X.toLowerCase().includes("edge disappears"))&&_.push({title:"Phase 7: Edge too thin after costs",meaningEn:"When you increase fees/slippage to more realistic levels, the strategy loses profitability. This usually means the edge is too small for live trading.",meaningAr:"  /      .         .",fixEn:["Run more conservative assumptions (fees/slippage stress testing).","Avoid overly tight targets that are sensitive to execution costs.","Reduce trade frequency (cooldown / stronger filters)."]}),(O.some(re=>String(re).toLowerCase().includes("unrealistic fills"))||D.toLowerCase()==="high"||D.toLowerCase()==="medium")&&_.push({title:"Phase 7: Liquidity / fill realism risk",meaningEn:"Order sizes may be large relative to market volume, making backtest fills unrealistic and slippage underestimated.",meaningAr:"                .",fixEn:["Prefer high-liquidity pairs.","Reduce stake size per trade.","Lower max_open_trades."]});for(const re of O){const fe=String(re||"").trim();fe&&(fe.toLowerCase().includes("edge too thin")||fe.toLowerCase().includes("unrealistic fills")||_.push({title:"Phase 7: Cost analysis note",meaningEn:fe,meaningAr:"   /.",fixEn:["Run more conservative assumptions (fees/slippage stress testing).","Prefer high-liquidity pairs."]}))}return _})(),Q=(()=>{const _=[],O=Array.isArray(P?.regimeSegmentation?.redFlags)?P.regimeSegmentation.redFlags:[],X=Array.isArray(P?.assetAnalysis?.concentration?.redFlags)?P.assetAnalysis.concentration.redFlags:[];for(const D of O){const M=String(D||"");if(M.toLowerCase().includes("varies strongly by regime")){_.push({title:"Phase 6: Strong regime dependence",meaningEn:"Results change significantly across regimes (trend/volatility). This usually means the strategy has edge only in specific conditions.",meaningAr:"      (/).         .",fixEn:["Add regime filters (trend/volatility) so the strategy trades only where it has edge.","Validate performance per regime with out-of-sample periods."]});continue}_.push({title:"Phase 6: Regime analysis note",meaningEn:M,meaningAr:"    (Regime).",fixEn:["Validate across multiple timeranges and market regimes.","Extend the timerange and/or add more pairs."]})}for(const D of X){const M=String(D||"");if(M.toLowerCase().includes("highly concentrated")||M.toLowerCase().includes("top 3")){_.push({title:"Phase 6: PnL concentration risk",meaningEn:"Most of your strategys results come from a small number of pairs. This increases overfitting and diversification risk.",meaningAr:"        .     overfitting  .",fixEn:["Test on a broader universe of pairs.","Limit per-pair exposure and enforce diversification."]});continue}_.push({title:"Phase 6: Asset analysis note",meaningEn:M,meaningAr:"   .",fixEn:["Extend the timerange and/or add more pairs.","Verify data is downloaded for the pairs/timeframe."]})}return _})(),$=(()=>{const _=[],O=Array.isArray(N?.redFlags)?N.redFlags:[],X=Array.isArray(N?.timing?.redFlags)?N.timing.redFlags:[];for(const D of O){const M=String(D||"");if(M.toLowerCase().includes("empty enter_tag")){_.push({title:"Phase 4: Missing enter_tag attribution",meaningEn:"Most trades do not have an entry tag, so you cannot tell which entry rule is causing profits/losses. This makes tuning difficult.",meaningAr:"     enter_tag         /.   .",fixEn:["Set enter_tag in populate_entry_trend to label each entry rule.","Run backtest again and compare PnL by tag.","Disable or improve the worst-performing tag first."]});continue}if(M.toLowerCase().includes("entry tag")&&M.toLowerCase().includes("losing overall")){_.push({title:"Phase 4: One entry setup is losing",meaningEn:"A specific entry tag is consistently losing. This usually means that entry condition triggers in bad regimes or too late.",meaningAr:" /  (enter_tag)    .           .",fixEn:["Simplify entry/exit conditions and validate each piece triggers as expected.","Loosen entry filters or reduce confirmations to allow some trades.","Tighten stoploss or add earlier invalidation exits."]});continue}_.push({title:"Phase 4: Entry quality red flag",meaningEn:M,meaningAr:"      .",fixEn:["Simplify entry/exit conditions and validate each piece triggers as expected.","Run a smaller backtest and inspect whether signals appear on the dataframe."]})}for(const D of X){const M=String(D||"");if(M.toLowerCase().includes("losing trades close quickly")){_.push({title:"Phase 4: Many quick losers (late/noisy entries)",meaningEn:"Many losing trades become losers quickly after entry. This often indicates late entries, overtrading noise, or missing regime filters.",meaningAr:"         .            .",fixEn:["Simplify entry conditions and test one confirmation at a time.","Avoid buying after large pumps; add trend/volatility regime filters.","Tighten stoploss or add earlier invalidation exits."]});continue}_.push({title:"Phase 4: Entry timing red flag",meaningEn:M,meaningAr:"      .",fixEn:["Simplify entry/exit conditions and validate each piece triggers as expected.","Log indicator values around expected entry points to confirm realistic ranges."]})}return _})(),ne=(()=>{const _=[],O=Array.isArray(j?.exitReasons?.conclusions)?j.exitReasons.conclusions:[],X=Array.isArray(j?.duration?.antiPatterns)?j.duration.antiPatterns:[];for(const D of O){const M=String(D||"");if(M.toLowerCase().includes("stop losses are catastrophic")){_.push({title:"Phase 5: Stoploss exits are catastrophic",meaningEn:"A large share of your total losses comes from stoploss exits. This usually means stops are too wide, entries are too late, or the strategy holds losers until they become large.",meaningAr:"          .               .",fixEn:["Tighten stoploss or add earlier invalidation exits.","Add trailing stop or improve exit logic to protect winners.","Verify exits trigger in backtests (check exit_reason distribution)."]});continue}if(M.toLowerCase().includes("timeout exits are net negative")){_.push({title:"Phase 5: Timeout exits are negative",meaningEn:"Trades that are held too long tend to end negative. This suggests the edge decays with time or the exit rules do not invalidate losing ideas early.",meaningAr:"       .               .",fixEn:["Implement populate_exit_trend (or populate_sell_trend).","Verify exits trigger in backtests (check exit_reason distribution).","Tighten stoploss or add earlier invalidation exits."]});continue}if(M.toLowerCase().includes("trailing stops may be cutting winners")){_.push({title:"Phase 5: Trailing stop may be too tight",meaningEn:"Trailing stops are taking profits too early and may be cutting winning trades before they can develop.",meaningAr:" trailing stop               .",fixEn:["Add trailing stop or improve exit logic to protect winners.","Define minimal_roi and stoploss (and trailing if needed)."]});continue}if(M.toLowerCase().includes("exit signals")&&M.toLowerCase().includes("closing trades at a loss")){_.push({title:"Phase 5: Exit signal is losing",meaningEn:"Your exit signal tends to close trades while they are still negative. This can happen when exit triggers too late (after drawdown) or too early (noise), depending on the strategy.",meaningAr:"       .               .",fixEn:["Implement populate_exit_trend (or populate_sell_trend).","Simplify entry/exit conditions and validate each piece triggers as expected.","Verify exits trigger in backtests (check exit_reason distribution)."]});continue}_.push({title:"Phase 5: Exit logic issue",meaningEn:M,meaningAr:"     .",fixEn:["Implement populate_exit_trend (or populate_sell_trend).","Verify exits trigger in backtests (check exit_reason distribution)."]})}for(const D of X){const M=String(D||"");if(M.toLowerCase().includes("losers")&&M.toLowerCase().includes("held longer")){_.push({title:"Phase 5: Losers held longer than winners",meaningEn:"Holding losers longer than winners is a classic risk/reward anti-pattern that destroys expectancy.",meaningAr:"             (expectancy).",fixEn:["Tighten stoploss or add earlier invalidation exits.","Add trailing stop or improve exit logic to protect winners."]});continue}_.push({title:"Phase 5: Duration anti-pattern",meaningEn:M,meaningAr:"       .",fixEn:["Tighten stoploss or add earlier invalidation exits.","Verify exits trigger in backtests (check exit_reason distribution)."]})}return _})(),G=(()=>{const _=[],O=Array.isArray(C?.expectancy?.redFlags)?C.expectancy.redFlags:[],X=D=>{switch(D){case"No trades executed":return{title:"Phase 2: No trades executed",meaningEn:"The strategy produced zero trades in the backtest. This often means the rules are too strict or never trigger.",meaningAr:"      .         .",fixEn:["Loosen entry filters or reduce confirmations.","Extend the timerange and/or add more pairs.","Verify data is downloaded for the pairs/timeframe."]};case"Loss magnitude dominates wins":return{title:"Phase 2: Loss magnitude dominates wins",meaningEn:"You may have a decent win rate, but the average losing trade is larger than the average winner, making expectancy negative.",meaningAr:"               .",fixEn:["Tighten stoploss or add earlier invalidation exits.","Add trailing stop or improve exit logic to protect winners.","Reduce position size to control drawdown impact."]};case"Low win rate / entry timing issue":return{title:"Phase 2: Low win rate / entry timing issue",meaningEn:"Average winners can be larger than losers, but too many trades lose. This often points to poor entries or trading in noise.",meaningAr:"          .         .",fixEn:["Add trend/regime filters to avoid choppy markets.","Require stronger confirmations (but avoid over-filtering).","Reduce trade frequency by adding cooldown or higher timeframe signals."]};case"Signal quality failure":return{title:"Phase 2: Signal quality failure",meaningEn:"Both win rate and payoff ratio are unfavorable. The strategy likely has little edge or exits are ineffective.",meaningAr:"   /  .          .",fixEn:["Rework entries: focus on fewer, higher-quality signals.","Improve exits and risk controls (stoploss, trailing, ROI structure).","Test on different regimes/timeframes to find where the strategy has an edge."]};case"Low sample size (< 30 trades)":return{title:"Phase 2: Low sample size",meaningEn:"The backtest has too few trades to be statistically meaningful. Results can be misleading.",meaningAr:"       .    .",fixEn:["Extend the timerange.","Add more pairs (carefully).","Slightly loosen filters to get enough samples, then re-evaluate quality."]};case"Very high trade frequency (> 50 trades/day) suggests noise trading":return{title:"Phase 2: Very high trade frequency",meaningEn:"Trading too frequently often means the strategy is reacting to noise, increasing fees and reducing edge.",meaningAr:"             .",fixEn:["Add a trend filter (e.g., only trade with higher-timeframe trend).","Add cooldown or minimum candle spacing between entries.","Increase timeframe or require stronger confirmations."]};case"Very high capital deployment per trade (> 90%) increases exposure risk":return{title:"Phase 2: Very high capital deployment",meaningEn:"Using most of the wallet per trade increases exposure and can amplify drawdowns.",meaningAr:"            (Drawdown).",fixEn:["Reduce stake amount or use fractional position sizing.","Limit max_open_trades.","Diversify across pairs only if the strategy edge is robust."]};default:return{title:"Phase 2: Red flag",meaningEn:D,meaningAr:"     .",fixEn:["Review entry/exit logic and risk controls.","Rerun backtest after adjusting one variable at a time."]}}};for(const D of O)_.push(X(String(D)));return _})(),T=(()=>{const _=[],O=Array.isArray(w?.drawdownStructure?.failurePatterns)?w.drawdownStructure.failurePatterns:[],X=Array.isArray(w?.riskPerTrade?.redFlags)?w.riskPerTrade.redFlags:[],D=M=>M.includes("Steep vertical drops")?{title:"Phase 3: Steep drawdown drops",meaningEn:"Drawdowns happen quickly. This often indicates stops are ineffective, position sizing is too aggressive, or the strategy is exposed to sudden moves.",meaningAr:"    .              .",fixEn:["Reduce position size and/or lower max_open_trades.","Tighten stoploss or add earlier invalidation exits.","Avoid illiquid pairs and consider volatility filters."]}:M.includes("Long recovery time")?{title:"Phase 3: Long recovery",meaningEn:"After losses, equity takes a long time to recover. This can point to weak exits, low edge, or trading through bad regimes.",meaningAr:"       .              .",fixEn:["Improve exits (ROI/trailing/invalidations) to stop bleeding.","Add regime filters to avoid conditions where the strategy underperforms.","Reduce exposure until the edge is confirmed."]}:M.includes("No full recovery")?{title:"Phase 3: No full recovery",meaningEn:"The largest drawdown was not recovered by the end of the backtest, suggesting persistent underperformance or too much exposure.",meaningAr:"                .",fixEn:["Reduce position sizing and limit concurrent trades.","Validate the strategy on different timeranges and regimes.","Improve risk controls and exits."]}:M.includes("Multiple frequent drawdowns")?{title:"Phase 3: Frequent drawdowns",meaningEn:"Many drawdowns often indicate the strategy trades in unsuitable regimes or the signals are noisy.",meaningAr:"               .",fixEn:["Add trend/range regime detection and trade only the profitable regime.","Reduce trade frequency (cooldown / stronger filters).","Re-check signal logic for noise sensitivity."]}:M.includes("Worst trade risk exceeds")?{title:"Phase 3: Worst trade risk too high",meaningEn:"A single trade can damage the equity too much, increasing the chance of ruin.",meaningAr:"             .",fixEn:["Reduce stake size per trade.","Tighten stoploss and ensure it is actually applied.","Avoid highly volatile pairs or add volatility filters."]}:M.includes("High position sizing")?{title:"Phase 3: Position sizing too large",meaningEn:"Average capital per trade is high, which amplifies drawdowns.",meaningAr:"         .",fixEn:["Use smaller stake_amount or fractional sizing.","Lower max_open_trades.","Add exposure limits per pair."]}:M.includes("Stoploss value not found")?{title:"Phase 3: Stoploss not found",meaningEn:"The diagnostic could not find a configured stoploss in the exported results/config, so it cannot validate stoploss behavior.",meaningAr:"        /        .",fixEn:["Define stoploss explicitly in the strategy or config.","Ensure the exported results include the relevant config fields."]}:M.includes("Stoploss not consistently respected")?{title:"Phase 3: Stoploss not respected",meaningEn:"Some losing trades exceed the expected stoploss threshold. This can happen due to gaps, slippage assumptions, or exit logic issues.",meaningAr:"       .             .",fixEn:["Re-check data continuity and avoid illiquid markets.","Consider tighter stops or earlier exits.","Reduce position size to limit tail-risk."]}:M.includes("Slippage data not available")?{title:"Phase 3: Slippage unknown",meaningEn:"The export does not provide slippage, so real-world performance could be worse than backtest.",meaningAr:"              .",fixEn:["Run more conservative assumptions (fees/slippage stress testing).","Prefer high-liquidity pairs.","Avoid overly tight targets that are sensitive to execution costs."]}:{title:"Phase 3: Risk/Drawdown issue",meaningEn:M,meaningAr:"      .",fixEn:["Reduce exposure and improve exits.","Validate across multiple timeranges and market regimes."]};for(const M of O)_.push(D(String(M)));for(const M of X)_.push(D(String(M)));return _})();return c.jsxs("div",{className:"space-y-4 p-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Diagnostic Report"}),c.jsxs(Ot,{variant:b.statisticalVerdict==="PASS"?"default":"destructive",children:["Verdict: ",b.statisticalVerdict]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs(Cn,{children:[c.jsx(jn,{className:"pb-2",children:c.jsxs(_n,{className:"text-sm flex items-center gap-2",children:[c.jsx(OC,{className:"w-4 h-4"}),"Strategy"]})}),c.jsx(En,{children:c.jsx("p",{className:"text-xs truncate",children:t.strategy})})]}),c.jsxs(Cn,{children:[c.jsx(jn,{className:"pb-2",children:c.jsxs(_n,{className:"text-sm flex items-center gap-2",children:[c.jsx(Vp,{className:"w-4 h-4"}),"Timeframe"]})}),c.jsx(En,{children:c.jsx("p",{className:"text-xs",children:t.timeframe})})]}),c.jsxs(Cn,{children:[c.jsx(jn,{className:"pb-2",children:c.jsxs(_n,{className:"text-sm flex items-center gap-2",children:[c.jsx(qp,{className:"w-4 h-4"}),"Report ID"]})}),c.jsx(En,{children:c.jsx("p",{className:"text-xs truncate",children:t.reportId})})]})]}),c.jsxs(Cn,{children:[c.jsxs(jn,{children:[c.jsxs(_n,{className:"flex items-center gap-2",children:["Phase 1: Structural Integrity",c.jsx(Ot,{variant:K(k.verdict),className:"ml-auto",children:k.verdict})]}),c.jsx(dr,{children:"Validating backtest data continuity and detecting look-ahead bias."})]}),c.jsxs(En,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[ee(k.dataContinuity.verdict),"Data Continuity"]}),c.jsx("span",{className:"text-muted-foreground",children:k.dataContinuity.details})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[ee(k.lookAheadBias.verdict),"Look-ahead Bias"]}),c.jsx("span",{className:"text-muted-foreground",children:k.lookAheadBias.details})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[ee(k.logicFeasibility.verdict),"Logic Feasibility"]}),c.jsx("span",{className:"text-muted-foreground",children:k.logicFeasibility.details})]})]}),c.jsx(us,{items:de})]})]}),H&&c.jsxs(Cn,{children:[c.jsxs(jn,{children:[c.jsxs(_n,{className:"flex items-center gap-2",children:["Phase 11: Failure Signals",c.jsxs(Ot,{variant:"outline",className:"ml-auto",children:["Killer: ",String(H.mainKillerMetric||"-")]})]}),c.jsx(dr,{children:"Deterministic symptoms + recommended change types (no AI / no guessing)."})]}),c.jsxs(En,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-semibold",children:"Primary failure reason"}),c.jsx("div",{className:"text-xs text-muted-foreground",children:String(H.primaryFailureReason||"-")})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-semibold",children:"Recommended change types"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:Array.isArray(H.recommendedChangeTypes)&&H.recommendedChangeTypes.length?H.recommendedChangeTypes.slice(0,18).map((_,O)=>c.jsx(Ot,{variant:"outline",className:"text-xs",children:_},`${_}-${O}`)):c.jsx("span",{className:"text-xs text-muted-foreground",children:"-"})})]})]}),Array.isArray(H.secondaryIssues)&&H.secondaryIssues.length>0&&c.jsxs("div",{className:"p-3 bg-muted/20 rounded-md border border-border/50",children:[c.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2 mb-2",children:[c.jsx(Xt,{className:"w-4 h-4"}),"Secondary issues"]}),c.jsx("ul",{className:"text-xs list-disc list-inside space-y-1",children:H.secondaryIssues.slice(0,12).map((_,O)=>c.jsx("li",{className:"text-muted-foreground",children:String(_)},O))})]})]})]}),C&&c.jsxs(Cn,{children:[c.jsxs(jn,{children:[c.jsxs(_n,{className:"flex items-center gap-2",children:["Phase 2: Performance Metrics",c.jsxs(Ot,{variant:"outline",className:"ml-auto",children:["Expectancy: ",I(C.expectancy.expectancy)]})]}),c.jsx(dr,{children:"Expectancy breakdown and trade distribution red flags."})]}),c.jsxs(En,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-semibold",children:"Expectancy"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Win Rate"}),c.jsx("div",{className:"font-semibold",children:I(C.expectancy.winRate)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Loss Rate"}),c.jsx("div",{className:"font-semibold",children:I(C.expectancy.lossRate)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Avg Win"}),c.jsx("div",{className:"font-semibold",children:I(C.expectancy.avgWin)}),c.jsxs("div",{className:"text-muted-foreground",children:["$",J(C.expectancy.totals?.avgWinAbs)]})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Avg Loss"}),c.jsx("div",{className:"font-semibold",children:I(C.expectancy.avgLoss)==="-"?"-":`-${I(C.expectancy.avgLoss)}`}),c.jsx("div",{className:"text-muted-foreground",children:J(C.expectancy.totals?.avgLossAbs)==="-"?"-":`-$${J(C.expectancy.totals?.avgLossAbs)}`})]})]}),c.jsx("div",{className:"text-xs text-muted-foreground leading-relaxed",children:String(C.expectancy.diagnosis||"")})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-semibold",children:"Distribution"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Trades"}),c.jsx("div",{className:"font-semibold",children:J(C.distribution.totalTrades,0)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Trades / Day"}),c.jsx("div",{className:"font-semibold",children:J(C.distribution.tradesPerDay)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Avg Hold (hrs)"}),c.jsx("div",{className:"font-semibold",children:J(C.distribution.avgTimeInMarketHours)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Capital / Trade"}),c.jsxs("div",{className:"font-semibold",children:[J(C.distribution.capitalDeployedPct),"%"]})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Long"}),c.jsx("div",{className:"font-semibold",children:J(C.distribution.longCount,0)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Short"}),c.jsx("div",{className:"font-semibold",children:J(C.distribution.shortCount,0)})]})]})]})]}),Array.isArray(C.expectancy.redFlags)&&C.expectancy.redFlags.length>0&&c.jsxs("div",{className:"mt-2 p-3 bg-muted/20 rounded-md border border-border/50",children:[c.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2 mb-2",children:[c.jsx(Xt,{className:"w-4 h-4"}),"Red Flags"]}),c.jsx("ul",{className:"text-xs list-disc list-inside space-y-1",children:C.expectancy.redFlags.slice(0,10).map((_,O)=>c.jsx("li",{children:_},O))})]}),c.jsx(us,{items:G})]})]}),w&&c.jsxs(Cn,{children:[c.jsxs(jn,{children:[c.jsxs(_n,{className:"flex items-center gap-2",children:["Phase 3: Drawdown & Risk",c.jsxs(Ot,{variant:"outline",className:"ml-auto",children:["Max DD: ",ae(w.drawdownStructure?.maxDrawdown)]})]}),c.jsx(dr,{children:"Drawdown structure and risk-per-trade signals."})]}),c.jsxs(En,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-semibold",children:"Drawdown Structure"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Max Drawdown"}),c.jsx("div",{className:"font-semibold",children:ae(w.drawdownStructure?.maxDrawdown)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Max DD (Abs)"}),c.jsxs("div",{className:"font-semibold",children:["-$",se(w.drawdownStructure?.maxDrawdownAbs)]})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Avg DD (hrs)"}),c.jsx("div",{className:"font-semibold",children:se(w.drawdownStructure?.avgDrawdownDurationHours)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Max DD (hrs)"}),c.jsx("div",{className:"font-semibold",children:se(w.drawdownStructure?.maxDrawdownDurationHours)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Recovery (hrs)"}),c.jsx("div",{className:"font-semibold",children:se(w.drawdownStructure?.timeToRecoveryHours)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Drawdowns"}),c.jsx("div",{className:"font-semibold",children:se(w.drawdownStructure?.drawdownCount,0)})]})]}),Array.isArray(w.drawdownStructure?.failurePatterns)&&w.drawdownStructure.failurePatterns.length>0&&c.jsxs("div",{className:"mt-2 p-3 bg-muted/20 rounded-md border border-border/50",children:[c.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2 mb-2",children:[c.jsx(Xt,{className:"w-4 h-4"}),"Failure Patterns"]}),c.jsx("ul",{className:"text-xs list-disc list-inside space-y-1",children:w.drawdownStructure.failurePatterns.slice(0,10).map((_,O)=>c.jsx("li",{children:_},O))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-semibold",children:"Risk Per Trade"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Worst Loss (Abs)"}),c.jsxs("div",{className:"font-semibold",children:["-$",se(w.riskPerTrade?.worstLossAbs)]})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Worst Risk"}),c.jsxs("div",{className:"font-semibold",children:[se(w.riskPerTrade?.actualRiskPct),"%"]})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Configured Stoploss"}),c.jsx("div",{className:"font-semibold",children:ae(w.riskPerTrade?.expectedStopLoss)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Stoploss Respected"}),c.jsx("div",{className:"font-semibold",children:ae(w.riskPerTrade?.stopLossRespectedPct)})]})]}),Array.isArray(w.riskPerTrade?.redFlags)&&w.riskPerTrade.redFlags.length>0&&c.jsxs("div",{className:"mt-2 p-3 bg-muted/20 rounded-md border border-border/50",children:[c.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2 mb-2",children:[c.jsx(Xt,{className:"w-4 h-4"}),"Risk Red Flags"]}),c.jsx("ul",{className:"text-xs list-disc list-inside space-y-1",children:w.riskPerTrade.redFlags.slice(0,10).map((_,O)=>c.jsx("li",{children:_},O))})]})]})]}),c.jsx(us,{items:T})]})]}),N&&c.jsxs(Cn,{children:[c.jsxs(jn,{children:[c.jsxs(_n,{className:"flex items-center gap-2",children:["Phase 4: Entry Quality",c.jsxs(Ot,{variant:"outline",className:"ml-auto",children:["Quick losers: ",ae(N.timing?.quickLoserPct)]})]}),c.jsx(dr,{children:"Entry tagging breakdown and entry timing signals."})]}),c.jsxs(En,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-semibold",children:"By enter_tag"}),c.jsx("div",{className:"space-y-1",children:(Array.isArray(N.byTag)?N.byTag:[]).slice(0,10).map((_,O)=>c.jsxs("div",{className:"p-2 rounded-md bg-muted/30 border border-border/50 text-xs",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"font-semibold truncate",children:String(_?.tag||"-")}),c.jsx("div",{className:Ce("font-semibold",Number(_?.totalPnLAbs)<0?"text-destructive":"text-green-500"),children:J(_?.totalPnLAbs)})]}),c.jsxs("div",{className:"text-muted-foreground",children:["Trades: ",J(_?.trades,0)," | WinRate: ",I(_?.winRate)," | Avg PnL: ",J(_?.avgPnLAbs)]})]},O))}),Array.isArray(N.redFlags)&&N.redFlags.length>0&&c.jsxs("div",{className:"mt-2 p-3 bg-muted/20 rounded-md border border-border/50",children:[c.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2 mb-2",children:[c.jsx(Xt,{className:"w-4 h-4"}),"Red Flags"]}),c.jsx("ul",{className:"text-xs list-disc list-inside space-y-1",children:N.redFlags.slice(0,10).map((_,O)=>c.jsx("li",{children:_},O))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-semibold",children:"Timing"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Median winner (hrs)"}),c.jsx("div",{className:"font-semibold",children:se(N.timing?.medianWinnerDurationHours)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Median loser (hrs)"}),c.jsx("div",{className:"font-semibold",children:se(N.timing?.medianLoserDurationHours)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Quick losers"}),c.jsx("div",{className:"font-semibold",children:ae(N.timing?.quickLoserPct)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Note"}),c.jsx("div",{className:"font-semibold",children:String(N.timing?.diagnosis||"-")})]})]}),Array.isArray(N.timing?.redFlags)&&N.timing.redFlags.length>0&&c.jsxs("div",{className:"mt-2 p-3 bg-muted/20 rounded-md border border-border/50",children:[c.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2 mb-2",children:[c.jsx(Xt,{className:"w-4 h-4"}),"Timing Red Flags"]}),c.jsx("ul",{className:"text-xs list-disc list-inside space-y-1",children:N.timing.redFlags.slice(0,10).map((_,O)=>c.jsx("li",{children:_},O))})]})]})]}),c.jsx(us,{items:$})]})]}),j&&c.jsxs(Cn,{children:[c.jsxs(jn,{children:[c.jsxs(_n,{className:"flex items-center gap-2",children:["Phase 5: Exit Logic",c.jsxs(Ot,{variant:"outline",className:"ml-auto",children:["Avg loser/winner: ",se(j.duration?.durationRatio)]})]}),c.jsx(dr,{children:"Exit reason attribution and winner vs loser holding time."})]}),c.jsxs(En,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-semibold",children:"Exit Reasons"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Stoploss"}),c.jsx("div",{className:"font-semibold",children:se(j.exitReasons?.exitTypes?.stopLoss?.count,0)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"ROI"}),c.jsx("div",{className:"font-semibold",children:se(j.exitReasons?.exitTypes?.roiTarget?.count,0)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Trailing"}),c.jsx("div",{className:"font-semibold",children:se(j.exitReasons?.exitTypes?.trailingStop?.count,0)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Timeout"}),c.jsx("div",{className:"font-semibold",children:se(j.exitReasons?.exitTypes?.timeout?.count,0)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Exit signal"}),c.jsx("div",{className:"font-semibold",children:se(j.exitReasons?.exitTypes?.exitSignal?.count,0)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Other"}),c.jsx("div",{className:"font-semibold",children:se(j.exitReasons?.exitTypes?.other?.count,0)})]})]}),Array.isArray(j.exitReasons?.conclusions)&&j.exitReasons.conclusions.length>0&&c.jsxs("div",{className:"mt-2 p-3 bg-muted/20 rounded-md border border-border/50",children:[c.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2 mb-2",children:[c.jsx(Xt,{className:"w-4 h-4"}),"Conclusions"]}),c.jsx("ul",{className:"text-xs list-disc list-inside space-y-1",children:j.exitReasons.conclusions.slice(0,10).map((_,O)=>c.jsx("li",{children:_},O))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-semibold",children:"Hold Duration"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Avg winner (hrs)"}),c.jsx("div",{className:"font-semibold",children:se(j.duration?.avgWinnerDurationHours)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Avg loser (hrs)"}),c.jsx("div",{className:"font-semibold",children:se(j.duration?.avgLoserDurationHours)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Loser/Winner"}),c.jsx("div",{className:"font-semibold",children:se(j.duration?.durationRatio)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Winner trades"}),c.jsx("div",{className:"font-semibold",children:J(C?.expectancy?.totals?.winners,0)})]})]}),Array.isArray(j.duration?.antiPatterns)&&j.duration.antiPatterns.length>0&&c.jsxs("div",{className:"mt-2 p-3 bg-muted/20 rounded-md border border-border/50",children:[c.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2 mb-2",children:[c.jsx(Xt,{className:"w-4 h-4"}),"Anti-patterns"]}),c.jsx("ul",{className:"text-xs list-disc list-inside space-y-1",children:j.duration.antiPatterns.slice(0,10).map((_,O)=>c.jsx("li",{children:_},O))})]})]})]}),c.jsx(us,{items:ne})]})]}),P&&c.jsxs(Cn,{children:[c.jsxs(jn,{children:[c.jsxs(_n,{className:"flex items-center gap-2",children:["Phase 6: Regime & Asset Analysis",c.jsxs(Ot,{variant:"outline",className:"ml-auto",children:["Source: ",String(P.regimeSegmentation?.source||"-")]})]}),c.jsx(dr,{children:"Regime dependence and pair concentration."})]}),c.jsxs(En,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-semibold",children:"Regime Segmentation"}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Exchange: ",String(P.regimeSegmentation?.usedExchange||"-")," | Timeframe: ",String(P.regimeSegmentation?.usedTimeframe||"-")," | Benchmark: ",String(P.regimeSegmentation?.benchmarkPair||"-")]}),c.jsx("div",{className:"space-y-1",children:(Array.isArray(P.regimeSegmentation?.performanceByRegime)?P.regimeSegmentation.performanceByRegime:[]).slice(0,12).map((_,O)=>c.jsxs("div",{className:"p-2 rounded-md bg-muted/30 border border-border/50 text-xs",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"font-semibold truncate",children:String(_?.key||"-")}),c.jsx("div",{className:Ce("font-semibold",Number(_?.totalPnLAbs)<0?"text-destructive":"text-green-500"),children:J(_?.totalPnLAbs)})]}),c.jsxs("div",{className:"text-muted-foreground",children:["Trades: ",J(_?.trades,0)," | WinRate: ",I(_?.winRate)," | Avg: ",J(_?.avgPnLAbs)]})]},O))}),Array.isArray(P.regimeSegmentation?.redFlags)&&P.regimeSegmentation.redFlags.length>0&&c.jsxs("div",{className:"mt-2 p-3 bg-muted/20 rounded-md border border-border/50",children:[c.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2 mb-2",children:[c.jsx(Xt,{className:"w-4 h-4"}),"Regime Red Flags"]}),c.jsx("ul",{className:"text-xs list-disc list-inside space-y-1",children:P.regimeSegmentation.redFlags.slice(0,10).map((_,O)=>c.jsx("li",{children:_},O))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-semibold",children:"Asset / Pair Analysis"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Top pair share"}),c.jsx("div",{className:"font-semibold",children:ae(P.assetAnalysis?.concentration?.topPairPnlShareAbs)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Top 3 share"}),c.jsx("div",{className:"font-semibold",children:ae(P.assetAnalysis?.concentration?.top3PnlShareAbs)})]})]}),c.jsx("div",{className:"space-y-1",children:(Array.isArray(P.assetAnalysis?.topPairs)?P.assetAnalysis.topPairs:[]).slice(0,10).map((_,O)=>c.jsxs("div",{className:"p-2 rounded-md bg-muted/30 border border-border/50 text-xs",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"font-semibold truncate",children:String(_?.pair||"-")}),c.jsx("div",{className:Ce("font-semibold",Number(_?.totalPnLAbs)<0?"text-destructive":"text-green-500"),children:J(_?.totalPnLAbs)})]}),c.jsxs("div",{className:"text-muted-foreground",children:["Trades: ",J(_?.trades,0)," | WinRate: ",I(_?.winRate)," | Share: ",I(_?.pnlShareAbs)]})]},O))}),Array.isArray(P.assetAnalysis?.concentration?.redFlags)&&P.assetAnalysis.concentration.redFlags.length>0&&c.jsxs("div",{className:"mt-2 p-3 bg-muted/20 rounded-md border border-border/50",children:[c.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2 mb-2",children:[c.jsx(Xt,{className:"w-4 h-4"}),"Concentration Red Flags"]}),c.jsx("ul",{className:"text-xs list-disc list-inside space-y-1",children:P.assetAnalysis.concentration.redFlags.slice(0,10).map((_,O)=>c.jsx("li",{children:_},O))})]})]})]}),c.jsx(us,{items:Q})]})]}),A&&c.jsxs(Cn,{children:[c.jsxs(jn,{children:[c.jsxs(_n,{className:"flex items-center gap-2",children:["Phase 7: Costs & Liquidity",c.jsxs(Ot,{variant:"outline",className:"ml-auto",children:["Edge viable: ",String(!!A.costSensitivity?.edgeViable)]})]}),c.jsx(dr,{children:"Fee/slippage stress testing and basic liquidity realism checks."})]}),c.jsxs(En,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-semibold",children:"Cost Sensitivity"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Original profit"}),c.jsx("div",{className:Ce("font-semibold",Number(A.costSensitivity?.originalProfit)<0?"text-destructive":"text-green-500"),children:J(A.costSensitivity?.originalProfit)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"+25% fees"}),c.jsx("div",{className:Ce("font-semibold",Number(A.costSensitivity?.with25pctMoreFees)<0?"text-destructive":"text-green-500"),children:J(A.costSensitivity?.with25pctMoreFees)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"+50% slippage"}),c.jsx("div",{className:Ce("font-semibold",Number(A.costSensitivity?.with50pctMoreSlippage)<0?"text-destructive":"text-green-500"),children:J(A.costSensitivity?.with50pctMoreSlippage)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Combined stress"}),c.jsx("div",{className:Ce("font-semibold",Number(A.costSensitivity?.combinedStress)<0?"text-destructive":"text-green-500"),children:J(A.costSensitivity?.combinedStress)})]})]}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:["Verdict: ",String(A.costSensitivity?.verdict||"-")]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-semibold",children:"Liquidity"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Avg order size"}),c.jsx("div",{className:"font-semibold",children:se(A.liquidity?.avgOrderSize)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Avg market volume"}),c.jsx("div",{className:"font-semibold",children:se(A.liquidity?.avgMarketVolume)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Order / volume"}),c.jsx("div",{className:"font-semibold",children:ae(A.liquidity?.orderToVolumeRatio)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Risk"}),c.jsx("div",{className:"font-semibold",children:String(A.liquidity?.liquidityRisk||"-")})]})]})]})]}),Array.isArray(A.redFlags)&&A.redFlags.length>0&&c.jsxs("div",{className:"mt-2 p-3 bg-muted/20 rounded-md border border-border/50",children:[c.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2 mb-2",children:[c.jsx(Xt,{className:"w-4 h-4"}),"Red Flags"]}),c.jsx("ul",{className:"text-xs list-disc list-inside space-y-1",children:A.redFlags.slice(0,10).map((_,O)=>c.jsx("li",{children:_},O))})]}),c.jsx(us,{items:q})]})]}),L&&c.jsxs(Cn,{children:[c.jsxs(jn,{children:[c.jsxs(_n,{className:"flex items-center gap-2",children:["Phase 8: Logic Integrity",c.jsxs(Ot,{variant:"outline",className:"ml-auto",children:["Risk: ",String(L.overfitting?.overfittingRisk||"-")]})]}),c.jsx(dr,{children:"Strategy code integrity checks: conflicts, instability, and overfitting risk."})]}),c.jsxs(En,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-semibold",children:"Overfitting & Complexity"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Indicators"}),c.jsx("div",{className:"font-semibold",children:se(L.overfitting?.indicatorCount,0)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Complexity"}),c.jsxs("div",{className:"font-semibold",children:[se(L.overfitting?.complexityScore,0),"/100"]})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Magic params"}),c.jsx("div",{className:"font-semibold",children:J(Array.isArray(L.overfitting?.magicParameters)?L.overfitting.magicParameters.length:0,0)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Correlated"}),c.jsx("div",{className:"font-semibold",children:J(Array.isArray(L.overfitting?.highlyCorrelatedIndicators)?L.overfitting.highlyCorrelatedIndicators.length:0,0)})]})]}),Array.isArray(L.overfitting?.highlyCorrelatedIndicators)&&L.overfitting.highlyCorrelatedIndicators.length>0&&c.jsxs("div",{className:"mt-2 p-3 bg-muted/20 rounded-md border border-border/50",children:[c.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2 mb-2",children:[c.jsx(Xt,{className:"w-4 h-4"}),"Redundant indicators"]}),c.jsx("ul",{className:"text-xs list-disc list-inside space-y-1",children:L.overfitting.highlyCorrelatedIndicators.slice(0,10).map((_,O)=>c.jsx("li",{children:_},O))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-semibold",children:"Signal Conflicts"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Instability"}),c.jsx("div",{className:"font-semibold",children:String(!!L.signalConflicts?.briefSignalInstability)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Logic errors"}),c.jsx("div",{className:"font-semibold",children:J(Array.isArray(L.signalConflicts?.logicErrors)?L.signalConflicts.logicErrors.length:0,0)})]})]}),Array.isArray(L.signalConflicts?.conflictingIndicators)&&L.signalConflicts.conflictingIndicators.length>0&&c.jsxs("div",{className:"mt-2 p-3 bg-muted/20 rounded-md border border-border/50",children:[c.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2 mb-2",children:[c.jsx(Xt,{className:"w-4 h-4"}),"Conflicts"]}),c.jsx("ul",{className:"text-xs list-disc list-inside space-y-1",children:L.signalConflicts.conflictingIndicators.slice(0,10).map((_,O)=>c.jsx("li",{children:_},O))})]}),Array.isArray(L.signalConflicts?.impossibleCycles)&&L.signalConflicts.impossibleCycles.length>0&&c.jsxs("div",{className:"mt-2 p-3 bg-muted/20 rounded-md border border-border/50",children:[c.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2 mb-2",children:[c.jsx(Xt,{className:"w-4 h-4"}),"Impossible / churn cycles"]}),c.jsx("ul",{className:"text-xs list-disc list-inside space-y-1",children:L.signalConflicts.impossibleCycles.slice(0,10).map((_,O)=>c.jsx("li",{children:_},O))})]})]})]}),Array.isArray(L.redFlags)&&L.redFlags.length>0&&c.jsxs("div",{className:"mt-2 p-3 bg-muted/20 rounded-md border border-border/50",children:[c.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2 mb-2",children:[c.jsx(Xt,{className:"w-4 h-4"}),"Red Flags"]}),c.jsx("ul",{className:"text-xs list-disc list-inside space-y-1",children:L.redFlags.slice(0,10).map((_,O)=>c.jsx("li",{children:_},O))})]}),c.jsx(us,{items:ue})]})]}),F&&c.jsxs(Cn,{children:[c.jsxs(jn,{children:[c.jsxs(_n,{className:"flex items-center gap-2",children:["Phase 9: Statistical Robustness",c.jsxs(Ot,{variant:"outline",className:Ce("ml-auto",String(F.sampleAdequacy?.verdict)==="FAIL"?"text-destructive":""),children:["Verdict: ",String(F.sampleAdequacy?.verdict||"-")]})]}),c.jsx(dr,{children:"Sample adequacy and confidence interval on expectancy."})]}),c.jsxs(En,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-semibold",children:"Sample Adequacy"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Trades (N)"}),c.jsx("div",{className:"font-semibold",children:se(F.sampleAdequacy?.tradeCount,0)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Min required"}),c.jsx("div",{className:"font-semibold",children:se(F.sampleAdequacy?.minRequiredTrades,0)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Expectancy"}),c.jsx("div",{className:Ce("font-semibold",Number(F.sampleAdequacy?.expectancy)<0?"text-destructive":"text-green-500"),children:J(F.sampleAdequacy?.expectancy,6)})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/30 border border-border/50",children:[c.jsx("div",{className:"text-muted-foreground",children:"Std dev"}),c.jsx("div",{className:"font-semibold",children:se(F.sampleAdequacy?.expectancyStdDev,6)})]})]}),c.jsxs("div",{className:"p-3 rounded-md bg-muted/20 border border-border/50 text-xs",children:[c.jsx("div",{className:"text-muted-foreground",children:"CI 95%"}),c.jsx("div",{className:"font-semibold",children:Array.isArray(F.sampleAdequacy?.confidenceInterval95)?`${J(F.sampleAdequacy.confidenceInterval95[0],6)} .. ${J(F.sampleAdequacy.confidenceInterval95[1],6)}`:"-"}),c.jsx("div",{className:"text-muted-foreground mt-1",children:String(F.sampleAdequacy?.justification||"-")})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-semibold",children:"Red Flags"}),Array.isArray(F.redFlags)&&F.redFlags.length>0?c.jsx("div",{className:"p-3 rounded-md bg-muted/20 border border-border/50",children:c.jsx("ul",{className:"text-xs list-disc list-inside space-y-1",children:F.redFlags.slice(0,12).map((_,O)=>c.jsx("li",{children:_},O))})}):c.jsx("div",{className:"text-xs text-muted-foreground",children:"No statistical red flags."})]})]}),c.jsx(us,{items:le})]})]}),b&&c.jsxs(Cn,{children:[c.jsxs(jn,{children:[c.jsxs(_n,{className:"flex items-center gap-2",children:["Phase 10: Final Summary",c.jsx(Ot,{variant:b.statisticalVerdict==="PASS"?"outline":"destructive",className:"ml-auto",children:String(b.statisticalVerdict||"-")})]}),c.jsx(dr,{children:"Consolidated diagnosis and prioritized fixes."})]}),c.jsxs(En,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-semibold",children:"Primary loss driver"}),c.jsx("div",{className:"text-xs text-muted-foreground",children:String(b.primaryLossDriver||"-")})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-semibold",children:"Secondary issue"}),c.jsx("div",{className:"text-xs text-muted-foreground",children:String(b.secondaryIssue||"-")})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-semibold",children:"Regime failure"}),c.jsx("div",{className:"text-xs text-muted-foreground",children:String(b.regimeFailure||"-")})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-semibold",children:"Asset / concentration risk"}),c.jsx("div",{className:"text-xs text-muted-foreground",children:String(b.assetRisk||"-")})]})]}),Array.isArray(b.suggestedFixes)&&b.suggestedFixes.length>0&&c.jsxs("div",{className:"mt-2 p-3 bg-muted/20 rounded-md border border-border/50",children:[c.jsxs("h4",{className:"text-sm font-semibold flex items-center gap-2 mb-2",children:[c.jsx(Xt,{className:"w-4 h-4"}),"Suggested Fixes"]}),c.jsx("ul",{className:"text-xs list-disc list-inside space-y-1",children:b.suggestedFixes.slice(0,12).map((_,O)=>c.jsx("li",{children:_},O))})]})]})]})]})}function mO({centerMode:e,setCenterMode:t,activeFileId:n,diffState:i,lastBacktest:o,isBacktestLoading:l,editorContent:d,setEditorContent:f,setIsDirty:m,onSave:g,editorState:h,setEditorState:x,isDirty:b,lastBacktestId:k,quickParams:C,children:w}){const N=y.useRef(null),{data:j,isLoading:P}=ti({queryKey:[k?`/api/diagnostic/reports/${k}`:""],enabled:!!k,refetchInterval:3e3}),A=j?.[0]?.report;return c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:"h-10 border-b border-white/10 bg-black/20 flex items-center justify-between px-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Ge,{variant:"ghost",size:"sm",className:Ce("h-7 px-2 text-xs gap-2",e==="code"?"bg-white/10 text-white":"text-slate-300 hover:bg-white/5 hover:text-white"),onClick:()=>t("code"),disabled:!n,children:[c.jsx(Ei,{className:"w-3.5 h-3.5"}),"Code"]}),c.jsxs(Ge,{variant:"ghost",size:"sm",className:Ce("h-7 px-2 text-xs gap-2",e==="diff"?"bg-white/10 text-white":"text-slate-300 hover:bg-white/5 hover:text-white"),onClick:()=>t("diff"),disabled:!i,children:[c.jsx(MC,{className:"w-3.5 h-3.5"}),"Diff"]}),c.jsxs(Ge,{variant:"ghost",size:"sm",className:Ce("h-7 px-2 text-xs gap-2 transition-colors",e==="results"?"bg-gradient-to-r from-purple-600/30 to-red-600/30 text-white border border-white/10":"text-slate-300 hover:bg-white/5 hover:text-white"),onClick:()=>t("results"),children:[c.jsx(Up,{className:"w-3.5 h-3.5"}),"Results"]}),c.jsxs(Ge,{variant:"ghost",size:"sm",className:Ce("h-7 px-2 text-xs gap-2 transition-colors",e==="diagnostics"?"bg-gradient-to-r from-purple-600/30 to-red-600/30 text-white border border-white/10":"text-slate-300 hover:bg-white/5 hover:text-white"),onClick:()=>t("diagnostics"),disabled:!k,children:[c.jsx(Vp,{className:"w-3.5 h-3.5"}),"Diagnostics"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[b?c.jsx(Ot,{variant:"outline",className:"border-red-500/30 bg-red-500/10 text-red-400 text-[10px]",children:"Unsaved"}):c.jsx(Ot,{variant:"outline",className:"border-white/10 bg-black/20 text-slate-300 text-[10px]",children:"Clean"}),i?c.jsx(Ot,{variant:"outline",className:"border-purple-500/30 bg-purple-500/10 text-purple-200 text-[10px]",children:"Validated"}):null]})]}),c.jsx("div",{className:"flex-1 min-h-0 p-3",children:e==="diff"?i?c.jsx("div",{className:"h-full rounded-md border border-white/10 overflow-hidden",children:c.jsx(d1,{height:"100%",language:"python",theme:"vs-dark",original:i.before,modified:i.after,options:{readOnly:!0,renderSideBySide:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,automaticLayout:!0,fontSize:13,fontFamily:"'JetBrains Mono', monospace"}})}):c.jsx("div",{className:"h-full rounded-md border border-white/10 bg-black/20 flex items-center justify-center text-xs text-slate-400",children:"No validated diff yet."}):e==="diagnostics"?c.jsxs("div",{className:"h-full rounded-md border border-white/10 bg-black/20 overflow-hidden flex flex-col",children:[c.jsx("div",{className:"px-3 py-2 border-b border-white/10 bg-black/30 text-xs text-slate-300",children:"Latest diagnostics"}),P?c.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-2",children:[c.jsx(Er,{className:"w-6 h-6 animate-spin text-purple-400"}),c.jsx("div",{className:"text-xs text-slate-400",children:"Loading diagnostics..."})]}):A?c.jsx(qs,{className:"flex-1",children:c.jsx("div",{className:"p-3",children:c.jsx(pO,{report:A})})}):c.jsx("div",{className:"flex-1 flex items-center justify-center text-xs text-slate-400",children:"No diagnostic report yet. Queue a diagnostic run to see explanations here."})]}):e==="results"?l?c.jsxs("div",{className:"h-full rounded-md border border-white/10 bg-black/20 flex flex-col items-center justify-center gap-2",children:[c.jsx(Er,{className:"w-6 h-6 animate-spin text-purple-400"}),c.jsx("div",{className:"text-xs text-slate-400",children:"Loading backtest results..."})]}):o?c.jsx("div",{className:"h-full rounded-md border border-white/10 bg-black/20 overflow-hidden flex flex-col",children:w}):k?c.jsxs("div",{className:"h-full rounded-md border border-white/10 bg-black/20 flex flex-col items-center justify-center gap-2",children:[c.jsx(Er,{className:"w-6 h-6 animate-spin text-purple-400"}),c.jsxs("div",{className:"text-xs text-slate-400",children:["Fetching backtest #",k,"..."]})]}):c.jsx("div",{className:"h-full rounded-md border border-white/10 bg-black/20 flex items-center justify-center text-xs text-slate-400",children:"Run a backtest to view results."}):n?c.jsx(uO,{ref:N,language:"python",value:d,quickParams:C,onChange:L=>{L!==void 0&&(f(L),m(!0))},onSave:g,onEditorStateChange:L=>x(L)}):c.jsx("div",{className:"h-full rounded-md border border-white/10 bg-black/20 flex items-center justify-center text-xs text-slate-400",children:"Select a strategy."})})]})}const Zv="workspace:quickBacktest",Gv="workspace:tradesTableColWidths";function uu(e){const t=e.getUTCFullYear(),n=String(e.getUTCMonth()+1).padStart(2,"0"),i=String(e.getUTCDate()).padStart(2,"0");return`${t}${n}${i}`}function kr(e){const t=new Date,n=new Date(t);return n.setUTCDate(n.getUTCDate()-Math.max(0,Math.floor(e))),`${uu(n)}-${uu(t)}`}function Yv(){const e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),0,1));return`${uu(t)}-${uu(e)}`}function $e(e){const t=typeof e=="number"?e:typeof e=="string"?Number(e):NaN;return Number.isFinite(t)?t:null}function _a(e,t=2){return e==null?"-":`${e.toFixed(t)}%`}function Vr(e,t=2){if(e==null)return"-";const n=e<0?"-":"",i=Math.abs(e);return`${n}${i.toFixed(t)}`}function Xv(e){return typeof e!="string"||!e?"-":e.replace("+00:00","").replace("T"," ")}function vi(e){if(typeof e!="string")return null;const t=e.trim();if(!t)return null;const n=Date.parse(t);return Number.isFinite(n)?n:null}function hO(e){if(e==null)return"-";const t=Math.max(0,Math.floor(e)),n=Math.floor(t/1440),i=Math.floor(t%1440/60),o=t%60;return n>0?`${n}d ${i}h`:i>0?`${i}h ${o}m`:`${o}m`}function gO({allTrades:e,tradePairs:t,tradePairCounts:n,filteredTrades:i,pagedTrades:o,filteredTradesTotals:l,resultsSummary:d,tradesViewTab:f,setTradesViewTab:m,tradesFilterPair:g,setTradesFilterPair:h,tradesFilterPnL:x,setTradesFilterPnL:b,tradesSearch:k,setTradesSearch:C,tradesPage:w,setTradesPage:N,tradesPageSize:j,setTradesPageSize:P,perPairSort:A,setPerPairSort:L,tradeColWidths:F,startResizeTradeCol:H,onSelectProfitablePairs:I}){const J=y.useMemo(()=>t.map(K=>{const ee=e.filter(ne=>String(ne?.pair)===K),de=ee.length,le=ee.filter(ne=>($e(ne?.profit_abs)??0)>0).length,ue=de>0?le/de*100:0,q=ee.reduce((ne,G)=>ne+($e(G?.profit_abs)??0),0),Q=de>0?q/de:0,$=ee.reduce((ne,G)=>ne+($e(G?.profit_ratio)??0)*100,0);return{pair:K,tradesCount:de,winRate:ue,netProfit:q,avgProfit:Q,totalProfitPct:$}}),[e,t]),se=y.useMemo(()=>[...J].sort((K,ee)=>{const de=A.dir==="asc"?1:-1;switch(A.key){case"pair":return de*K.pair.localeCompare(ee.pair);case"trades":return de*(K.tradesCount-ee.tradesCount);case"winRate":return de*(K.winRate-ee.winRate);case"profitPct":return de*(K.totalProfitPct-ee.totalProfitPct);case"profit":return de*((K.netProfit??0)-(ee.netProfit??0));case"avgProfit":return de*((K.avgProfit??0)-(ee.avgProfit??0));default:return 0}}),[J,A]),ae=({label:K,sortKey:ee})=>{const de=A.key===ee;return c.jsx("th",{className:"px-2 py-2 text-right cursor-pointer hover:bg-white/5 select-none",onClick:()=>L(le=>({key:ee,dir:le.key===ee&&le.dir==="desc"?"asc":"desc"})),children:c.jsxs("div",{className:"flex items-center justify-end gap-1",children:[c.jsx("span",{children:K}),de&&c.jsx("span",{className:"text-[8px]",children:A.dir==="desc"?"":""})]})})};return c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsx("div",{className:"p-3 border-b border-white/10 bg-black/30",children:d?c.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-2",children:[(()=>{const K=(d.profitAbs??0)>=0;return c.jsxs("div",{className:Ce("rounded-xl border bg-gradient-to-br px-3 py-2",K?"border-emerald-500/20 from-emerald-500/15 via-black/30 to-purple-500/10":"border-red-500/20 from-red-500/15 via-black/30 to-purple-500/10"),children:[c.jsx("div",{className:"text-[10px] uppercase tracking-wider text-slate-400",children:"Total Profit"}),c.jsx("div",{className:Ce("mt-0.5 text-sm font-bold",K?"text-emerald-400":"text-red-400"),children:_a(d.profitPct)}),c.jsxs("div",{className:"text-[11px] text-slate-300",children:[Vr(d.profitAbs)," ",d.stakeCurrency]})]})})(),(()=>{const K=$e(d.startingBalance);return c.jsxs("div",{className:"rounded-xl border border-white/10 bg-gradient-to-br from-purple-500/10 via-black/30 to-purple-500/5 px-3 py-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-wider text-slate-400",children:"Starting Balance"}),c.jsxs("div",{className:"mt-0.5 text-sm font-bold text-slate-100",children:[K!=null?Vr(K):"-"," ",d.stakeCurrency]}),c.jsx("div",{className:"text-[11px] text-slate-300",children:"Start"})]})})(),(()=>{const K=$e(d.finalBalance);return c.jsxs("div",{className:"rounded-xl border border-white/10 bg-gradient-to-br from-purple-500/10 via-black/30 to-purple-500/5 px-3 py-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-wider text-slate-400",children:"Ending Balance"}),c.jsxs("div",{className:"mt-0.5 text-sm font-bold text-slate-100",children:[K!=null?Vr(K):"-"," ",d.stakeCurrency]}),c.jsx("div",{className:"text-[11px] text-slate-300",children:"End"})]})})(),(()=>{const K=l.grossLossAbs>0?l.grossProfitAbs/l.grossLossAbs:l.grossProfitAbs>0?1/0:0,ee=K>=1.5,de=K<1&&K>0;return c.jsxs("div",{className:Ce("rounded-xl border bg-gradient-to-br px-3 py-2",ee?"border-emerald-500/20 from-emerald-500/10 via-black/30 to-purple-500/10":de?"border-red-500/20 from-red-500/10 via-black/30 to-purple-500/10":"border-white/10 from-purple-500/10 via-black/30 to-purple-500/5"),children:[c.jsx("div",{className:"text-[10px] uppercase tracking-wider text-slate-400",children:"Profit Factor"}),c.jsx("div",{className:Ce("mt-0.5 text-sm font-bold",ee?"text-emerald-400":de?"text-red-400":"text-slate-100"),children:Number.isFinite(K)?K.toFixed(2):""}),c.jsx("div",{className:"text-[11px] text-slate-300",children:K>=1.5?"Good":K>=1?"Breakeven":"Poor"})]})})(),(()=>{const K=o.total>0?l.netProfitAbs/o.total:0,ee=K>=0;return c.jsxs("div",{className:Ce("rounded-xl border bg-gradient-to-br px-3 py-2",ee?"border-emerald-500/20 from-emerald-500/10 via-black/30 to-purple-500/10":"border-red-500/20 from-red-500/10 via-black/30 to-purple-500/10"),children:[c.jsx("div",{className:"text-[10px] uppercase tracking-wider text-slate-400",children:"Expectancy / Trade"}),c.jsxs("div",{className:Ce("mt-0.5 text-sm font-bold",ee?"text-emerald-400":"text-red-400"),children:[Vr(K)," ",d.stakeCurrency]}),c.jsx("div",{className:"text-[11px] text-slate-300",children:"Avg per trade"})]})})(),(()=>{const K=l.wins+l.losses,ee=K>0?l.wins/K*100:0;return c.jsxs("div",{className:"rounded-xl border border-white/10 bg-gradient-to-br from-purple-500/10 via-black/30 to-purple-500/5 px-3 py-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-wider text-slate-400",children:"Win Rate"}),c.jsxs("div",{className:"mt-0.5 text-sm font-bold text-slate-100",children:[ee.toFixed(1),"%"]}),c.jsxs("div",{className:"text-[11px] text-slate-300",children:[l.wins,"W / ",l.losses,"L"]})]})})(),(()=>{const K=l.wins>0?l.grossProfitAbs/l.wins:0,ee=l.losses>0?l.grossLossAbs/l.losses:0,de=ee>0?K/ee:0;return c.jsxs("div",{className:"rounded-xl border border-white/10 bg-gradient-to-br from-purple-500/10 via-black/30 to-purple-500/5 px-3 py-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-wider text-slate-400",children:"Avg Win / Loss"}),c.jsxs("div",{className:"mt-0.5 text-sm font-bold text-slate-100",children:[Vr(K)," / ",Vr(ee)]}),c.jsxs("div",{className:"text-[11px] text-slate-300",children:["Ratio: ",de.toFixed(2)]})]})})(),(()=>{const K=e.map(le=>$e(le?.profit_ratio)??0).filter(le=>le!==0),ee=K.length>0?Math.max(...K):0,de=K.length>0?Math.min(...K):0;return c.jsxs("div",{className:"rounded-xl border border-white/10 bg-gradient-to-br from-purple-500/10 via-black/30 to-purple-500/5 px-3 py-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-wider text-slate-400",children:"Best / Worst"}),c.jsxs("div",{className:"mt-0.5 text-sm font-bold",children:[c.jsx("span",{className:"text-emerald-400",children:_a(ee*100)}),c.jsx("span",{className:"text-slate-500 mx-1",children:"/"}),c.jsx("span",{className:"text-red-400",children:_a(de*100)})]}),c.jsx("div",{className:"text-[11px] text-slate-300",children:"Best vs Worst trade"})]})})(),(()=>{const K=l.durationCount>0?l.durationMin/l.durationCount:0,ee=K>=60?`${(K/60).toFixed(1)}h`:`${K.toFixed(0)}m`;return c.jsxs("div",{className:"rounded-xl border border-white/10 bg-gradient-to-br from-purple-500/10 via-black/30 to-purple-500/5 px-3 py-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-wider text-slate-400",children:"Avg Duration"}),c.jsx("div",{className:"mt-0.5 text-sm font-bold text-slate-100",children:ee}),c.jsx("div",{className:"text-[11px] text-slate-300",children:"Per trade"})]})})(),c.jsxs("div",{className:"rounded-xl border border-white/10 bg-gradient-to-br from-purple-500/10 via-black/30 to-purple-500/5 px-3 py-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-wider text-slate-400",children:"Max Drawdown"}),c.jsx("div",{className:"mt-0.5 text-sm font-bold text-slate-100",children:_a(d.ddPct)}),c.jsxs("div",{className:"text-[11px] text-slate-300",children:[Vr(d.ddAbs)," ",d.stakeCurrency]})]}),c.jsxs("div",{className:"rounded-xl border border-white/10 bg-gradient-to-br from-purple-500/10 via-black/30 to-purple-500/5 px-3 py-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-wider text-slate-400",children:"Total Trades"}),c.jsx("div",{className:"mt-0.5 text-sm font-bold text-slate-100",children:d.totalTrades!=null?String(Math.round(d.totalTrades)):"-"}),c.jsxs("div",{className:"text-[11px] text-slate-300",children:[t.length," pairs"]})]})]}):c.jsx("div",{className:"mt-2 text-xs text-slate-400",children:"No results yet."})}),c.jsx("div",{className:"flex-1 min-h-0 overflow-auto",children:c.jsx("div",{className:"p-3 space-y-3",children:c.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/30 overflow-hidden",children:[c.jsxs("div",{className:"px-3 py-2 border-b border-white/10 bg-black/20",children:[c.jsxs("div",{className:"flex items-center gap-1 mb-3",children:[c.jsx(Ge,{type:"button",variant:"ghost",size:"sm",className:Ce("h-7 px-3 text-[10px] rounded-md",f==="trades"?"bg-white/10 text-white":"text-slate-400 hover:text-white hover:bg-white/5"),onClick:()=>m("trades"),children:"All Trades"}),c.jsx(Ge,{type:"button",variant:"ghost",size:"sm",className:Ce("h-7 px-3 text-[10px] rounded-md",f==="per-pair"?"bg-white/10 text-white":"text-slate-400 hover:text-white hover:bg-white/5"),onClick:()=>m("per-pair"),children:"Per-Pair Results"})]}),c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-wider text-slate-400",children:f==="trades"?"Trades":"Pair Summary"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"text-[10px] text-slate-400",children:f==="trades"?c.jsxs(c.Fragment,{children:[o.total," trades",e.length!==o.total?` of ${e.length}`:"",l.pairsCount?`  ${l.pairsCount} pairs`:""]}):c.jsxs(c.Fragment,{children:[t.length," pairs"]})}),I&&t.length>0&&f==="per-pair"&&c.jsx(Ge,{type:"button",variant:"ghost",size:"sm",className:"h-5 px-1.5 text-[10px] text-emerald-400 hover:text-emerald-300 hover:bg-emerald-500/10",onClick:()=>{const K=t.filter(ee=>e.filter(ue=>String(ue?.pair)===ee).reduce((ue,q)=>ue+($e(q?.profit_abs)??0),0)>0);K.length>0&&I(K)},title:"Select only profitable pairs for Quick Backtest",children:c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx("path",{d:"M12 5v14M5 12h14"})}),"Use profitable (",t.filter(ee=>e.filter(ue=>String(ue?.pair)===ee).reduce((ue,q)=>ue+($e(q?.profit_abs)??0),0)>0).length,")"]})})]})]}),f==="trades"&&c.jsxs("div",{className:"mt-2 grid grid-cols-1 lg:grid-cols-4 gap-2",children:[c.jsx(fs,{value:k,onChange:K=>C(K.target.value),placeholder:"Search pair / reason / date",className:"h-8 text-xs"}),c.jsxs("select",{value:g,onChange:K=>h(K.target.value),className:"w-full h-8 rounded-md bg-black/30 border border-white/10 px-2 text-xs text-slate-200 outline-none",children:[c.jsx("option",{value:"all",children:"All pairs"}),t.map(K=>{const de=e.filter(q=>String(q?.pair)===K).reduce((q,Q)=>{const $=$e(Q?.profit_abs);return q+($??0)},0),le=de>0,ue=de<0;return c.jsxs("option",{value:K,style:{color:le?"#10b981":ue?"#ef4444":void 0},children:[K," (",n.get(K)??0,") ",le?"":ue?"":""]},K)})]}),c.jsxs("select",{value:x,onChange:K=>b(K.target.value),className:"w-full h-8 rounded-md bg-black/30 border border-white/10 px-2 text-xs text-slate-200 outline-none",children:[c.jsx("option",{value:"all",children:"All trades"}),c.jsx("option",{value:"profit",style:{color:"#10b981"},children:"Profit only"}),c.jsx("option",{value:"loss",style:{color:"#ef4444"},children:"Loss only"})]}),c.jsxs("div",{className:"flex items-center justify-end gap-2",children:[c.jsxs("select",{value:String(j),onChange:K=>{const ee=String(K.target.value||"").trim().toLowerCase();if(ee==="all"){P("all");return}const de=Number(ee);if(de===10||de===20||de===50||de===100){P(de);return}P(50)},className:"h-8 rounded-md bg-black/30 border border-white/10 px-2 text-xs text-slate-200 outline-none",title:"Rows",children:[c.jsx("option",{value:"10",children:"10"}),c.jsx("option",{value:"20",children:"20"}),c.jsx("option",{value:"50",children:"50"}),c.jsx("option",{value:"100",children:"100"}),c.jsx("option",{value:"all",children:"All"})]}),c.jsx(Ge,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 text-xs",onClick:()=>N(Math.max(1,w-1)),disabled:j==="all"||o.page<=1,children:"Prev"}),c.jsx("div",{className:"text-xs text-slate-300",children:j==="all"?"All":`${o.page}/${o.maxPage}`}),c.jsx(Ge,{type:"button",variant:"ghost",size:"sm",className:"h-8 px-2 text-xs",onClick:()=>N(Math.min(o.maxPage,w+1)),disabled:j==="all"||o.page>=o.maxPage,children:"Next"})]})]})]}),c.jsx("div",{className:"p-3",children:f==="trades"?o.rows.length?c.jsx("div",{className:"overflow-auto rounded-md border border-white/10",children:c.jsxs("table",{className:"w-full text-xs table-fixed",children:[c.jsxs("colgroup",{children:[c.jsx("col",{style:{width:F.pair}}),c.jsx("col",{style:{width:F.open}}),c.jsx("col",{style:{width:F.close}}),c.jsx("col",{style:{width:F.duration}}),c.jsx("col",{style:{width:F.profitPct}}),c.jsx("col",{style:{width:F.profitAbs}}),c.jsx("col",{style:{width:F.exit}})]}),c.jsx("thead",{className:"bg-black/30 text-[10px] uppercase tracking-wider text-slate-400",children:c.jsxs("tr",{children:[c.jsxs("th",{className:"px-2 py-2 text-left relative",children:[c.jsx("div",{className:"pr-2",children:"Pair"}),c.jsx("div",{className:"absolute right-0 top-0 h-full w-1.5 cursor-col-resize",onMouseDown:H("pair"),title:"Drag to resize"})]}),c.jsxs("th",{className:"px-2 py-2 text-left relative",children:[c.jsx("div",{className:"pr-2",children:"Open"}),c.jsx("div",{className:"absolute right-0 top-0 h-full w-1.5 cursor-col-resize",onMouseDown:H("open"),title:"Drag to resize"})]}),c.jsxs("th",{className:"px-2 py-2 text-left relative",children:[c.jsx("div",{className:"pr-2",children:"Close"}),c.jsx("div",{className:"absolute right-0 top-0 h-full w-1.5 cursor-col-resize",onMouseDown:H("close"),title:"Drag to resize"})]}),c.jsxs("th",{className:"px-2 py-2 text-left relative",children:[c.jsx("div",{className:"pr-2",children:"Duration"}),c.jsx("div",{className:"absolute right-0 top-0 h-full w-1.5 cursor-col-resize",onMouseDown:H("duration"),title:"Drag to resize"})]}),c.jsxs("th",{className:"px-2 py-2 text-right relative",children:[c.jsx("div",{className:"pr-2",children:"Profit %"}),c.jsx("div",{className:"absolute right-0 top-0 h-full w-1.5 cursor-col-resize",onMouseDown:H("profitPct"),title:"Drag to resize"})]}),c.jsxs("th",{className:"px-2 py-2 text-right relative",children:[c.jsx("div",{className:"pr-2",children:"Profit"}),c.jsx("div",{className:"absolute right-0 top-0 h-full w-1.5 cursor-col-resize",onMouseDown:H("profitAbs"),title:"Drag to resize"})]}),c.jsxs("th",{className:"px-2 py-2 text-left relative",children:[c.jsx("div",{className:"pr-2",children:"Exit"}),c.jsx("div",{className:"absolute right-0 top-0 h-full w-1.5 cursor-col-resize",onMouseDown:H("exit"),title:"Drag to resize"})]})]})}),c.jsx("tbody",{className:"divide-y divide-white/10",children:o.rows.map((K,ee)=>{const de=typeof K?.pair=="string"?String(K.pair):"-",le=Xv(K?.open_date),ue=Xv(K?.close_date),q=$e(K?.trade_duration)??(()=>{const T=vi(K?.open_date),_=vi(K?.close_date);if(T==null||_==null)return null;const O=_-T;return!Number.isFinite(O)||O<0?null:O/(1e3*60)})(),Q=$e(K?.profit_abs),$=$e(K?.profit_ratio)!=null?$e(K?.profit_ratio)*100:null,ne=(Q??$??0)>0,G=typeof K?.exit_reason=="string"?String(K.exit_reason):"-";return c.jsxs("tr",{className:Ce("hover:bg-white/5",ee%2===0?"bg-black/10":"bg-black/0"),children:[c.jsx("td",{className:"px-2 py-2 font-semibold text-slate-100 whitespace-nowrap",children:de}),c.jsx("td",{className:"px-2 py-2 text-slate-200 whitespace-nowrap",children:le}),c.jsx("td",{className:"px-2 py-2 text-slate-200 whitespace-nowrap",children:ue}),c.jsx("td",{className:"px-2 py-2 text-slate-300 whitespace-nowrap",children:hO(q)}),c.jsx("td",{className:Ce("px-2 py-2 text-right font-semibold whitespace-nowrap",ne?"text-emerald-400":"text-red-400"),children:$!=null?_a($):"-"}),c.jsxs("td",{className:Ce("px-2 py-2 text-right font-semibold whitespace-nowrap",ne?"text-emerald-400":"text-red-400"),children:[Vr(Q)," ",d?.stakeCurrency??""]}),c.jsx("td",{className:"px-2 py-2 text-slate-300 whitespace-nowrap",children:G})]},String(K?.open_timestamp??ee))})})]})}):c.jsx("div",{className:"text-xs text-slate-400",children:"No trades match your filters."}):se.length?c.jsx("div",{className:"overflow-auto rounded-md border border-white/10",children:c.jsxs("table",{className:"w-full text-xs",children:[c.jsx("thead",{className:"bg-black/30 text-[10px] uppercase tracking-wider text-slate-400",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-2 py-2 text-left cursor-pointer hover:bg-white/5 select-none",onClick:()=>L(K=>({key:"pair",dir:K.key==="pair"&&K.dir==="desc"?"asc":"desc"})),children:c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx("span",{children:"Pair"}),A.key==="pair"&&c.jsx("span",{className:"text-[8px]",children:A.dir==="desc"?"":""})]})}),c.jsx(ae,{label:"Trades",sortKey:"trades"}),c.jsx(ae,{label:"Win Rate",sortKey:"winRate"}),c.jsx(ae,{label:"Profit %",sortKey:"profitPct"}),c.jsx(ae,{label:"Profit",sortKey:"profit"}),c.jsx(ae,{label:"Avg Profit",sortKey:"avgProfit"})]})}),c.jsx("tbody",{className:"divide-y divide-white/10",children:se.map(K=>{const ee=(K.netProfit??0)>0;return c.jsxs("tr",{className:"hover:bg-white/5",children:[c.jsx("td",{className:"px-2 py-2 font-semibold text-slate-100",children:K.pair}),c.jsx("td",{className:"px-2 py-2 text-right text-slate-200",children:K.tradesCount}),c.jsxs("td",{className:"px-2 py-2 text-right text-slate-200",children:[K.winRate.toFixed(1),"%"]}),c.jsxs("td",{className:Ce("px-2 py-2 text-right font-semibold",ee?"text-emerald-400":"text-red-400"),children:[K.totalProfitPct.toFixed(2),"%"]}),c.jsxs("td",{className:Ce("px-2 py-2 text-right font-semibold",ee?"text-emerald-400":"text-red-400"),children:[Vr(K.netProfit)," ",d?.stakeCurrency??""]}),c.jsx("td",{className:Ce("px-2 py-2 text-right",ee?"text-emerald-400":"text-red-400"),children:Vr(K.avgProfit)})]},K.pair)})})]})}):c.jsx("div",{className:"text-xs text-slate-400",children:"No pair data available."})})]})})})]})}var tp="rovingFocusGroup.onEntryFocus",yO={bubbles:!1,cancelable:!0},Mu="RovingFocusGroup",[Tp,p1,vO]=_x(Mu),[xO,m1]=Zr(Mu,[vO]),[bO,wO]=xO(Mu),h1=y.forwardRef((e,t)=>c.jsx(Tp.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(Tp.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(SO,{...e,ref:t})})}));h1.displayName=Mu;var SO=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:i,loop:o=!1,dir:l,currentTabStopId:d,defaultCurrentTabStopId:f,onCurrentTabStopIdChange:m,onEntryFocus:g,preventScrollOnEntryFocus:h=!1,...x}=e,b=y.useRef(null),k=_t(t,b),C=lm(l),[w=null,N]=$o({prop:d,defaultProp:f,onChange:m}),[j,P]=y.useState(!1),A=Kt(g),L=p1(n),F=y.useRef(!1),[H,I]=y.useState(0);return y.useEffect(()=>{const J=b.current;if(J)return J.addEventListener(tp,A),()=>J.removeEventListener(tp,A)},[A]),c.jsx(bO,{scope:n,orientation:i,dir:C,loop:o,currentTabStopId:w,onItemFocus:y.useCallback(J=>N(J),[N]),onItemShiftTab:y.useCallback(()=>P(!0),[]),onFocusableItemAdd:y.useCallback(()=>I(J=>J+1),[]),onFocusableItemRemove:y.useCallback(()=>I(J=>J-1),[]),children:c.jsx(ct.div,{tabIndex:j||H===0?-1:0,"data-orientation":i,...x,ref:k,style:{outline:"none",...e.style},onMouseDown:Qe(e.onMouseDown,()=>{F.current=!0}),onFocus:Qe(e.onFocus,J=>{const se=!F.current;if(J.target===J.currentTarget&&se&&!j){const ae=new CustomEvent(tp,yO);if(J.currentTarget.dispatchEvent(ae),!ae.defaultPrevented){const K=L().filter(q=>q.focusable),ee=K.find(q=>q.active),de=K.find(q=>q.id===w),ue=[ee,de,...K].filter(Boolean).map(q=>q.ref.current);v1(ue,h)}}F.current=!1}),onBlur:Qe(e.onBlur,()=>P(!1))})})}),g1="RovingFocusGroupItem",y1=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:i=!0,active:o=!1,tabStopId:l,...d}=e,f=xo(),m=l||f,g=wO(g1,n),h=g.currentTabStopId===m,x=p1(n),{onFocusableItemAdd:b,onFocusableItemRemove:k}=g;return y.useEffect(()=>{if(i)return b(),()=>k()},[i,b,k]),c.jsx(Tp.ItemSlot,{scope:n,id:m,focusable:i,active:o,children:c.jsx(ct.span,{tabIndex:h?0:-1,"data-orientation":g.orientation,...d,ref:t,onMouseDown:Qe(e.onMouseDown,C=>{i?g.onItemFocus(m):C.preventDefault()}),onFocus:Qe(e.onFocus,()=>g.onItemFocus(m)),onKeyDown:Qe(e.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){g.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const w=CO(C,g.orientation,g.dir);if(w!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let j=x().filter(P=>P.focusable).map(P=>P.ref.current);if(w==="last")j.reverse();else if(w==="prev"||w==="next"){w==="prev"&&j.reverse();const P=j.indexOf(C.currentTarget);j=g.loop?jO(j,P+1):j.slice(P+1)}setTimeout(()=>v1(j))}})})})});y1.displayName=g1;var NO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function kO(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function CO(e,t,n){const i=kO(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return NO[i]}function v1(e,t=!1){const n=document.activeElement;for(const i of e)if(i===n||(i.focus({preventScroll:t}),document.activeElement!==n))return}function jO(e,t){return e.map((n,i)=>e[(t+i)%e.length])}var _O=h1,EO=y1,Rm="Tabs",[PO]=Zr(Rm,[m1]),x1=m1(),[TO,Im]=PO(Rm),b1=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:i,onValueChange:o,defaultValue:l,orientation:d="horizontal",dir:f,activationMode:m="automatic",...g}=e,h=lm(f),[x,b]=$o({prop:i,onChange:o,defaultProp:l});return c.jsx(TO,{scope:n,baseId:xo(),value:x,onValueChange:b,orientation:d,dir:h,activationMode:m,children:c.jsx(ct.div,{dir:h,"data-orientation":d,...g,ref:t})})});b1.displayName=Rm;var w1="TabsList",S1=y.forwardRef((e,t)=>{const{__scopeTabs:n,loop:i=!0,...o}=e,l=Im(w1,n),d=x1(n);return c.jsx(_O,{asChild:!0,...d,orientation:l.orientation,dir:l.dir,loop:i,children:c.jsx(ct.div,{role:"tablist","aria-orientation":l.orientation,...o,ref:t})})});S1.displayName=w1;var N1="TabsTrigger",k1=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:i,disabled:o=!1,...l}=e,d=Im(N1,n),f=x1(n),m=_1(d.baseId,i),g=E1(d.baseId,i),h=i===d.value;return c.jsx(EO,{asChild:!0,...f,focusable:!o,active:h,children:c.jsx(ct.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":g,"data-state":h?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:m,...l,ref:t,onMouseDown:Qe(e.onMouseDown,x=>{!o&&x.button===0&&x.ctrlKey===!1?d.onValueChange(i):x.preventDefault()}),onKeyDown:Qe(e.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&d.onValueChange(i)}),onFocus:Qe(e.onFocus,()=>{const x=d.activationMode!=="manual";!h&&!o&&x&&d.onValueChange(i)})})})});k1.displayName=N1;var C1="TabsContent",j1=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:i,forceMount:o,children:l,...d}=e,f=Im(C1,n),m=_1(f.baseId,i),g=E1(f.baseId,i),h=i===f.value,x=y.useRef(h);return y.useEffect(()=>{const b=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(b)},[]),c.jsx(Un,{present:o||h,children:({present:b})=>c.jsx(ct.div,{"data-state":h?"active":"inactive","data-orientation":f.orientation,role:"tabpanel","aria-labelledby":m,hidden:!b,id:g,tabIndex:0,...d,ref:t,style:{...e.style,animationDuration:x.current?"0s":void 0},children:b&&l})})});j1.displayName=C1;function _1(e,t){return`${e}-trigger-${t}`}function E1(e,t){return`${e}-content-${t}`}var AO=b1,P1=S1,T1=k1,A1=j1;const RO=AO,R1=y.forwardRef(({className:e,...t},n)=>c.jsx(P1,{ref:n,className:Ce("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));R1.displayName=P1.displayName;const Ia=y.forwardRef(({className:e,...t},n)=>c.jsx(T1,{ref:n,className:Ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ia.displayName=T1.displayName;const La=y.forwardRef(({className:e,...t},n)=>c.jsx(A1,{ref:n,className:Ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));La.displayName=A1.displayName;function IO({open:e,onOpenChange:t,originalCode:n,strategyName:i,onValidate:o,onApply:l,onSave:d}){const[f,m]=y.useState(!1),[g,h]=y.useState(null),[x,b]=y.useState("preview"),[k,C]=y.useState(!1);y.useEffect(()=>{e&&!g&&!f&&w()},[e]);const w=async()=>{m(!0),C(!1);try{const A=await o();h(A)}catch(A){h({valid:!1,errors:["Validation failed: "+A.message],warnings:[],code:n,diff:"",changes:[]})}finally{m(!1)}},N=async()=>{g?.code&&(await l(g.code),C(!0))},j=async()=>{g?.code&&(await d(g.code),t(!1),h(null))},P=()=>{t(!1),h(null),C(!1)};return c.jsx(Ow,{open:e,onOpenChange:P,children:c.jsxs(Nm,{className:"max-w-5xl h-[80vh] flex flex-col bg-gradient-to-br from-[#0a0a0f] via-[#12121a] to-[#1a1a24] border-white/10 text-slate-100",children:[c.jsxs(km,{className:"flex-shrink-0",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(qp,{className:"w-5 h-5 text-purple-400"}),c.jsx(jm,{className:"text-lg font-semibold text-slate-100",children:"Strategy Validation Preview"})]}),g&&c.jsxs("div",{className:"flex items-center gap-2",children:[g.valid?c.jsxs(Ot,{className:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",children:[c.jsx(fp,{className:"w-3 h-3 mr-1"}),"Valid"]}):c.jsxs(Ot,{className:"bg-red-500/20 text-red-400 border-red-500/30",children:[c.jsx(yi,{className:"w-3 h-3 mr-1"}),"Issues Found"]}),g.changes.length>0&&c.jsxs(Ot,{className:"bg-purple-500/20 text-purple-400 border-purple-500/30",children:[g.changes.length," Changes"]})]})]}),c.jsxs(ho,{className:"text-slate-400",children:[i,"  Review AI-suggested changes before applying"]})]}),f?c.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-3",children:[c.jsx(Er,{className:"w-8 h-8 animate-spin text-purple-400"}),c.jsx("p",{className:"text-sm text-slate-400",children:"Validating strategy code..."})]}):g?c.jsxs(RO,{value:x,onValueChange:b,className:"flex-1 flex flex-col min-h-0",children:[c.jsxs(R1,{className:"flex-shrink-0 bg-black/30 border-white/10",children:[c.jsxs(Ia,{value:"preview",className:"data-[state=active]:bg-white/10",children:[c.jsx(Fy,{className:"w-4 h-4 mr-1"}),"Diff Preview"]}),c.jsxs(Ia,{value:"changes",className:"data-[state=active]:bg-white/10",children:[c.jsx(LC,{className:"w-4 h-4 mr-1"}),"Changes (",g.changes.length,")"]}),g.errors.length>0&&c.jsxs(Ia,{value:"errors",className:"data-[state=active]:bg-white/10 text-red-400",children:[c.jsx(yi,{className:"w-4 h-4 mr-1"}),"Errors (",g.errors.length,")"]}),g.warnings.length>0&&c.jsxs(Ia,{value:"warnings",className:"data-[state=active]:bg-white/10 text-amber-400",children:[c.jsx(yi,{className:"w-4 h-4 mr-1"}),"Warnings (",g.warnings.length,")"]})]}),c.jsx(La,{value:"preview",className:"flex-1 min-h-0 mt-0 pt-4",children:c.jsx("div",{className:"h-full rounded-md border border-white/10 overflow-hidden",children:c.jsx(d1,{height:"100%",language:"python",theme:"vs-dark",original:n,modified:g.code,options:{readOnly:!0,renderSideBySide:!0,minimap:{enabled:!1},scrollBeyondLastLine:!1,automaticLayout:!0,fontSize:13,fontFamily:"'JetBrains Mono', monospace"}})})}),c.jsx(La,{value:"changes",className:"flex-1 min-h-0 mt-0 pt-4",children:c.jsx(qs,{className:"h-full",children:c.jsxs("div",{className:"space-y-3 pr-4",children:[g.changes.map((A,L)=>c.jsxs("div",{className:"rounded-lg border border-white/10 bg-black/30 p-4 hover:border-purple-500/30 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Ot,{className:Ce("text-[10px]",A.type.includes("add")?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30":"bg-amber-500/20 text-amber-400 border-amber-500/30"),children:A.type.replace("_"," ")}),A.targetLine&&c.jsxs("span",{className:"text-[10px] text-slate-500",children:["Line ",A.targetLine]})]}),c.jsx("p",{className:"text-sm text-slate-300 mb-2",children:A.description}),c.jsx("pre",{className:"text-xs bg-black/50 rounded p-2 overflow-x-auto text-slate-400 font-mono",children:A.snippet})]},L)),g.changes.length===0&&c.jsx("div",{className:"text-center text-slate-500 py-8",children:"No changes proposed"})]})})}),c.jsx(La,{value:"errors",className:"flex-1 min-h-0 mt-0 pt-4",children:c.jsx(qs,{className:"h-full",children:c.jsx("div",{className:"space-y-2 pr-4",children:g.errors.map((A,L)=>c.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg border border-red-500/20 bg-red-500/10",children:[c.jsx(yi,{className:"w-4 h-4 text-red-400 mt-0.5 flex-shrink-0"}),c.jsx("span",{className:"text-sm text-red-200",children:A})]},L))})})}),c.jsx(La,{value:"warnings",className:"flex-1 min-h-0 mt-0 pt-4",children:c.jsx(qs,{className:"h-full",children:c.jsx("div",{className:"space-y-2 pr-4",children:g.warnings.map((A,L)=>c.jsxs("div",{className:"flex items-start gap-2 p-3 rounded-lg border border-amber-500/20 bg-amber-500/10",children:[c.jsx(yi,{className:"w-4 h-4 text-amber-400 mt-0.5 flex-shrink-0"}),c.jsx("span",{className:"text-sm text-amber-200",children:A})]},L))})})})]}):null,c.jsxs(Cm,{className:"flex-shrink-0 gap-2",children:[c.jsxs(Ge,{variant:"ghost",onClick:P,className:"text-slate-400 hover:text-slate-200 hover:bg-white/5",children:[c.jsx(xu,{className:"w-4 h-4 mr-1"}),"Cancel"]}),g&&!f&&c.jsxs(c.Fragment,{children:[c.jsxs(Ge,{variant:"outline",onClick:w,className:"border-white/10 text-slate-300 hover:bg-white/5",children:[c.jsx(n0,{className:"w-4 h-4 mr-1"}),"Re-validate"]}),c.jsx(Ge,{variant:"outline",onClick:N,disabled:k||!g.valid,className:Ce("border-white/10",k?"bg-emerald-500/20 text-emerald-400 border-emerald-500/30":"text-slate-300 hover:bg-white/5"),children:k?c.jsxs(c.Fragment,{children:[c.jsx(fp,{className:"w-4 h-4 mr-1"}),"Applied"]}):c.jsxs(c.Fragment,{children:[c.jsx(Fy,{className:"w-4 h-4 mr-1"}),"Apply to Editor"]})}),c.jsxs(Ge,{onClick:j,disabled:!k,className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-500 hover:to-purple-600 text-white",children:[c.jsx(Wp,{className:"w-4 h-4 mr-1"}),"Apply & Save"]})]})]})]})})}function LO(){return ti({queryKey:[lt.files.list.path],queryFn:async()=>{const e=await fetch(lt.files.list.path,{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch files");return lt.files.list.responses[200].parse(await e.json())},refetchInterval:!1,refetchIntervalInBackground:!1})}function OO(e){return ti({queryKey:[lt.files.get.path,e],enabled:!!e,queryFn:async()=>{if(!e)return null;const t=Oo(lt.files.get.path,{id:e}),n=await fetch(t,{credentials:"include"});if(!n.ok)throw new Error("Failed to fetch file");return lt.files.get.responses[200].parse(await n.json())}})}function MO(){const e=Oi(),{toast:t}=pu();return xi({mutationFn:async({id:n,content:i})=>{const o=Oo(lt.files.update.path,{id:n}),l=await fetch(o,{method:lt.files.update.method,headers:{"Content-Type":"application/json"},body:JSON.stringify({content:i}),credentials:"include"});if(!l.ok)throw new Error("Failed to update file");return lt.files.update.responses[200].parse(await l.json())},onSuccess:n=>{e.invalidateQueries({queryKey:[lt.files.list.path]}),e.invalidateQueries({queryKey:[lt.files.get.path,n.id]}),t({title:"File saved",description:"Your changes have been saved."})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function DO(){const{theme:e,setTheme:t}=q0(),n=y.useRef(e);return y.useEffect(()=>{t("dark");const i=window.document.documentElement;i.classList.add("neo-world");const o=()=>{const l=window.visualViewport?.height??window.innerHeight,d=window.screen?.height??l,f=Math.abs(l-d)<=4,m=!!document.fullscreenElement,g=f||m?92:0;i.style.setProperty("--workspace-safe-bottom",`${g}px`)};return o(),window.addEventListener("resize",o),window.addEventListener("fullscreenchange",o),()=>{window.removeEventListener("resize",o),window.removeEventListener("fullscreenchange",o),i.style.removeProperty("--workspace-safe-bottom"),i.classList.remove("neo-world"),t(n.current)}},[t]),y.useEffect(()=>{e!=="dark"&&t("dark")},[e,t]),{theme:e}}function I1(){return ti({queryKey:["config"],queryFn:async()=>{const e=await fetch("/api/config/get",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error("Failed to fetch config");return e.json()},staleTime:6e4})}async function FO(e){const t=Oo(lt.data.download.path),n=await fetch(t,{method:lt.data.download.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const i=await n.json().catch(()=>({message:"Download failed"}));throw new Error(i.message||`Download failed (${n.status})`)}return n.json()}function zO(){return xi({mutationFn:FO})}function $O(){return ti({queryKey:[lt.backtests.list.path],queryFn:async()=>{const e=await fetch(lt.backtests.list.path,{credentials:"include"});if(!e.ok)throw new Error("Failed to fetch backtests");return lt.backtests.list.responses[200].parse(await e.json())},refetchInterval:e=>{const t=e.state.data;return Array.isArray(t)&&t.some(n=>n?.status==="running")?2e3:!1},refetchIntervalInBackground:!1})}function BO(e){return ti({queryKey:[lt.backtests.get.path,e],enabled:!!e,queryFn:async()=>{if(!e)return null;const t=Oo(lt.backtests.get.path,{id:e}),n=await fetch(t,{credentials:"include"});if(!n.ok)throw new Error("Failed to fetch backtest details");return lt.backtests.get.responses[200].parse(await n.json())},refetchInterval:t=>{const n=t.state.data,i=!!n?.results;return n?.status==="running"||n?.status==="completed"&&!i?1e3:!1}})}function VO(){const e=Oi(),{toast:t}=pu();return xi({mutationFn:async n=>{const i=await fetch(lt.backtests.run.path,{method:lt.backtests.run.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(n),credentials:"include"});if(!i.ok){const o=await i.json().catch(()=>({})),l=o?.message||o?.error||`Server error: ${i.status} ${i.statusText}`;throw new Error(l)}return lt.backtests.run.responses[201].parse(await i.json())},onSuccess:n=>{e.invalidateQueries({queryKey:[lt.backtests.list.path]}),t({title:"Backtest started",description:`Started backtest for ${n.strategyName}`})},onError:n=>{t({title:"Error",description:n.message,variant:"destructive"})}})}function UO(){const{data:e}=I1(),[t,n]=y.useState(!1),[i,o]=y.useState(!1),[l,d]=y.useState("5m"),[f,m]=y.useState("30d"),[g,h]=y.useState(()=>kr(30)),[x,b]=y.useState([]),[k,C]=y.useState(!1),[w,N]=y.useState(""),[j,P]=y.useState(0),[A,L]=y.useState(1),[F,H]=y.useState("preset"),[I,J]=y.useState(!1),[se,ae]=y.useState({status:"idle"}),[K,ee]=y.useState([]),de=zO(),le=VO();y.useEffect(()=>{try{const D=localStorage.getItem(Zv);if(!D){o(!0);return}const M=JSON.parse(D);if(!M||typeof M!="object"){o(!0);return}if(typeof M.timeframe=="string"&&ou.includes(M.timeframe)&&d(M.timeframe),typeof M.timerangePreset=="string"&&m(M.timerangePreset),typeof M.timerange=="string"&&h(M.timerange),Array.isArray(M.pairs)){const B=M.pairs.map(re=>String(re)).filter(Boolean);B.length&&b(B)}Number.isFinite(Number(M.stake))&&P(Number(M.stake)),Number.isFinite(Number(M.maxOpenTrades))&&L(Number(M.maxOpenTrades)),M.maxTradesMode==="custom"&&H("custom"),typeof M.maxTradesUserSet=="boolean"&&J(M.maxTradesUserSet),n(!0)}catch{Qt("workspace:quickBacktest:load","Failed to load workspace quick backtest settings",new Error("localStorage read/parse failed"),{showToast:!0})}finally{o(!0)}},[]),y.useEffect(()=>{if(t||!e||typeof e!="object")return;const D=e?.timeframe;typeof D=="string"&&ou.includes(D)&&d(D);const M=e?.stake_amount,B=typeof M=="number"?M:typeof M=="string"?Number(M):NaN;Number.isFinite(B)&&P(B);const re=Number(e?.max_open_trades);Number.isFinite(re)&&L(re);const fe=e?.exchange?.pair_whitelist??e?.pairlists?.[0]?.pair_whitelist;Array.isArray(fe)&&fe.length&&b(fe.map(ye=>String(ye)).filter(Boolean).slice(0,20))},[e,t]),y.useEffect(()=>{if(i)try{localStorage.setItem(Zv,JSON.stringify({timeframe:l,timerangePreset:f,timerange:g,pairs:x,stake:j,maxOpenTrades:A,maxTradesMode:F,maxTradesUserSet:I}))}catch{Qt("workspace:quickBacktest:save","Failed to save workspace quick backtest settings",new Error("localStorage write failed"),{showToast:!0})}},[F,I,i,A,x,j,l,g,f]),y.useEffect(()=>{if(!i||I)return;const D=Array.isArray(x)?x.length:0,M=Math.max(1,D);L(re=>Number(re)===M?re:M),H(new Set([1,2,3,5,10,15,20,30]).has(M)?"preset":"custom")},[I,i,x]);const ue=D=>{b(M=>{const B=Array.isArray(M)?[...M]:[],re=B.indexOf(D);return re>=0?B.splice(re,1):B.push(D),B})},q=D=>b([...D]),Q=()=>b([]),$=D=>{n(!0),m(D),D==="30d"?h(kr(30)):D==="60d"?h(kr(60)):D==="90d"?h(kr(90)):D==="180d"?h(kr(180)):D==="365d"?h(kr(365)):D==="ytd"&&h(Yv())},ne=y.useCallback(D=>{const M=String(D||"").trim();M&&ee(B=>(Array.isArray(B)?[...B,M]:[M]).slice(-200))},[]),G=y.useCallback(()=>new Date().toISOString().slice(0,10).replace(/-/g,""),[]),T=y.useCallback(()=>{if(f!=="custom")if(f==="30d")h(kr(30));else if(f==="60d")h(kr(60));else if(f==="90d")h(kr(90));else if(f==="180d")h(kr(180));else if(f==="365d")h(kr(365));else if(f==="ytd")h(Yv());else{const D=g.match(/^(\d{8})-(\d{8})$/);if(!D)return;const M=D[1],B=G();if(D[2]===B)return;h(`${M}-${B}`)}},[g,f,G]);y.useEffect(()=>{if(T(),f==="custom")return;const D=new Date,M=Date.UTC(D.getUTCFullYear(),D.getUTCMonth(),D.getUTCDate()+1,0,0,0,0)-D.getTime();if(!Number.isFinite(M)||M<=0)return;const B=window.setTimeout(()=>{T()},M+250);return()=>window.clearTimeout(B)},[f,T]);const _=y.useCallback(async()=>{if(!x.length){Qt("download-data","No pairs selected",null,{showToast:!0});return}if(!l){Qt("download-data","No timeframe selected",null,{showToast:!0});return}const D=g.match(/^(\d{8})-(\d{8})$/),M=D?`${D[1].slice(0,4)}-${D[1].slice(4,6)}-${D[1].slice(6,8)}`:void 0,B=D?`${D[2].slice(0,4)}-${D[2].slice(4,6)}-${D[2].slice(6,8)}`:void 0;try{ae({status:"downloading",message:`Downloading ${x.length} pairs...`}),ne(`Starting download: ${x.length} pairs, tf=${l}, range=${g||"(none)"}`);const re=await de.mutateAsync({pairs:x,timeframes:[l],date_from:M,date_to:B});if(re.success){const fe=re.missing?.length??0;if(fe>0){ae({status:"success",message:`Downloaded with ${fe} pairs missing`});const ye=(re.missing??[]).map(ze=>{if(typeof ze=="string")return ze;if(ze&&typeof ze=="object"){const Ye=typeof ze.pair=="string"?ze.pair:typeof ze.symbol=="string"?ze.symbol:"",Me=typeof ze.timeframe=="string"?ze.timeframe:"";if(Ye&&Me)return`${Ye} (${Me})`;if(Ye)return Ye;try{return JSON.stringify(ze)}catch{return String(ze)}}return String(ze)}).filter(ze=>String(ze||"").trim().length>0);ne(`Download complete (missing ${fe}): ${ye.join(", ")}`)}else ae({status:"success",message:"Download complete"}),ne("Download complete");setTimeout(()=>ae({status:"idle"}),5e3)}else ae({status:"error",message:"Download failed"}),ne("Download failed")}catch(re){ae({status:"error",message:String(re)}),ne(`Download error: ${String(re)}`)}},[ne,de,x,l,g]),O=async(D,M)=>{try{if(!M||!D)throw new Error("Open a strategy file first.");const B=Array.isArray(x)?x.map(Me=>String(Me)).filter(Boolean):[];if(!B.length)throw new Error("No pairs selected. Add exchange.pair_whitelist (or pairlists[0].pair_whitelist) in config and select pairs.");const re=Number(j);if(!Number.isFinite(re)||re<=0)throw new Error("Stake amount must be a positive number.");const fe={timeframe:l,stake_amount:re,max_open_trades:Number(A),pairs:B.length?B:void 0};g.trim()&&(fe.timerange=g.trim()),ne(`Starting backtest: tf=${l}, pairs=${B.length}, stake=${re}, max_open_trades=${Number(A)}, timerange=${fe.timerange??"(none)"}`);const ye=await le.mutateAsync({strategyName:D,config:fe}),ze=Number(ye?.id),Ye=Number.isFinite(ze)?ze:null;return ne(`Backtest started${Ye!=null?` (#${Ye})`:""}`),Ye}catch(B){throw ne(`Backtest error: ${String(B)}`),B}},X=y.useCallback(()=>{ee([])},[]);return{configData:e,quickTimeframe:l,setQuickTimeframe:d,quickTimerangePreset:f,setQuickTimerangePreset:m,quickTimerange:g,setQuickTimerange:h,quickSelectedPairs:x,setQuickSelectedPairs:b,pairsOpen:k,setPairsOpen:C,pairsQuery:w,setPairsQuery:N,quickStake:j,setQuickStake:P,quickMaxOpenTrades:A,setQuickMaxOpenTrades:L,maxTradesMode:F,setMaxTradesMode:H,maxTradesUserSet:I,setMaxTradesUserSet:J,downloadStatus:se,downloadLog:K,clearDownloadLog:X,quickConfigLoaded:i,setQuickConfigTouched:n,toggleQuickPair:ue,selectAllQuickPairs:q,clearQuickPairs:Q,handleTimerangePresetChange:$,handleDownloadData:_,handleRunQuickBacktest:O,isDownloading:de.isPending,isRunningBacktest:le.isPending,downloadData:de,runBacktest:le}}function WO(){const[e,t]=y.useState("checking"),[n,i]=y.useState("checking"),o=gm();return y.useEffect(()=>{o.isLoading?t("checking"):o.isError?t("disconnected"):o.data&&t("connected")},[o.data,o.isError,o.isLoading]),y.useEffect(()=>{const l=async()=>{try{const f=await fetch("/api/freqtrade/version",{credentials:"include"});if(!f.ok){i("disconnected");return}const m=await f.json().catch(()=>null);i(m?.ok?"connected":"disconnected")}catch{Qt("workspace:cliStatus","CLI connection check failed",new Error("Failed to reach /api/freqtrade/version"),{showToast:!1}),i("disconnected")}};l();const d=window.setInterval(l,3e4);return()=>window.clearInterval(d)},[]),{aiStatus:e,cliStatus:n}}function qO(e,t,n,i){const o=Oi(),{data:l}=I1(),[d,f]=y.useState(null),{data:m,isLoading:g}=BO(d),h=$O(),[x,b]=y.useState(null),[k,C]=y.useState("code"),[w,N]=y.useState(null),[j,P]=y.useState(!1),[A,L]=y.useState("all"),[F,H]=y.useState("all"),[I,J]=y.useState(""),[se,ae]=y.useState(1),[K,ee]=y.useState(50),[de,le]=y.useState("trades"),[ue,q]=y.useState({key:"profit",dir:"desc"}),Q=y.useMemo(()=>({pair:140,open:170,close:170,duration:100,profitPct:90,profitAbs:110,exit:140}),[]),[$,ne]=y.useState(Q),G=y.useRef(null);y.useEffect(()=>{try{const ce=localStorage.getItem(Gv);if(!ce)return;const Z=JSON.parse(ce);if(!Z||typeof Z!="object")return;const V={...Q};for(const[xe,ke]of Object.entries(Z)){const Ne=typeof ke=="number"?ke:typeof ke=="string"?Number(ke):NaN;Ne!=null&&Ne>=60&&Ne<=800&&(V[xe]=Ne)}ne(V)}catch(ce){Qt("workspace:tradesColWidths:load","Failed to load trades table column widths",ce,{showToast:!0})}},[Q]),y.useEffect(()=>{try{localStorage.setItem(Gv,JSON.stringify($))}catch(ce){Qt("workspace:tradesColWidths:save","Failed to save trades table column widths",ce,{showToast:!0})}},[$]),y.useEffect(()=>{ae(ce=>ce===1?ce:1)},[K]),y.useEffect(()=>{ae(1)},[A,F,I,d]);const T=y.useCallback(()=>{G.current=null,window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",T),document.body.style.cursor="",document.body.style.userSelect=""},[]),_=y.useCallback(ce=>{const Z=G.current;if(!Z)return;const V=ce.clientX-Z.startX,xe=Math.max(60,Math.min(800,Z.startWidth+V));ne(ke=>ke[Z.key]===xe?ke:{...ke,[Z.key]:xe})},[]),O=y.useCallback(ce=>Z=>{Z.preventDefault(),Z.stopPropagation();const V=Number($[ce]??Q[ce]??120);G.current={key:ce,startX:Z.clientX,startWidth:V},document.body.style.cursor="col-resize",document.body.style.userSelect="none",window.addEventListener("mousemove",_),window.addEventListener("mouseup",T)},[Q,T,_,$]);y.useEffect(()=>()=>{window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",T)},[T,_]);const X=y.useMemo(()=>{if(!e)return null;if(!h.data)return;const Z=(Array.isArray(h.data)?h.data:[]).filter(ke=>String(ke?.strategyName||"")===e);if(!Z.length)return null;let V=Z[0];for(const ke of Z){const Ne=$e(V?.id)??-1;($e(ke?.id)??-1)>Ne&&(V=ke)}const xe=$e(V?.id);return xe!=null?Math.floor(xe):null},[e,h.data]);y.useEffect(()=>{if(!e){d!=null&&f(null);return}if(X!==void 0){if(X==null){d!=null&&f(null);return}d!==X&&(f(X),P(!1))}},[e,d,X]);const D=m?.results,M=y.useMemo(()=>{const ce=D;if(!ce||typeof ce!="object")return null;if(ce?.strategy&&typeof ce.strategy=="object"){const Z=Object.keys(ce.strategy);if(Z.length)return ce.strategy[Z[0]]}return ce},[D]),B=y.useMemo(()=>{const ce=M;return!ce||typeof ce!="object"?[]:Array.isArray(ce.trades)?ce.trades:[]},[M]),re=y.useMemo(()=>{const ce=new Set;for(const Z of B){const V=typeof Z?.pair=="string"?String(Z.pair):"";V&&ce.add(V)}return Array.from(ce).sort((Z,V)=>Z.localeCompare(V))},[B]),fe=y.useMemo(()=>{const ce=new Map;for(const Z of re)ce.set(Z,0);for(const Z of B){const V=typeof Z?.pair=="string"?String(Z.pair):"";if(!V)continue;const xe=$e(Z?.profit_abs),ke=$e(Z?.profit_ratio),Ne=xe??ke??0;F==="profit"&&Ne<=0||F==="loss"&&Ne>=0||ce.set(V,(ce.get(V)??0)+1)}return ce},[B,re,F]),ye=y.useMemo(()=>{const ce=I.trim().toLowerCase();return B.filter(Z=>{const V=typeof Z?.pair=="string"?String(Z.pair):"";if(A!=="all"&&V!==A)return!1;const xe=$e(Z?.profit_abs),ke=$e(Z?.profit_ratio),Ne=xe??ke??0;if(F==="profit"&&Ne<=0||F==="loss"&&Ne>=0)return!1;if(!ce)return!0;const Ie=typeof Z?.exit_reason=="string"?String(Z.exit_reason):"",Xe=typeof Z?.open_date=="string"?String(Z.open_date):"",at=typeof Z?.close_date=="string"?String(Z.close_date):"";return V.toLowerCase().includes(ce)||Ie.toLowerCase().includes(ce)||Xe.toLowerCase().includes(ce)||at.toLowerCase().includes(ce)})},[B,A,F,I]),ze=y.useMemo(()=>{const ce=ye.length;if(K==="all")return{page:1,maxPage:1,total:ce,rows:ye};const Z=K,V=Math.max(1,Math.ceil(ce/Z)),xe=Math.min(Math.max(1,se),V),ke=(xe-1)*Z,Ne=ke+Z;return{page:xe,maxPage:V,total:ce,rows:ye.slice(ke,Ne)}},[ye,se,K]),Ye=y.useMemo(()=>{let ce=0,Z=0,V=0,xe=0,ke=0,Ne=0,Ie=0,Xe=0,at=0;const Tt=new Set;for(const Et of ye){const Wt=typeof Et?.pair=="string"?String(Et.pair):"";Wt&&Tt.add(Wt);const qn=$e(Et?.trade_duration)??(()=>{const xs=vi(Et?.open_date),bn=vi(Et?.close_date);if(xs==null||bn==null)return null;const Rn=bn-xs;return!Number.isFinite(Rn)||Rn<0?null:Rn/(1e3*60)})();qn!=null&&(ce+=qn,Z+=1);const Dt=$e(Et?.profit_abs);Dt!=null&&(V+=Dt,Dt>0?(xe+=Dt,Ne+=1):Dt<0&&(ke+=Math.abs(Dt),Ie+=1));const xn=$e(Et?.profit_ratio);xn!=null&&(Xe+=xn*100,at+=1)}return{pairsCount:Tt.size,durationMin:ce,durationCount:Z,netProfitAbs:V,grossProfitAbs:xe,grossLossAbs:ke,wins:Ne,losses:Ie,profitPctAvg:at?Xe/at:null}},[ye]),Me=y.useMemo(()=>{const ce=M;if(!ce||typeof ce!="object")return null;const Z=m?.config,V=typeof Z?.timeframe=="string"?String(Z.timeframe):null,xe=typeof Z?.timerange=="string"?String(Z.timerange):null,ke=$e(Z?.max_open_trades),Ne=$e(ce.starting_balance)??$e(ce.start_balance)??$e(ce.dry_run_wallet),Ie=$e(ce.final_balance)??$e(ce.end_balance),Xe=$e(ce.profit_total_abs)??$e(ce.profit_abs_total)??(Ne!=null&&Ie!=null?Ie-Ne:null),at=$e(ce.profit_total),Tt=at!=null?Math.abs(at)<=2?at*100:at:null,Et=$e(ce.profit_total_pct)??Tt??(Ne!=null&&Xe!=null&&Ne!==0?Xe/Ne*100:null),Wt=$e(ce.max_drawdown_account)??$e(ce.max_drawdown),qn=Wt!=null?Math.abs(Wt)<=2?Wt*100:Wt:null,Dt=$e(ce.total_trades),xn=$e(ce.winrate)??$e(ce.win_rate),xs=xn!=null?Math.abs(xn)<=2?xn*100:xn:null;let bn=$e(ce.sharpe)??$e(ce.sharpe_ratio),Rn=$e(ce.sortino)??$e(ce.sortino_ratio);const Xr=$e(ce.cagr);let mr=Xr!=null?Math.abs(Xr)<=2?Xr*100:Xr:null;const Jr=$e(ce.profit_factor);let bs=null;if(Jr==null&&Array.isArray(B)&&B.length){let pe=0,_e=0;for(const we of B){const Le=$e(we?.profit_abs);Le!=null&&(Le>0?pe+=Le:Le<0&&(_e+=Math.abs(Le)))}_e>0&&(bs=pe/_e)}const ri=Jr??bs,ws=typeof ce.stake_currency=="string"?ce.stake_currency:typeof l?.stake_currency=="string"?String(l.stake_currency):"",en=(()=>{if(!Array.isArray(B)||B.length===0)return null;let pe=null,_e=null;for(const we of B){const Le=vi(we?.open_date),Ke=vi(we?.close_date);Le!=null&&(pe=pe==null?Le:Math.min(pe,Le)),Ke!=null&&(_e=_e==null?Ke:Math.max(_e,Ke))}return pe==null||_e==null?null:{minOpen:pe,maxClose:_e}})(),In=(()=>{const pe=$e(ce.backtest_days);if(pe!=null)return pe;if(!en)return null;const _e=(en.maxClose-en.minOpen)/(1e3*60*60*24);return!Number.isFinite(_e)||_e<=0?null:_e})(),U=(()=>{const pe=$e(ce.trades_per_day);if(pe!=null)return pe;const _e=Dt??(Array.isArray(B)?B.length:0);return!In||In<=0?null:_e/In})(),oe=(()=>{const pe=typeof ce.backtest_start=="string"?ce.backtest_start:null,_e=typeof ce.backtest_end=="string"?ce.backtest_end:null;if(pe&&_e)return{start:pe,end:_e};if(!en)return{start:pe,end:_e};const we=new Date(en.minOpen).toISOString().slice(0,10),Le=new Date(en.maxClose).toISOString().slice(0,10);return{start:pe??we,end:_e??Le}})();if((bn==null||Rn==null||mr==null)&&Ne!=null&&Ne>0&&en){const pe=new Map;for(const we of B){const Le=vi(we?.close_date),Ke=$e(we?.profit_abs);if(Le==null||Ke==null)continue;const Nt=new Date(Le).toISOString().slice(0,10);pe.set(Nt,(pe.get(Nt)??0)+Ke)}const _e=Array.from(pe.keys()).sort((we,Le)=>we.localeCompare(Le));if(_e.length>=2){let we=Ne;const Le=[],Ke=[];for(const et of _e){const Zt=pe.get(et)??0;if(we>0){const Te=Zt/we;Le.push(Te),Te<0&&Ke.push(Te)}we+=Zt}const Nt=et=>et.reduce((Zt,Te)=>Zt+Te,0)/et.length,yt=et=>{if(et.length<2)return 0;const Zt=Nt(et),Te=et.reduce(($t,Bt)=>$t+(Bt-Zt)*(Bt-Zt),0)/(et.length-1);return Math.sqrt(Te)},qt=0,rr=Nt(Le),tn=yt(Le),wn=yt(Ke);if(bn==null&&tn>0&&(bn=(rr-qt)/tn*Math.sqrt(365)),Rn==null&&wn>0&&(Rn=(rr-qt)/wn*Math.sqrt(365)),mr==null){const et=Math.max(1,(en.maxClose-en.minOpen)/864e5),Zt=we;if(Zt>0&&et>0){const Te=Math.pow(Zt/Ne,365/et)-1;Number.isFinite(Te)&&(mr=Te*100)}}}}return{startingBalance:Ne,finalBalance:Ie,profitAbs:Xe,profitPct:Et,ddPct:qn,totalTrades:Dt,winratePct:xs,sharpe:bn,sortino:Rn,cagrPct:mr,profitFactor:ri,stakeCurrency:ws,timeframe:typeof ce.timeframe=="string"?ce.timeframe:V,timerange:typeof ce.timerange=="string"?ce.timerange:xe,backtestStart:oe.start,backtestEnd:oe.end,backtestDays:In,tradesPerDay:U,maxOpenTrades:$e(ce.max_open_trades)??ke,bestPair:ce.best_pair&&typeof ce.best_pair=="object"?ce.best_pair:null,worstPair:ce.worst_pair&&typeof ce.worst_pair=="object"?ce.worst_pair:null,perPair:Array.isArray(ce.results_per_pair)?ce.results_per_pair:[]}},[B,l,m,M]),gt=y.useMemo(()=>(Me?.perPair??[]).filter(V=>($e(V?.trades)??0)>0).slice().sort((V,xe)=>($e(xe?.profit_total_abs)??0)-($e(V?.profit_total_abs)??0)).slice(0,6),[Me?.perPair]),pt=y.useMemo(()=>(Me?.perPair??[]).filter(V=>($e(V?.trades)??0)>0).slice().sort((V,xe)=>($e(V?.profit_total_abs)??0)-($e(xe?.profit_total_abs)??0)).slice(0,6),[Me?.perPair]);y.useEffect(()=>{if(!d||w===d)return;String(m?.status||"")==="completed"&&D&&(N(d),C(V=>V==="diff"?V:"results"))},[m,d,D,w]),y.useEffect(()=>{d&&d!==w&&N(null)},[d]);const vn=y.useCallback(async({strategyPath:ce,edits:Z,dryRun:V})=>{const xe=String(ce||"").trim();if(!xe.startsWith("user_data/strategies/")||!xe.endsWith(".py"))throw new Error("strategyPath must be a .py file under user_data/strategies/");if(!Array.isArray(Z)||Z.length===0)throw new Error("No edits provided");if(n&&e&&e===xe)throw new Error("Save the file before requesting a validated edit preview.");const ke=await fetch(lt.strategies.edit.path,{method:lt.strategies.edit.method,headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({strategyPath:xe,edits:Z,dryRun:!!V})}),Ne=await ke.json().catch(()=>({}));if(!ke.ok){const at=Ne&&typeof Ne=="object"&&typeof Ne.message=="string"?String(Ne.message):"Rejected change(s)",Tt=Ne&&typeof Ne=="object"&&typeof Ne.details=="string"?String(Ne.details):"";throw new Error(Tt?`${at}: ${Tt}`:at)}const Ie=typeof Ne?.content=="string"?String(Ne.content):null,Xe=typeof Ne?.diff=="string"?String(Ne.diff):"";if(V){const at=i?.content??"";return Ie!=null&&(b({before:at,after:Ie,diff:Xe,updatedAt:Date.now()}),C("diff")),Ne}return o.invalidateQueries({queryKey:[lt.files.list.path]}),o.invalidateQueries({queryKey:[lt.files.getByPath.path,xe]}),t&&o.invalidateQueries({queryKey:[lt.files.get.path,t]}),Ne},[i,t,e,n,o]);return{lastBacktest:m,lastBacktestId:d,setLastBacktestId:f,diffState:x,setDiffState:b,centerMode:k,setCenterMode:C,resultsAdvancedOpen:j,setResultsAdvancedOpen:P,tradesFilterPair:A,setTradesFilterPair:L,tradesFilterPnL:F,setTradesFilterPnL:H,tradesSearch:I,setTradesSearch:J,tradesPage:se,setTradesPage:ae,tradesPageSize:K,setTradesPageSize:ee,tradesViewTab:de,setTradesViewTab:le,perPairSort:ue,setPerPairSort:q,tradeColWidths:$,startResizeTradeCol:O,allTrades:B,tradePairs:re,tradePairCounts:fe,filteredTrades:ye,pagedTrades:ze,filteredTradesTotals:Ye,resultsSummary:Me,topPairs:gt,worstPairs:pt,onPreviewValidatedEdit:vn,normalizedResults:M,isBacktestLoading:g}}async function HO(e){const t=await fetch("/api/strategies/validate",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)});if(!t.ok){const n=await t.json().catch(()=>({}));throw new Error(n.message||"Validation failed")}return t.json()}function Jv(){const[,e]=lx();Oi(),DO();const[t,n]=y.useState(!0),[i,o]=y.useState(!1),l=y.useRef(null),{data:d,isLoading:f}=LO(),[m,g]=y.useState(""),h=y.useMemo(()=>{const M=(Array.isArray(d)?d:[]).filter(fe=>typeof fe?.path=="string"&&fe.path.startsWith("user_data/strategies/")&&fe.path.endsWith(".py")),B=m.trim().toLowerCase();return(B?M.filter(fe=>String(fe.path).toLowerCase().includes(B)||String(fe.path).split("/").pop()?.toLowerCase().includes(B)):M).sort((fe,ye)=>String(fe.path).localeCompare(String(ye.path)))},[d,m]),[x,b]=y.useState(null),{data:k}=OO(x),C=MO(),w=typeof k?.path=="string"?String(k.path):"",N=!!(w&&w.startsWith("user_data/strategies/")&&w.endsWith(".py")),[j,P]=y.useState(""),[A,L]=y.useState(!1),F=y.useRef(null),[H,I]=y.useState({selectedCode:"",lineNumber:1,columnNumber:1});y.useEffect(()=>{k&&(P(k.content??""),L(!1))},[k]);const J=D=>{A&&!confirm("You have unsaved changes. Discard them?")||b(D)},se=y.useCallback(async D=>{if(!x)return;const M=typeof D=="string"?D:F.current?.getValue?.()??j;await C.mutateAsync({id:x,content:M}),P(M),L(!1)},[x,j,C]),{aiStatus:ae,cliStatus:K}=WO(),[ee,de]=y.useState(!1),[le,ue]=y.useState(!1),q=y.useCallback(async()=>{!N||!w||de(!0)},[N,w]);y.useEffect(()=>{N||ue(!1)},[N]);const Q=UO(),$=y.useMemo(()=>{const D=Q.configData?.exchange?.pair_whitelist,M=Q.configData?.pairlists?.[0]?.pair_whitelist,B=[D,M].flatMap(ye=>Array.isArray(ye)?ye:[]).map(ye=>String(ye)).filter(ye=>ye.trim().length>0),re=new Set,fe=[];for(const ye of B)re.has(ye)||(re.add(ye),fe.push(ye));return fe},[Q.configData]),ne=y.useMemo(()=>{const D=Q.pairsQuery.trim().toLowerCase();return D?$.filter(M=>M.toLowerCase().includes(D)):$},[$,Q.pairsQuery]),G=qO(w,x,A,k);y.useEffect(()=>{G.setDiffState(null),G.setCenterMode("code")},[x]);const T=y.useCallback(D=>{F.current?.applyCode(D),P(F.current?.getValue?.()??j),L(!0)},[j]),_=y.useCallback(D=>{F.current?.applyCode(D);const M=F.current?.getValue?.()??j;P(M),L(!0),se(M).catch(B=>{Ep("Save failed",B)})},[j,se]),O=async()=>{const D=await Q.handleRunQuickBacktest(w,N);D!=null&&G.setLastBacktestId(D)},X=()=>{A&&!confirm("You have unsaved changes. Leave anyway?")||e("/")};return c.jsxs("div",{className:"h-[100dvh] w-full overflow-hidden bg-gradient-to-br from-[#05040a] via-[#0b0714] to-[#12061e] text-slate-100",style:{paddingBottom:"var(--workspace-safe-bottom, 0px)"},children:[c.jsx(WI,{activeFilePath:w,isDirty:A,isSaving:C.isPending,isStrategyFile:N,isRunningBacktest:Q.isRunningBacktest,aiStatus:ae,cliStatus:K,onNavigateBack:X,onSave:se,onValidate:q,inlineEditsEnabled:le,onToggleInlineEdits:()=>ue(D=>!D),onRunBacktest:()=>{Q.setQuickConfigTouched(!0),O().catch(D=>{Ep("Quick backtest failed",D)})}}),c.jsx(IO,{open:ee,onOpenChange:de,originalCode:j,strategyName:w,onValidate:()=>HO({strategyName:w,code:j,config:Q.configData&&typeof Q.configData=="object"?Q.configData:void 0}),onApply:async D=>{F.current?.applyCode(D);const M=F.current?.getValue?.()??D;P(M),L(!0)},onSave:async D=>{await se(D)}}),c.jsxs(DE,{direction:"horizontal",style:{height:"calc(100dvh - 3rem - var(--workspace-safe-bottom, 0px))"},children:[c.jsx(Of,{defaultSize:22,minSize:16,className:"bg-black/25",children:c.jsx(YI,{filesLoading:f,strategies:h,activeFileId:x,search:m,setSearch:g,onSelectFile:J,quickTimeframe:Q.quickTimeframe,setQuickTimeframe:Q.setQuickTimeframe,quickTimerangePreset:Q.quickTimerangePreset,setQuickTimerangePreset:Q.setQuickTimerangePreset,quickTimerange:Q.quickTimerange,setQuickTimerange:Q.setQuickTimerange,quickSelectedPairs:Q.quickSelectedPairs,setQuickSelectedPairs:Q.setQuickSelectedPairs,pairsOpen:Q.pairsOpen,setPairsOpen:Q.setPairsOpen,pairsQuery:Q.pairsQuery,setPairsQuery:Q.setPairsQuery,quickStake:Q.quickStake,setQuickStake:Q.setQuickStake,quickMaxOpenTrades:Q.quickMaxOpenTrades,setQuickMaxOpenTrades:Q.setQuickMaxOpenTrades,maxTradesMode:Q.maxTradesMode,setMaxTradesMode:Q.setMaxTradesMode,maxTradesUserSet:Q.maxTradesUserSet,setMaxTradesUserSet:Q.setMaxTradesUserSet,availablePairs:$,filteredPairs:ne,downloadStatus:Q.downloadStatus,downloadLog:Q.downloadLog,onClearDownloadLog:Q.clearDownloadLog,lastBacktestId:G.lastBacktestId,isDownloading:Q.isDownloading,toggleQuickPair:Q.toggleQuickPair,selectAllQuickPairs:()=>Q.selectAllQuickPairs($),clearQuickPairs:Q.clearQuickPairs,handleTimerangePresetChange:Q.handleTimerangePresetChange,handleDownloadData:Q.handleDownloadData,setQuickConfigTouched:Q.setQuickConfigTouched})}),c.jsx(av,{withHandle:!0}),c.jsx(Of,{defaultSize:53,minSize:30,className:"bg-black/10",children:c.jsx(mO,{centerMode:G.centerMode,setCenterMode:G.setCenterMode,activeFileId:x,diffState:G.diffState,lastBacktest:G.lastBacktest,isBacktestLoading:G.isBacktestLoading,quickParams:{enabled:N&&le,timeframe:{value:Q.quickTimeframe,options:["1m","5m","15m","30m","1h","2h","4h","1d"],onChangeBacktest:D=>{Q.setQuickConfigTouched(!0);const B=["1m","5m","15m","1h","4h","1d"].includes(D)?D:"4h";Q.setQuickTimeframe(B)}},timerange:{value:Q.quickTimerange,onChangeBacktest:D=>{Q.setQuickConfigTouched(!0),Q.setQuickTimerange(String(D||"").trim())}},stake:{value:Number(Q.quickStake??0),onChangeBacktest:D=>{Q.setQuickConfigTouched(!0),Q.setQuickStake(D)}},maxOpenTrades:{value:Number(Q.quickMaxOpenTrades??1),onChangeBacktest:D=>{Q.setQuickConfigTouched(!0),Q.setMaxTradesUserSet(!0),Q.setQuickMaxOpenTrades(D)}}},editorContent:j,setEditorContent:P,setIsDirty:L,onSave:se,editorState:H,setEditorState:I,isDirty:A,lastBacktestId:G.lastBacktestId,children:c.jsx(gO,{allTrades:G.allTrades,tradePairs:G.tradePairs,tradePairCounts:G.tradePairCounts,filteredTrades:G.filteredTrades,pagedTrades:G.pagedTrades,filteredTradesTotals:G.filteredTradesTotals,resultsSummary:G.resultsSummary,tradesViewTab:G.tradesViewTab,setTradesViewTab:G.setTradesViewTab,tradesFilterPair:G.tradesFilterPair,setTradesFilterPair:G.setTradesFilterPair,tradesFilterPnL:G.tradesFilterPnL,setTradesFilterPnL:G.setTradesFilterPnL,tradesSearch:G.tradesSearch,setTradesSearch:G.setTradesSearch,tradesPage:G.tradesPage,setTradesPage:G.setTradesPage,tradesPageSize:G.tradesPageSize,setTradesPageSize:G.setTradesPageSize,perPairSort:G.perPairSort,setPerPairSort:G.setPerPairSort,tradeColWidths:G.tradeColWidths,startResizeTradeCol:G.startResizeTradeCol,onSelectProfitablePairs:D=>{Q.setQuickSelectedPairs(D),Q.setQuickConfigTouched(!0)}})})}),c.jsx(av,{withHandle:!0}),c.jsx(Of,{ref:l,collapsible:!0,collapsedSize:0,minSize:20,defaultSize:25,className:"bg-black/25",onCollapse:()=>{n(!1),o(!0)},onExpand:()=>{n(!0)},children:c.jsx("div",{className:"h-full relative",children:c.jsx(UI,{isOpen:t,onToggle:()=>{n(D=>{const M=!D;return M||o(!0),M})},context:{fileName:N?w:void 0,fileContent:N?j:void 0,selectedCode:H.selectedCode,lineNumber:H.lineNumber,columnNumber:H.columnNumber,lastBacktest:G.lastBacktestId!=null?{id:G.lastBacktestId,strategyName:w,config:G.lastBacktest?.config}:void 0,backtestResults:G.resultsSummary?{profit_total:G.resultsSummary.profitPct??0,win_rate:G.resultsSummary.winratePct??0,max_drawdown:G.resultsSummary.ddPct??0,total_trades:Number(G.resultsSummary.totalTrades??0),avg_profit:void 0,sharpe:typeof G.resultsSummary.sharpe=="number"?G.resultsSummary.sharpe:void 0}:void 0},onApplyCode:T,onApplyAndSaveCode:_,onPreviewValidatedEdit:G.onPreviewValidatedEdit})})})]})]})}function QO(){return c.jsxs(XN,{children:[c.jsx(Cf,{path:"/",component:Jv}),c.jsx(Cf,{path:"/workspace",component:Jv}),c.jsx(Cf,{component:oE})]})}function KO(){return c.jsx(vk,{client:Ak,children:c.jsx(sE,{children:c.jsxs(nE,{delayDuration:0,children:[c.jsx(Tj,{}),c.jsx(QO,{})]})})})}PN.createRoot(document.getElementById("root")).render(c.jsx(KO,{}));
